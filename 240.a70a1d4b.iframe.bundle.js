/*! For license information please see 240.a70a1d4b.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[240],{"../node_modules/.pnpm/@lexical+clipboard@0.15.0/node_modules/@lexical/clipboard/LexicalClipboard.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bi:()=>_,Pv:()=>D,Z3:()=>N,lW:()=>O});var _lexical_html__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+html@0.15.0/node_modules/@lexical/html/LexicalHtml.prod.mjs"),_lexical_selection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");var w=function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,v=t=>y?(t||window).getSelection():null;function D(e){const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return null==n&&w(166),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)&&n.isCollapsed()||0===n.getNodes().length?"":(0,_lexical_html__WEBPACK_IMPORTED_MODULE_1__.g)(e,n)}function C(t){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return null==e&&w(166),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&e.isCollapsed()||0===e.getNodes().length?null:JSON.stringify(function A(t,e){const n=[],o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().getChildren();for(let l=0;l<o.length;l++)S(t,e,o[l],n);return{namespace:t._config.namespace,nodes:n}}(t,e))}function N(t,e){const n=t.getData("text/plain")||t.getData("text/uri-list");null!=n&&e.insertRawText(n)}function _(t,n,o){const l=t.getData("application/x-lexical-editor");if(l)try{const t=JSON.parse(l);if(t.namespace===o._config.namespace&&Array.isArray(t.nodes))return T(o,function R(t){const e=[];for(let o=0;o<t.length;o++){const l=t[o],r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.GM)(l);(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(r)&&(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_2__.Xg)(r),e.push(r)}return e}(t.nodes),n)}catch(t){}const r=t.getData("text/html");if(r)try{const t=(new DOMParser).parseFromString(r,"text/html");return T(o,(0,_lexical_html__WEBPACK_IMPORTED_MODULE_1__.d)(o,t),n)}catch(t){}const c=t.getData("text/plain")||t.getData("text/uri-list");if(null!=c)if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)){const t=c.split(/(\r?\n|\t)/);""===t[t.length-1]&&t.pop();for(let e=0;e<t.length;e++){const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)){const o=t[e];"\n"===o||"\r\n"===o?n.insertParagraph():"\t"===o?n.insertNodes([(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ev)()]):n.insertText(o)}}}else n.insertRawText(c)}function T(t,e,n){t.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.oq,{nodes:e,selection:n})||n.insertNodes(e)}function S(t,e,n,r=[]){let i=null===e||n.isSelected(e);const s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)&&n.excludeFromCopy("html");let a=n;if(null!==e){let t=(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_2__.BE)(n);t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)&&null!==e?(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_2__.SD)(e,t):t,a=t}const c=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(a)?a.getChildren():[],u=function(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&w(58,n.name),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)){const t=e.children;Array.isArray(t)||w(59,n.name)}return e}(a);if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(a)){const t=a.__text;t.length>0?u.text=t:i=!1}for(let o=0;o<c.length;o++){const l=c[o],r=S(t,e,l,u.children);!i&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)&&r&&n.extractWithChild(l,e,"clone")&&(i=!0)}if(i&&!s)r.push(u);else if(Array.isArray(u.children))for(let t=0;t<u.children.length;t++){const e=u.children[t];r.push(e)}return i}let E=null;async function O(t,e){if(null!==E)return!1;if(null!==e)return new Promise(((n,o)=>{t.update((()=>{n(P(t,e))}))}));const n=t.getRootElement(),o=null==t._window?window.document:t._window.document,l=v(t._window);if(null===n||null===l)return!1;const i=o.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(o.createTextNode("#")),n.append(i);const s=new Range;return s.setStart(i,0),s.setEnd(i,1),l.removeAllRanges(),l.addRange(s),new Promise(((e,n)=>{const l=t.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.u5,(n=>((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.xj)(n,ClipboardEvent)&&(l(),null!==E&&(window.clearTimeout(E),E=null),e(P(t,n))),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.d);E=window.setTimeout((()=>{l(),E=null,e(!1)}),50),o.execCommand("copy"),i.remove()}))}function P(t,e){const n=v(t._window);if(!n)return!1;const o=n.anchorNode,l=n.focusNode;if(null!==o&&null!==l&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.LY)(t,o,l))return!1;e.preventDefault();const r=e.clipboardData,s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(null===r||null===s)return!1;const a=D(t),c=C(t);let u="";return null!==s&&(u=s.getTextContent()),null!==a&&r.setData("text/html",a),null!==c&&r.setData("application/x-lexical-editor",c),r.setData("text/plain",u),!0}},"../node_modules/.pnpm/@lexical+code@0.15.0/node_modules/@lexical/code/LexicalCode.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$D:()=>U,PN:()=>he,QC:()=>M,SD:()=>I,a5:()=>D,iK:()=>A,mF:()=>K,xs:()=>q,yN:()=>V,yy:()=>Q});__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/prism.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-clike.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-javascript.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-markup.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-markdown.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-c.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-css.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-objectivec.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-sql.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-powershell.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-python.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-rust.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-swift.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-typescript.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-java.js"),__webpack_require__("../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-cpp.js");var _lexical_utils__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self&&self;var P=function w(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const k=e=>null!=e&&window.Prism.languages.hasOwnProperty(e)?e:void 0;function L(t,n){for(const r of t.childNodes){if((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.sb)(r)&&r.tagName===n)return!0;L(r,n)}return!1}const O="data-highlight-language";class A extends _lexical_utils__WEBPACK_IMPORTED_MODULE_16__.fG{static getType(){return"code"}static clone(e){return new A(e.__language,e.__key)}constructor(e,t){super(t),this.__language=k(e)}createDOM(e){const n=document.createElement("code");(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.ZB)(n,e.theme.code),n.setAttribute("spellcheck","false");const r=this.getLanguage();return r&&n.setAttribute(O,r),n}updateDOM(e,t,n){const r=this.__language,o=e.__language;return r?r!==o&&t.setAttribute(O,r):o&&t.removeAttribute(O),!1}exportDOM(e){const n=document.createElement("pre");(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.ZB)(n,e._config.theme.code),n.setAttribute("spellcheck","false");const r=this.getLanguage();return r&&n.setAttribute(O,r),{element:n}}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||L(e,"BR"))?{conversion:z,priority:1}:null,div:e=>({conversion:E,priority:1}),pre:e=>({conversion:z,priority:0}),table:e=>R(e)?{conversion:B,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")||n&&R(n)?{conversion:H,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&R(t)?{conversion:H,priority:3}:null}}}static importJSON(e){const t=M(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){const n=this.getChildren(),r=n.length;if(r>=2&&"\n"===n[r-1].getTextContent()&&"\n"===n[r-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===r){n[r-1].remove(),n[r-2].remove();const e=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.lJ)();return this.insertAfter(e,t),e}const{anchor:o,focus:a}=e,g=(o.isBefore(a)?o:a).getNode();if((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.kF)(g)){let e=Y(g);const t=[];for(;;)if((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(e))t.push((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()),e=e.getNextSibling();else{if(!V(e))break;{let n=0;const r=e.getTextContent(),o=e.getTextContentSize();for(;n<o&&" "===r[n];)n++;if(0!==n&&t.push(G(" ".repeat(n))),n!==o)break;e=e.getNextSibling()}}const n=g.splitText(o.offset)[0],r=0===o.offset?0:1,i=n.getIndexWithinParent()+r,s=g.getParentOrThrow(),a=[(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.WK)(),...t];s.splice(i,0,a);const f=t[t.length-1];f?f.select():0===o.offset?n.selectPrevious():n.getNextSibling().selectNext(0,0)}if(D(g)){const{offset:t}=e.anchor;g.splice(t,0,[(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.WK)()]),g.select(t+1,t+1)}return null}canIndent(){return!1}collapseAtStart(){const e=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.lJ)();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}setLanguage(e){this.getWritable().__language=k(e)}getLanguage(){return this.getLatest().__language}}function M(e){return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.pT)(new A(e))}function D(e){return e instanceof A}function z(t){let n;return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.sb)(t)&&(n=t.getAttribute(O)),{node:M(n)}}function E(e){const t=e,n=J(t);return n||function(e){let t=e.parentElement;for(;null!==t;){if(J(t))return!0;t=t.parentElement}return!1}(t)?{node:n?M():null}:{node:null}}function B(){return{node:M()}}function H(){return{node:null}}function J(e){return null!==e.style.fontFamily.match("monospace")}function R(e){return e.classList.contains("js-file-line-container")}const F="javascript",K={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",powershell:"PowerShell",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},I={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function q(e){return I[e]||e}function U(e){const t=q(e);return K[t]||t}class Q extends _lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ey{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new Q(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}canHaveFormat(){return!1}createDOM(e){const n=super.createDOM(e),r=X(e.theme,this.__highlightType);return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.ZB)(n,r),n}updateDOM(e,r,o){const i=super.updateDOM(e,r,o),s=X(o.theme,e.__highlightType),l=X(o.theme,this.__highlightType);return s!==l&&(s&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.HE)(r,s),l&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.ZB)(r,l)),i}static importJSON(e){const t=G(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return M()}}function X(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function G(e,t){return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.pT)(new Q(e,t))}function V(e){return e instanceof Q}function Y(e){let t=e,n=e;for(;V(n)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(n);)t=n,n=n.getPreviousSibling();return t}function Z(e){let t=e,n=e;for(;V(n)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(n);)t=n,n=n.getNextSibling();return t}const ee={defaultLanguage:F,tokenize(e,t){return window.Prism.tokenize(e,window.Prism.languages[t||""]||window.Prism.languages[this.defaultLanguage])}};function re(e,t,n){const r=e.getParent();D(r)?se(r,t,n):V(e)&&e.replace((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.sT)(e.__text))}function oe(e,t){const n=t.getElementByKey(e.getKey());if(null===n)return;const r=e.getChildren(),o=r.length;if(o===n.__cachedChildrenLength)return;n.__cachedChildrenLength=o;let i="1",s=1;for(let e=0;e<o;e++)(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(r[e])&&(i+="\n"+ ++s);n.setAttribute("data-gutter",i)}const ie=new Set;function se(e,t,n){const r=e.getKey();ie.has(r)||(ie.add(r),void 0===e.getLanguage()&&e.setLanguage(n.defaultLanguage),t.update((()=>{!function(e,t){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ns)(e);if(!D(n)||!n.isAttached())return;const r=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(r))return void t();const o=r.anchor,i=o.offset,l="element"===o.type&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(n.getChildAtIndex(o.offset-1));let u=0;if(!l){const e=o.getNode();u=i+e.getPreviousSiblings().reduce(((e,t)=>e+t.getTextContentSize()),0)}t()&&(l?o.getNode().select(i,i):n.getChildren().some((e=>{const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.kF)(e);if(t||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(e)){const n=e.getTextContentSize();if(t&&n>=u)return e.select(u,u),!0;u-=n}return!1})))}(r,(()=>{const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ns)(r);if(!D(t)||!t.isAttached())return!1;const o=t.getTextContent(),i=le(n.tokenize(o,t.getLanguage()||n.defaultLanguage)),s=function(e,t){let n=0;for(;n<e.length&&ue(e[n],t[n]);)n++;const r=e.length,o=t.length,i=Math.min(r,o)-n;let s=0;for(;s<i;)if(s++,!ue(e[r-s],t[o-s])){s--;break}const u=r-s;return{from:n,nodesForReplacement:t.slice(n,o-s),to:u}}(t.getChildren(),i),{from:l,to:u,nodesForReplacement:c}=s;return!(l===u&&!c.length||(e.splice(l,u-l,c),0))}))}),{onUpdate:()=>{ie.delete(r)},skipTransforms:!0}))}function le(e,t){const n=[];for(const r of e)if("string"==typeof r){const e=r.split(/(\n|\t)/),o=e.length;for(let r=0;r<o;r++){const o=e[r];"\n"===o||"\r\n"===o?n.push((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.WK)()):"\t"===o?n.push((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()):o.length>0&&n.push(G(o,t))}}else{const{content:e}=r;"string"==typeof e?n.push(...le([e],r.type)):Array.isArray(e)&&n.push(...le(e,r.type))}return n}function ue(e,t){return V(e)&&V(t)&&e.__text===t.__text&&e.__highlightType===t.__highlightType||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(e)&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(t)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(e)&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(t)}function ce(e){if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(e))return!1;const t=e.anchor.getNode(),n=e.focus.getNode();if(t.is(n)&&D(t))return!0;const r=t.getParent();return D(r)&&r.is(n.getParent())}function ae(e){const t=e.getNodes(),n=[[]];if(1===t.length&&D(t[0]))return n;let r=n[0];for(let e=0;e<t.length;e++){const o=t[e];V(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)||P(169),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)?0!==e&&r.length>0&&(r=[],n.push(r)):r.push(o)}return n}function ge(e){const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(t)||!ce(t))return!1;const n=ae(t),r=n.length;if(n.length>1){for(let t=0;t<r;t++){const r=n[t];if(r.length>0){let n=r[0];0===t&&(n=Y(n)),null!==n&&(e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi?n.insertBefore((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()):(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(n)&&n.remove())}}return!0}const o=t.getNodes()[0];if(D(o)||V(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)||P(171),D(o))return e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi&&t.insertNodes([(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()]),!0;const i=Y(o);return null===i&&P(172),e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi?(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(i)?i.insertAfter((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()):i.insertBefore((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()):(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(i)&&i.remove(),!0}function fe(e,t){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(n))return!1;const{anchor:r,focus:o}=n,i=r.offset,s=o.offset,u=r.getNode(),c=o.getNode(),a=e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.UD;if(!ce(n)||!V(u)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(u)||!V(c)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(c))return!1;if(!t.altKey){if(n.isCollapsed()){const e=u.getParentOrThrow();if(a&&0===i&&null===u.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!a&&i===u.getTextContentSize()&&null===u.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0}return!1}let g,p;if(u.isBefore(c)?(g=Y(u),p=Z(c)):(g=Y(c),p=Z(u)),null==g||null==p)return!1;const h=g.getNodesBetween(p);for(let e=0;e<h.length;e++){const t=h[e];if(!V(t)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(t)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(t))return!1}t.preventDefault(),t.stopPropagation();const y=a?g.getPreviousSibling():p.getNextSibling();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(y))return!0;const x=a?y.getPreviousSibling():y.getNextSibling();if(null==x)return!0;const v=V(x)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(x)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(x)?a?Y(x):Z(x):null;let C=null!=v?v:x;return y.remove(),h.forEach((e=>e.remove())),e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.UD?(h.forEach((e=>C.insertBefore(e))),C.insertBefore(y)):(C.insertAfter(y),C=y,h.forEach((e=>{C.insertAfter(e),C=e}))),n.setTextNodeRange(u,i,c,s),!0}function pe(e,t){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(n))return!1;const{anchor:r,focus:o}=n,i=r.getNode(),s=o.getNode(),u=e===_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Rp;if(!V(i)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(i)||!V(s)&&!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(s))return!1;if(u){const e=function te(e,t){let n=null,r=null,o=e,i=t,s=e.getTextContent();for(;;){if(0===i){if(o=o.getPreviousSibling(),null===o)break;if(V(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)||P(167),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)){n={node:o,offset:1};break}i=Math.max(0,o.getTextContentSize()-1),s=o.getTextContent()}else i--;const e=s[i];V(o)&&" "!==e&&(r={node:o,offset:i})}if(null!==r)return r;let u=null;if(t<e.getTextContentSize())V(e)&&(u=e.getTextContent()[t]);else{const t=e.getNextSibling();V(t)&&(u=t.getTextContent()[0])}if(null!==u&&" "!==u)return n;{const r=function(e,t){let n=e,r=t,o=e.getTextContent(),i=e.getTextContentSize();for(;;){if(!V(n)||r===i){if(n=n.getNextSibling(),null===n||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(n))return null;V(n)&&(r=0,o=n.getTextContent(),i=n.getTextContentSize())}if(V(n)){if(" "!==o[r])return{node:n,offset:r};r++}}}(e,t);return null!==r?r:n}}(s,o.offset);if(null!==e){const{node:t,offset:r}=e;(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(t)?t.selectNext(0,0):n.setTextNodeRange(t,r,t,r)}else s.getParentOrThrow().selectStart()}else(function ne(e){const t=Z(e);return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(t)&&P(168),t})(s).select();return t.preventDefault(),t.stopPropagation(),!0}function he(e,t){if(!e.hasNodes([A,Q]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==t&&(t=ee),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_17__.Sd)(e.registerMutationListener(A,(t=>{e.update((()=>{for(const[n,r]of t)if("destroyed"!==r){const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ns)(n);null!==t&&oe(t,e)}}))})),e.registerNodeTransform(A,(n=>se(n,e,t))),e.registerNodeTransform(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ey,(n=>re(n,e,t))),e.registerNodeTransform(Q,(n=>re(n,e,t))),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.OX,(t=>{const n=function(e){const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)();if(!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.I2)(t)||!ce(t))return null;const n=e?_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.si:_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi,r=e?_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.si:_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.YW;if(ae(t).length>1)return n;const o=t.getNodes()[0];if(D(o)||V(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.MK)(o)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.wH)(o)||P(170),D(o))return n;const i=Y(o),s=Z(o),u=t.anchor,c=t.focus;let a,g;return c.isBefore(u)?(a=c,g=u):(a=u,g=c),null!==i&&null!==s&&a.key===i.getKey()&&0===a.offset&&g.key===s.getKey()&&g.offset===s.getTextContentSize()?n:r}(t.shiftKey);return null!==n&&(t.preventDefault(),e.dispatchCommand(n,void 0),!0)}),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.YW,(()=>!!ce((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.vJ)())&&((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.H2)([(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.ev)()]),!0)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi,(e=>ge(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Pi)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.si,(e=>ge(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.si)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.UD,(e=>fe(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.UD,e)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.bb,(e=>fe(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.bb,e)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.A6,(e=>pe(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.A6,e)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac),e.registerCommand(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Rp,(e=>pe(_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Rp,e)),_lexical_utils__WEBPACK_IMPORTED_MODULE_16__.Ac))}},"../node_modules/.pnpm/@lexical+dragon@0.15.0/node_modules/@lexical/dragon/LexicalDragon.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>o});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");function o(o){const i=window.location.origin,a=a=>{if(a.origin!==i)return;const r=o.getRootElement();if(document.activeElement!==r)return;const s=a.data;if("string"==typeof s){let i;try{i=JSON.parse(s)}catch(e){return}if(i&&"nuanria_messaging"===i.protocol&&"request"===i.type){const r=i.payload;if(r&&"makeChanges"===r.functionId){const i=r.args;if(i){const[r,s,c,g,d,f]=i;o.update((()=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(o)){const e=o.anchor;let t=e.getNode(),i=0,f=0;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)&&r>=0&&s>=0&&(i=r,f=r+s,o.setTextNodeRange(t,i,t,f)),i===f&&""===c||(o.insertRawText(c),t=e.getNode()),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)){i=g,f=g+d;const e=t.getTextContentSize();i=i>e?e:i,f=f>e?e:f,o.setTextNodeRange(t,i,t,f)}a.stopImmediatePropagation()}}))}}}}};return window.addEventListener("message",a,!0),()=>{window.removeEventListener("message",a,!0)}}},"../node_modules/.pnpm/@lexical+hashtag@0.15.0/node_modules/@lexical/hashtag/LexicalHashtag.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Lr:()=>s,ZZ:()=>n});var _lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");class n extends lexical__WEBPACK_IMPORTED_MODULE_0__.Ey{static getType(){return"hashtag"}static clone(t){return new n(t.__text,t.__key)}constructor(t,e){super(t,e)}createDOM(e){const r=super.createDOM(e);return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(r,e.theme.hashtag),r}static importJSON(t){const e=s(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"hashtag"}}canInsertTextBefore(){return!1}isTextEntity(){return!0}}function s(t=""){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new n(t))}},"../node_modules/.pnpm/@lexical+history@0.15.0/node_modules/@lexical/history/LexicalHistory.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>x,h:()=>M});var _lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");const l=0,_=1,f=2,p=0,h=1,m=2,g=3,y=4;function S(t,e,n,o,r){if(null===t||0===n.size&&0===o.size&&!r)return p;const i=e._selection,s=t._selection;if(r)return h;if(!((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(i)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(s)&&s.isCollapsed()&&i.isCollapsed()))return p;const c=function(t,e,n){const o=t._nodeMap,r=[];for(const t of e){const e=o.get(t);void 0!==e&&r.push(e)}for(const[t,e]of n){if(!e)continue;const n=o.get(t);void 0===n||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.hV)(n)||r.push(n)}return r}(e,n,o);if(0===c.length)return p;if(c.length>1){const n=e._nodeMap,o=n.get(i.anchor.key),r=n.get(s.anchor.key);return o&&r&&!t._nodeMap.has(o.__key)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)&&1===o.__text.length&&1===i.anchor.offset?m:p}const l=c[0],_=t._nodeMap.get(l.__key);if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(_)||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(l)||_.__mode!==l.__mode)return p;const f=_.__text,S=l.__text;if(f===S)return p;const k=i.anchor,C=s.anchor;if(k.key!==C.key||"text"!==k.type)return p;const x=k.offset,M=C.offset,z=S.length-f.length;return 1===z&&M===x-1?m:-1===z&&M===x+1?g:-1===z&&M===x?y:p}function k(t,e){let n=Date.now(),o=p;return(r,i,s,c,d,h)=>{const m=Date.now();if(h.has("historic"))return o=p,n=m,f;const g=S(r,i,c,d,t.isComposing()),y=(()=>{const y=null===s||s.editor===t,S=h.has("history-push");if(!S&&y&&h.has("history-merge"))return l;if(null===r)return _;const k=i._selection;return c.size>0||d.size>0?!1===S&&g!==p&&g===o&&m<n+e&&y||1===c.size&&function(t,e,n){const o=e._nodeMap.get(t),r=n._nodeMap.get(t),i=e._selection,s=n._selection;let c=!1;return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(i)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(s)&&(c="element"===i.anchor.type&&"element"===i.focus.type&&"text"===s.anchor.type&&"text"===s.focus.type),!(c||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(r))&&o.__type===r.__type&&o.__text===r.__text&&o.__mode===r.__mode&&o.__detail===r.__detail&&o.__style===r.__style&&o.__format===r.__format&&o.__parent===r.__parent}(Array.from(c)[0],r,i)?l:_:null!==k?l:f})();return n=m,o=g,y}}function C(t){t.undoStack=[],t.redoStack=[],t.current=null}function x(a,u,d){const l=k(a,d),p=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Sd)(a.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.ZK,(()=>(function(t,e){const n=e.redoStack,o=e.undoStack;if(0!==o.length){const r=e.current,i=o.pop();null!==r&&(n.push(r),t.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.WW,!0)),0===o.length&&t.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Kf,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(a,u),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),a.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.V3,(()=>(function(t,e){const n=e.redoStack,o=e.undoStack;if(0!==n.length){const r=e.current;null!==r&&(o.push(r),t.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Kf,!0));const i=n.pop();0===n.length&&t.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.WW,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(a,u),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),a.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.SK,(()=>(C(u),!1)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),a.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.t5,(()=>(C(u),a.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.WW,!1),a.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Kf,!1),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),a.registerUpdateListener((({editorState:t,prevEditorState:e,dirtyLeaves:n,dirtyElements:o,tags:r})=>{const i=u.current,d=u.redoStack,p=u.undoStack,h=null===i?null:i.editorState;if(null!==i&&t===h)return;const m=l(e,t,i,n,o,r);if(m===_)0!==d.length&&(u.redoStack=[],a.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.WW,!1)),null!==i&&(p.push({...i}),a.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Kf,!0));else if(m===f)return;u.current={editor:a,editorState:t}})));return p}function M(){return{current:null,redoStack:[],undoStack:[]}}},"../node_modules/.pnpm/@lexical+html@0.15.0/node_modules/@lexical/html/LexicalHtml.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>d,g:()=>h});var _lexical_selection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");function d(e,n){const t=n.body?n.body.childNodes:[];let o=[];const l=[];for(let n=0;n<t.length;n++){const r=t[n];if(!m.has(r.nodeName)){const n=g(r,e,l,!1);null!==n&&(o=o.concat(n))}}return function(e){for(const n of e)n.getNextSibling()instanceof lexical__WEBPACK_IMPORTED_MODULE_0__.A7&&n.insertAfter((0,lexical__WEBPACK_IMPORTED_MODULE_0__.WK)());for(const n of e){const e=n.getChildren();for(const t of e)n.insertBefore(t);n.remove()}}(l),o}function h(e,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===__webpack_require__.g.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().getChildren();for(let l=0;l<o.length;l++)p(e,o[l],t,n);return t.innerHTML}function p(o,l,s,c=null){let u=null===c||l.isSelected(c);const f=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(l)&&l.excludeFromCopy("html");let a=l;if(null!==c){let t=(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_1__.BE)(l);t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)&&null!==c?(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_1__.SD)(c,t):t,a=t}const d=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(a)?a.getChildren():[],h=o._nodes.get(a.getType());let m;m=h&&void 0!==h.exportDOM?h.exportDOM(o,a):a.exportDOM(o);const{element:g,after:y}=m;if(!g)return!1;const w=document.createDocumentFragment();for(let e=0;e<d.length;e++){const n=d[e],t=p(o,n,w,c);!u&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(l)&&t&&l.extractWithChild(n,c,"html")&&(u=!0)}if(u&&!f){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(g)&&g.append(w),s.append(g),y){const e=y.call(a,g);e&&g.replaceWith(e)}}else s.append(w);return u}const m=new Set(["STYLE","SCRIPT"]);function g(e,n,t,l,i=new Map,f){let d=[];if(m.has(e.nodeName))return d;let h=null;const p=function(e,n){const{nodeName:t}=e,o=n._htmlConversions.get(t.toLowerCase());let l=null;if(void 0!==o)for(const n of o){const t=n(e);null!==t&&(null===l||(l.priority||0)<(t.priority||0))&&(l=t)}return null!==l?l.conversion:null}(e,n),w=p?p(e):null;let x=null;if(null!==w){x=w.after;const n=w.node;if(h=Array.isArray(n)?n[n.length-1]:n,null!==h){for(const[,e]of i)if(h=e(h,f),!h)break;h&&d.push(...Array.isArray(n)?n:[h])}null!=w.forChild&&i.set(e.nodeName,w.forChild)}const C=e.childNodes;let N=[];const b=(null==h||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(h))&&(null!=h&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.y6)(h)||l);for(let e=0;e<C.length;e++)N.push(...g(C[e],n,t,b,new Map(i),h));return null!=x&&(N=x(N)),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.a9)(e)&&(N=function y(e,n,t){const o=e.style.textAlign,l=[];let r=[];for(let e=0;e<n.length;e++){const i=n[e];if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.y6)(i))i.setFormat(o),l.push(i);else if(r.push(i),e===n.length-1||e<n.length-1&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.y6)(n[e+1])){const e=t();e.setFormat(o),e.append(...r),l.push(e),r=[]}}return l}(e,N,b?()=>{const e=new lexical__WEBPACK_IMPORTED_MODULE_0__.A7;return t.push(e),e}:lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)),null==h?d=d.concat(N):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(h)&&h.append(...N),d}},"../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Db:()=>_,FJ:()=>c,Yh:()=>f,hx:()=>m,iK:()=>p,k_:()=>h,yW:()=>d,zA:()=>g});var _lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");const u=new Set(["http:","https:","mailto:","sms:","tel:"]);class _ extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"link"}static clone(t){return new _(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t,e={},r){super(r);const{target:i=null,rel:n=null,title:l=null}=e;this.__url=t,this.__target=i,this.__rel=n,this.__title=l}createDOM(e){const r=document.createElement("a");return r.href=this.sanitizeUrl(this.__url),null!==this.__target&&(r.target=this.__target),null!==this.__rel&&(r.rel=this.__rel),null!==this.__title&&(r.title=this.__title),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(r,e.theme.link),r}updateDOM(t,e,r){const i=this.__url,n=this.__target,l=this.__rel,s=this.__title;return i!==t.__url&&(e.href=i),n!==t.__target&&(n?e.target=n:e.removeAttribute("target")),l!==t.__rel&&(l?e.rel=l:e.removeAttribute("rel")),s!==t.__title&&(s?e.title=s:e.removeAttribute("title")),!1}static importDOM(){return{a:t=>({conversion:a,priority:1})}}static importJSON(t){const e=g(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}sanitizeUrl(t){try{const e=new URL(t);if(!u.has(e.protocol))return"about:blank"}catch(e){return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(t){this.getWritable().__url=t}getTarget(){return this.getLatest().__target}setTarget(t){this.getWritable().__target=t}getRel(){return this.getLatest().__rel}setRel(t){this.getWritable().__rel=t}getTitle(){return this.getLatest().__title}setTitle(t){this.getWritable().__title=t}insertNewAfter(t,e=!0){const r=g(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,e),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,r){if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;const i=e.anchor.getNode(),l=e.focus.getNode();return this.isParentOf(i)&&this.isParentOf(l)&&e.getTextContent().length>0}}function a(t){let r=null;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.nY)(t)){const e=t.textContent;(null!==e&&""!==e||t.children.length>0)&&(r=g(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:r}}function g(t,e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new _(t,e))}function c(t){return t instanceof _}class h extends _{static getType(){return"autolink"}static clone(t){return new h(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}static importJSON(t){const e=f(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(t,e=!0){const r=this.getParentOrThrow().insertNewAfter(t,e);if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(r)){const t=f(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return r.append(t),t}return null}}function f(t,e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new h(t,e))}function p(t){return t instanceof h}const d=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("TOGGLE_LINK_COMMAND");function m(t,e={}){const{target:r,title:i}=e,l=void 0===e.rel?"noreferrer":e.rel,u=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(u))return;const _=u.extract();if(null===t)_.forEach((t=>{const e=t.getParent();if(c(e)){const t=e.getChildren();for(let r=0;r<t.length;r++)e.insertBefore(t[r]);e.remove()}}));else{if(1===_.length){const e=function(t,e){let r=t;for(;null!==r&&null!==r.getParent()&&!e(r);)r=r.getParentOrThrow();return e(r)?r:null}(_[0],c);if(null!==e)return e.setURL(t),void 0!==r&&e.setTarget(r),null!==l&&e.setRel(l),void(void 0!==i&&e.setTitle(i))}let e=null,n=null;_.forEach((o=>{const u=o.getParent();if(u!==n&&null!==u&&(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)||o.isInline())){if(c(u))return n=u,u.setURL(t),void 0!==r&&u.setTarget(r),null!==l&&n.setRel(l),void(void 0!==i&&n.setTitle(i));if(u.is(e)||(e=u,n=g(t,{rel:l,target:r,title:i}),c(u)?null===o.getPreviousSibling()?u.insertBefore(n):u.insertAfter(n):o.insertBefore(n)),c(o)){if(o.is(n))return;if(null!==n){const t=o.getChildren();for(let e=0;e<t.length;e++)n.append(t[e])}o.remove()}else null!==n&&n.append(o)}}))}}},"../node_modules/.pnpm/@lexical+list@0.15.0/node_modules/@lexical/list/LexicalList.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DE:()=>z,HY:()=>U,Mz:()=>R,YW:()=>F,g2:()=>m,i:()=>I,mJ:()=>q,q7:()=>$,tK:()=>A,uS:()=>H,us:()=>S,v5:()=>K,x:()=>j,yX:()=>L});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");var _=function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function m(e){let t=1,n=e.getParent();for(;null!=n;){if(R(n)){const e=n.getParent();if(U(e)){t++,n=e.getParent();continue}_(40)}return t}return t}function v(e){let t=e.getParent();U(t)||_(40);let n=t;for(;null!==n;)n=n.getParent(),U(n)&&(t=n);return t}function y(e){let t=[];const n=e.getChildren().filter(R);for(let e=0;e<n.length;e++){const r=n[e],i=r.getFirstChild();U(i)?t=t.concat(y(i)):t.push(r)}return t}function C(e){return R(e)&&U(e.getFirstChild())}function T(e){return I().append(e)}function k(e,t){return R(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function S(s,o){s.update((()=>{const s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(null!==s){const e=s.getNodes();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(s)){const t=s.getStartEndPoints();null===t&&_(143);const[i]=t,c=i.getNode(),l=c.getParent();if(k(c,e)){const e=z(o);if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(l)){c.replace(e);const t=I();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(c)&&(t.setFormat(c.getFormatType()),t.setIndent(c.getIndent())),e.append(t)}else if(R(c)){const t=c.getParentOrThrow();b(e,t.getChildren()),t.replace(e)}return}}const c=new Set;for(let t=0;t<e.length;t++){const s=e[t];if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(s)||!s.isEmpty()||R(s)||c.has(s.getKey())){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.jG)(s)){let e=s.getParent();for(;null!=e;){const t=e.getKey();if(U(e)){if(!c.has(t)){const n=z(o);b(n,e.getChildren()),e.replace(n),c.add(t)}break}{const r=e.getParent();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(r)&&!c.has(t)){c.add(t),P(e,o);break}e=r}}}}else P(s,o)}}}))}function b(e,t){e.splice(e.getChildrenSize(),0,t)}function P(e,t){if(U(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=I();if(i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),b(i,e.getChildren()),U(n)&&t===n.getListType())return n.append(i),e.remove(),U(r)&&t===r.getListType()&&(b(n,r.getChildren()),r.remove()),n;if(U(r)&&t===r.getListType())return r.getFirstChildOrThrow().insertBefore(i),e.remove(),r;{const n=z(t);return n.append(i),e.replace(n),n}}function x(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&C(n)&&C(r)&&(x(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function A(n){n.update((()=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(k(r,t))e.add(v(r));else for(let n=0;n<t.length;n++){const r=t[n];if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.jG)(r)){const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.eu)(r,F);null!=t&&e.add(v(t))}}for(const t of e){let e=t;const r=y(t);for(const t of r){const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();b(r,t.getChildren()),e.insertAfter(r),e=r,t.__key===n.anchor.key&&n.anchor.set(r.getKey(),0,"element"),t.__key===n.focus.key&&n.focus.set(r.getKey(),0,"element"),t.remove()}t.remove()}}}))}function N(e){const t=new Set;if(C(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(C(r)&&C(i)){const n=i.getFirstChild();if(U(n)){n.append(e);const i=r.getFirstChild();U(i)&&(b(n,i.getChildren()),r.remove(),t.add(r.getKey()))}}else if(C(r)){const t=r.getFirstChild();if(U(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(C(i)){const t=i.getFirstChild();U(t)&&t.append(e)}else if(U(n)){const t=I(),s=z(n.getListType());t.append(s),s.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function O(e){if(C(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(U(n?n.getParent():void 0)&&R(n)&&U(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=I(),s=z(r);i.append(s),e.getPreviousSiblings().forEach((e=>s.append(e)));const o=I(),c=z(r);o.append(c),b(c,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}}}function L(){const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(r)||!r.isCollapsed())return!1;const i=r.anchor.getNode();if(!R(i)||0!==i.getChildrenSize())return!1;const c=v(i),l=i.getParent();U(l)||_(40);const h=l.getParent();let a;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(h))a=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)(),c.insertAfter(a);else{if(!R(h))return!1;a=I(),h.insertAfter(a)}a.select();const u=i.getNextSiblings();if(u.length>0){const e=z(l.getListType());if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(a))a.insertAfter(e);else{const t=I();t.append(e),a.insertAfter(t)}u.forEach((t=>{t.remove(),e.append(t)}))}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!R(t)&&!U(t))break;t=e}t.remove()}(i),!0}function E(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}class F extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"listitem"}static clone(e){return new F(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();return U(n)&&"check"===n.getListType()&&w(t,this,null),t.value=this.__value,M(t,e.theme,this),t}updateDOM(e,t,n){const r=this.getParent();return U(r)&&"check"===r.getListType()&&w(t,this,e),t.value=this.__value,M(t,n.theme,this),!1}static transform(){return e=>{if(R(e)||_(144),null==e.__checked)return;const t=e.getParent();U(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:e=>({conversion:D,priority:0})}}static importJSON(e){const t=I();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportDOM(e){const t=this.createDOM(e._config);return t.style.textAlign=this.getFormatType(),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)&&this.canMergeWith(n)){const e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(R(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!U(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=z(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)||_(139),this.getChildren().forEach((t=>{e.append(t)}))),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(U(n)||_(39),R(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const i=z(n.getListType());r.forEach((e=>i.append(e))),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&C(t)&&C(n)&&(x(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e,t=!0){const n=I(null==this.__checked&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();this.getChildren().forEach((e=>t.append(e)));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),i=R(r);if(1===n.getChildrenSize())if(i)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,i=e.focus,s=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(s,r.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(s,i.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(null===e)return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;R(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"==typeof e&&e>-1||_(117);let t=this.getIndent();for(;t!==e;)t<e?(N(this),t++):(O(this),t--);return this}canInsertAfter(e){return R(e)}canReplaceWith(e){return R(e)}canMergeWith(e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(e)||R(e)}extractWithChild(e,n){if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return z("bullet")}}function M(e,t,n){const r=[],i=[],s=t.list,o=s?s.listitem:void 0;let c;if(s&&s.nested&&(c=s.nested.listitem),void 0!==o&&r.push(...E(o)),s){const e=n.getParent(),t=U(e)&&"check"===e.getListType(),o=n.getChecked();t&&!o||i.push(s.listitemUnchecked),t&&o||i.push(s.listitemChecked),t&&r.push(o?s.listitemChecked:s.listitemUnchecked)}if(void 0!==c){const e=E(c);n.getChildren().some((e=>U(e)))?r.push(...e):i.push(...e)}i.length>0&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.HE)(e,...i),r.length>0&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,...r)}function w(e,t,n,r){U(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function D(e){return{node:I((0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(e)&&"true"===e.getAttribute("aria-checked"))}}function I(e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new F(void 0,e))}function R(e){return e instanceof F}class K extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"list"}static clone(e){const t=e.__listType||J[e.__tag];return new K(t,e.__start,e.__key)}constructor(e,t,n){super(n);const r=J[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,B(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(B(t,n.theme,this),!1)}static transform(){return e=>{U(e)||_(163),function(e){const t=e.getNextSibling();U(t)&&e.getListType()===t.getListType()&&x(e,t)}(e),function(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())R(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getChecked()&&r.setChecked(void 0),U(r.getFirstChild())||n++)}(e)}}static importDOM(){return{ol:e=>({conversion:V,priority:0}),ul:e=>({conversion:V,priority:0})}}static importJSON(e){const t=z(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(R(n))super.append(n);else{const e=I();if(U(n))e.append(n);else if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(n.getTextContent());e.append(t)}else e.append(n);super.append(e)}}return this}extractWithChild(e){return R(e)}}function B(e,t,n){const r=[],i=[],s=t.list;if(void 0!==s){const e=s[`${n.__tag}Depth`]||[],t=m(n)-1,o=t%e.length,c=e[o],l=s[n.__tag];let h;const a=s.nested,u=s.checklist;if(void 0!==a&&a.list&&(h=a.list),void 0!==l&&r.push(l),void 0!==u&&"check"===n.__listType&&r.push(u),void 0!==c){r.push(...E(c));for(let t=0;t<e.length;t++)t!==o&&i.push(n.__tag+t)}if(void 0!==h){const e=E(h);t>1?r.push(...e):i.push(...e)}}i.length>0&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.HE)(e,...i),r.length>0&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,...r)}function W(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(R(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach((e=>{U(e)&&t.push(T(e))}))}else t.push(T(r))}return t}function V(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=z("number",e.start):"ul"===t&&(n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(e)&&"check"===e.getAttribute("__lexicallisttype")?z("check"):z("bullet")),{after:W,node:n}}const J={ol:"number",ul:"bullet"};function z(e,t=1){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new K(e,t))}function U(e){return e instanceof K}const $=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("INSERT_UNORDERED_LIST_COMMAND"),j=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("INSERT_ORDERED_LIST_COMMAND"),q=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("INSERT_CHECK_LIST_COMMAND"),H=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("REMOVE_LIST_COMMAND")},"../node_modules/.pnpm/@lexical+mark@0.15.0/node_modules/@lexical/mark/LexicalMark.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I0:()=>f,PR:()=>u,YM:()=>c,h:()=>a,y6:()=>l,yn:()=>d});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");class l extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"mark"}static clone(t){return new l(Array.from(t.__ids),t.__key)}static importDOM(){return null}static importJSON(t){const e=c(t.ids);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),ids:this.getIDs(),type:"mark",version:1}}constructor(t,e){super(e),this.__ids=t||[]}createDOM(t){const e=document.createElement("mark");return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,t.theme.mark),this.__ids.length>1&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,t.theme.markOverlap),e}updateDOM(t,e,n){const r=t.__ids,i=this.__ids,l=r.length,c=i.length,f=n.theme.markOverlap;return l!==c&&(1===l?2===c&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,f):1===c&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.HE)(e,f)),!1}hasID(t){const e=this.getIDs();for(let n=0;n<e.length;n++)if(t===e[n])return!0;return!1}getIDs(){const t=this.getLatest();return f(t)?t.__ids:[]}addID(t){const e=this.getWritable();if(f(e)){const n=e.__ids;e.__ids=n;for(let e=0;e<n.length;e++)if(t===n[e])return;n.push(t)}}deleteID(t){const e=this.getWritable();if(f(e)){const n=e.__ids;e.__ids=n;for(let e=0;e<n.length;e++)if(t===n[e])return void n.splice(e,1)}}insertNewAfter(t,e=!0){const n=c(this.__ids);return this.insertAfter(n,e),n}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,n,r){if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)||"html"===r)return!1;const i=n.anchor,s=n.focus,o=i.getNode(),l=s.getNode(),c=n.isBackward()?i.offset-s.offset:s.offset-i.offset;return this.isParentOf(o)&&this.isParentOf(l)&&this.getTextContent().length===c}excludeFromCopy(t){return"clone"!==t}}function c(t){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new l(t))}function f(t){return t instanceof l}function u(t){const e=t.getChildren();let n=null;for(let r=0;r<e.length;r++){const i=e[r];null===n?t.insertBefore(i):n.insertAfter(i),n=i}t.remove()}function a(t,e,n,s){const o=t.getNodes(),l=t.anchor.offset,u=t.focus.offset,a=o.length,d=e?u:l,h=e?l:u;let g,m;for(let t=0;t<a;t++){const e=o[t];if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(m)&&m.isParentOf(e))continue;const l=0===t,u=t===a-1;let _=null;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(e)){const t=e.getTextContentSize(),n=l?d:0,r=u?h:t;if(0===n&&0===r)continue;const i=e.splitText(n,r);_=i.length>1&&(3===i.length||l&&!u||r===t)?i[1]:i[0]}else{if(f(e))continue;(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&e.isInline()&&(_=e)}if(null!==_){if(_&&_.is(g))continue;const t=_.getParent();null!=t&&t.is(g)||(m=void 0),g=t,void 0===m&&(m=(s||c)([n]),_.insertBefore(m)),m.append(_)}else g=void 0,m=void 0}(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(m)&&(e?m.selectStart():m.selectEnd())}function d(t,e){let n=t;for(;null!==n;){if(f(n))return n.getIDs();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(n)&&e===n.getTextContentSize()){const t=n.getNextSibling();if(f(t))return t.getIDs()}n=n.getParent()}return null}},"../node_modules/.pnpm/@lexical+markdown@0.15.0/node_modules/@lexical/markdown/LexicalMarkdown.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Gi:()=>$t,JI:()=>Et,Rm:()=>Pt,Wn:()=>kt,_s:()=>pt,bk:()=>Mt,iM:()=>it,r5:()=>Ft});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),_lexical_code__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+code@0.15.0/node_modules/@lexical/code/LexicalCode.prod.mjs"),_lexical_list__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+list@0.15.0/node_modules/@lexical/list/LexicalList.prod.mjs"),_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+rich-text@0.15.0/node_modules/@lexical/rich-text/LexicalRichText.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),_lexical_link__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs");function R(t,e){const n={};for(const o of t){const t=e(o);n[t]?n[t].push(o):n[t]=[o]}return n}function N(t){const e=R(t,(t=>t.type));return{element:e.element||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}const j=/[!-/:-@[-`{-~\s]/;function z(t,o,r,i){for(const e of o){const n=e.export(t,(t=>A(t,r,i)));if(null!=n)return n}return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)?A(t,r,i):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(t)?t.getTextContent():null}function A(t,i,s){const c=[],l=t.getChildren();t:for(const t of l){for(const e of s){const n=e.export(t,(t=>A(t,i,s)),((t,e)=>B(t,e,i)));if(null!=n){c.push(n);continue t}}(0,lexical__WEBPACK_IMPORTED_MODULE_0__.wH)(t)?c.push("\n"):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)?c.push(B(t,t.getTextContent(),i)):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)?c.push(A(t,i,s)):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(t)&&c.push(t.getTextContent())}return c.join("")}function B(t,e,n){const o=e.trim();let r=o;const i=new Set;for(const e of n){const n=e.format[0],o=e.tag;U(t,n)&&!i.has(n)&&(i.add(n),U(I(t,!0),n)||(r=o+r),U(I(t,!1),n)||(r+=o))}return e.replace(o,(()=>r))}function I(t,n){let o=n?t.getPreviousSibling():t.getNextSibling();if(!o){const e=t.getParentOrThrow();e.isInline()&&(o=n?e.getPreviousSibling():e.getNextSibling())}for(;o;){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)){if(!o.isInline())break;const t=n?o.getLastDescendant():o.getFirstDescendant();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t))return t;o=n?o.getPreviousSibling():o.getNextSibling()}if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o))return o;if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o))return null}return null}function U(t,e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)&&t.hasFormat(e)}const D="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,O=D&&"documentMode"in document?document.documentMode:null;D&&"InputEvent"in window&&!O&&new window.InputEvent("input");const K=D&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),V=D&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,W=D&&/^(?=.*Chrome).*/i.test(navigator.userAgent),q=D&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!W,G=/^\s{0,3}$/,H=/^[ \t]*```(\w{1,10})?\s?$/;function Q(t){if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(t))return!1;const e=t.getFirstChild();return null==e||1===t.getChildrenSize()&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(e)&&G.test(e.getTextContent())}function X(t,e,n,o,r){const i=t.trim(),f=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(i),u=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();u.append(f),e.append(u);for(const{regExp:e,replace:o}of n){const n=t.match(e);if(n){f.setTextContent(t.slice(n[0].length)),o(u,[f],n,!0);break}}if(Z(f,o,r),u.isAttached()&&i.length>0){const t=u.getPreviousSibling();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(t)||(0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.jd)(t)||(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)){let e=t;if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)){const n=t.getLastDescendant();e=null==n?null:(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Bt)(n,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.Mz)}null!=e&&e.getTextContentSize()>0&&(e.splice(e.getChildrenSize(),0,[(0,lexical__WEBPACK_IMPORTED_MODULE_0__.WK)(),...u.getChildren()]),u.remove())}}}function Y(t,e,n){const o=t[e].match(H);if(o){let r=e;const i=t.length;for(;++r<i;)if(t[r].match(H)){const i=(0,_lexical_code__WEBPACK_IMPORTED_MODULE_4__.QC)(o[1]),s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(t.slice(e+1,r).join("\n"));return i.append(s),n.append(i),[i,r]}}return[null,e]}function Z(t,e,n){const o=t.getTextContent(),r=function(t,e){const n=t.match(e.openTagsRegExp);if(null==n)return null;for(const o of n){const n=o.replace(/^\s/,""),r=e.fullMatchRegExpByTag[n];if(null==r)continue;const i=t.match(r),s=e.transformersByTag[n];if(null!=i&&null!=s){if(!1!==s.intraword)return i;const{index:e=0}=i,n=t[e-1],o=t[e+i[0].length];if((!n||j.test(n))&&(!o||j.test(o)))return i}}return null}(o,e);if(!r)return void tt(t,n);let i,s,c;if(r[0]===o)i=t;else{const e=r.index||0,n=e+r[0].length;0===e?[i,s]=t.splitText(n):[c,i,s]=t.splitText(e,n)}i.setTextContent(r[2]);const l=e.transformersByTag[r[1]];if(l)for(const t of l.format)i.hasFormat(t)||i.toggleFormat(t);i.hasFormat("code")||Z(i,e,n),c&&Z(c,e,n),s&&Z(s,e,n)}function tt(t,e){let n=t;t:for(;n;){for(const t of e){const o=n.getTextContent().match(t.importRegExp);if(!o)continue;const r=o.index||0,i=r+o[0].length;let s,c;0===r?[s,n]=n.splitText(i):[,s,c]=n.splitText(r,i),c&&tt(c,e),t.replace(s,o);continue t}break}}var nt=function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function ot(t,e,n){const o=n.length;for(let r=e;r>=o;r--){const e=r-o;if(rt(t,e,n,0,o)&&" "!==t[e+o])return e}return-1}function rt(t,e,n,o,r){for(let i=0;i<r;i++)if(t[e+i]!==n[o+i])return!1;return!0}function it(t,e=Pt){const n=N(e),s=R(n.textFormat,(({tag:t})=>t[t.length-1])),c=R(n.textMatch,(({trigger:t})=>t));for(const n of e){const e=n.type;if("element"===e||"text-match"===e){const e=n.dependencies;for(const n of e)t.hasNode(n)||nt(173,n.getType())}}const l=(t,e,l)=>{(function(t,e,n,o){const r=t.getParent();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(r)||t.getFirstChild()!==e)return!1;const i=e.getTextContent();if(" "!==i[n-1])return!1;for(const{regExp:r,replace:s}of o){const o=i.match(r);if(o&&o[0].length===n){const r=e.getNextSiblings(),[i,c]=e.splitText(n);return i.remove(),s(t,c?[c,...r]:r,o,!1),!0}}return!1})(t,e,l,n.element)||function(t,e,n){let o=t.getTextContent();const r=n[o[e-1]];if(null==r)return!1;e<o.length&&(o=o.slice(0,e));for(const e of r){const n=o.match(e.regExp);if(null===n)continue;const r=n.index||0,i=r+n[0].length;let s;return 0===r?[s]=t.splitText(i):[,s]=t.splitText(r,i),s.selectNext(0,0),e.replace(s,n),!0}return!1}(e,l,c)||function(t,e,n){const s=t.getTextContent(),c=e-1,l=s[c],a=n[l];if(!a)return!1;for(const e of a){const{tag:n}=e,a=n.length,u=c-a+1;if(a>1&&!rt(s,u,n,0,a))continue;if(" "===s[u-1])continue;const d=s[c+1];if(!1===e.intraword&&d&&!j.test(d))continue;const m=t;let h=m,x=ot(s,u,n),T=h;for(;x<0&&(T=T.getPreviousSibling())&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.wH)(T);)if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(T)){const t=T.getTextContent();h=T,x=ot(t,t.length,n)}if(x<0)continue;if(h===m&&x+a===u)continue;const C=h.getTextContent();if(x>0&&C[x-1]===l)continue;const y=C[x-1];if(!1===e.intraword&&y&&!j.test(y))continue;const v=m.getTextContent(),w=v.slice(0,u)+v.slice(c+1);m.setTextContent(w);const b=h===m?w:C;h.setTextContent(b.slice(0,x)+b.slice(x+a));const S=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)(),$=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.uT)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)($);const E=c-a*(h===m?2:1)+1;$.anchor.set(h.__key,x,"text"),$.focus.set(m.__key,E,"text");for(const t of e.format)$.hasFormat(t)||$.formatText(t);$.anchor.set($.focus.key,$.focus.offset,$.focus.type);for(const t of e.format)$.hasFormat(t)&&$.toggleFormat(t);return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(S)&&($.format=S.format),!0}}(e,l,s)};return t.registerUpdateListener((({tags:e,dirtyLeaves:n,editorState:o,prevEditorState:s})=>{if(e.has("collaboration")||e.has("historic"))return;if(t.isComposing())return;const c=o.read(lexical__WEBPACK_IMPORTED_MODULE_0__.vJ),a=s.read(lexical__WEBPACK_IMPORTED_MODULE_0__.vJ);if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(a)||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(c)||!c.isCollapsed())return;const u=c.anchor.key,g=c.anchor.offset,p=o._nodeMap.get(u);!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(p)||!n.has(u)||1!==g&&g>a.anchor.offset+1||t.update((()=>{if(p.hasFormat("code"))return;const t=p.getParent();null===t||(0,_lexical_code__WEBPACK_IMPORTED_MODULE_4__.a5)(t)||l(t,p,c.anchor.offset)}))}))}const st=t=>(e,n,o)=>{const r=t(o);r.append(...n),e.replace(r),r.select(0,0)},ct=t=>(e,n,o)=>{const r=e.getPreviousSibling(),i=e.getNextSibling(),s=(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.i)("check"===t?"x"===o[3]:void 0);if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(i)&&i.getListType()===t){const t=i.getFirstChild();null!==t?t.insertBefore(s):i.append(s),e.remove()}else if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(r)&&r.getListType()===t)r.append(s),e.remove();else{const n=(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.DE)(t,"number"===t?Number(o[2]):void 0);n.append(s),e.replace(n)}s.append(...n),s.select(0,0);const c=function(t){const e=t.match(/\t/g),n=t.match(/ /g);let o=0;return e&&(o+=e.length),n&&(o+=Math.floor(n.length/4)),o}(o[1]);c&&s.setIndent(c)},lt=(t,e,n)=>{const o=[],r=t.getChildren();let i=0;for(const s of r)if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.Mz)(s)){if(1===s.getChildrenSize()){const t=s.getFirstChild();if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)){o.push(lt(t,e,n+1));continue}}const r=" ".repeat(4*n),c=t.getListType(),l="number"===c?`${t.getStart()+i}. `:"check"===c?`- [${s.getChecked()?"x":" "}] `:"- ";o.push(r+l+e(s)),i++}return o.join("\n")},at={dependencies:[_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.jL],export:(t,e)=>{if(!(0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.Pi)(t))return null;const n=Number(t.getTag().slice(1));return"#".repeat(n)+" "+e(t)},regExp:/^(#{1,6})\s/,replace:st((t=>{const e="h"+t[1].length;return(0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.fi)(e)})),type:"element"},ft={dependencies:[_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.dJ],export:(t,e)=>{if(!(0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.jd)(t))return null;const n=e(t).split("\n"),o=[];for(const t of n)o.push("> "+t);return o.join("\n")},regExp:/^>\s/,replace:(t,e,n,o)=>{if(o){const n=t.getPreviousSibling();if((0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.jd)(n))return n.splice(n.getChildrenSize(),0,[(0,lexical__WEBPACK_IMPORTED_MODULE_0__.WK)(),...e]),n.select(0,0),void t.remove()}const r=(0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_1__.xi)();r.append(...e),t.replace(r),r.select(0,0)},type:"element"},ut={dependencies:[_lexical_code__WEBPACK_IMPORTED_MODULE_4__.iK],export:t=>{if(!(0,_lexical_code__WEBPACK_IMPORTED_MODULE_4__.a5)(t))return null;const e=t.getTextContent();return"```"+(t.getLanguage()||"")+(e?"\n"+e:"")+"\n```"},regExp:/^[ \t]*```(\w{1,10})?\s/,replace:st((t=>(0,_lexical_code__WEBPACK_IMPORTED_MODULE_4__.QC)(t?t[1]:void 0))),type:"element"},gt={dependencies:[_lexical_list__WEBPACK_IMPORTED_MODULE_2__.v5,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.YW],export:(t,e)=>(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)?lt(t,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:ct("bullet"),type:"element"},pt={dependencies:[_lexical_list__WEBPACK_IMPORTED_MODULE_2__.v5,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.YW],export:(t,e)=>(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)?lt(t,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:ct("check"),type:"element"},dt={dependencies:[_lexical_list__WEBPACK_IMPORTED_MODULE_2__.v5,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.YW],export:(t,e)=>(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.HY)(t)?lt(t,e,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:ct("number"),type:"element"},St={dependencies:[_lexical_link__WEBPACK_IMPORTED_MODULE_5__.Db],export:(t,e,n)=>{if(!(0,_lexical_link__WEBPACK_IMPORTED_MODULE_5__.FJ)(t))return null;const o=t.getTitle(),i=o?`[${t.getTextContent()}](${t.getURL()} "${o}")`:`[${t.getTextContent()}](${t.getURL()})`,s=t.getFirstChild();return 1===t.getChildrenSize()&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(s)?n(s,i):i},importRegExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))/,regExp:/(?:\[([^[]+)\])(?:\((?:([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?)\))$/,replace:(t,e)=>{const[,n,o,r]=e,i=(0,_lexical_link__WEBPACK_IMPORTED_MODULE_5__.zA)(o,{title:r}),s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(n);s.setFormat(t.getFormat()),i.append(s),t.replace(i)},trigger:")",type:"text-match"},$t=[at,ft,ut,gt,dt],Et=[{format:["code"],tag:"`",type:"text-format"},{format:["bold","italic"],tag:"***",type:"text-format"},{format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},{format:["bold"],tag:"**",type:"text-format"},{format:["bold"],intraword:!1,tag:"__",type:"text-format"},{format:["highlight"],tag:"==",type:"text-format"},{format:["italic"],tag:"*",type:"text-format"},{format:["italic"],intraword:!1,tag:"_",type:"text-format"},{format:["strikethrough"],tag:"~~",type:"text-format"}],Ft=[St],Pt=[...$t,...Et,...Ft];function kt(t,e=Pt,n){return function J(e){const n=N(e),o=function(t){const e={},n={},o=[];for(const r of t){const{tag:t}=r;e[t]=r;const i=t.replace(/(\*|\^|\+)/g,"\\$1");o.push(i),n[t]=K||V||q?new RegExp(`(${i})(?![${i}\\s])(.*?[^${i}\\s])${i}(?!${i})`):new RegExp(`(?<![\\\\${i}])(${i})((\\\\${i})?.*?[^${i}\\s](\\\\${i})?)((?<!\\\\)|(?<=\\\\\\\\))(${i})(?![\\\\${i}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((K||V||q?"":"(?<![\\\\])")+"("+o.join("|")+")","g"),transformersByTag:e}}(n.textFormat);return(e,r)=>{const s=e.split("\n"),c=s.length,l=r||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)();l.clear();for(let t=0;t<c;t++){const e=s[t],[r,i]=Y(s,t,l);null==r?X(e,l,n.element,o,n.textMatch):t=i}const a=l.getChildren();for(const t of a)Q(t)&&l.getChildrenSize()>1&&t.remove();null!==(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)()&&l.selectEnd()}}(e)(t,n)}function Mt(e=Pt,n){const o=function(e){const n=N(e),o=n.textFormat.filter((t=>1===t.format.length));return e=>{const r=[],i=(e||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)()).getChildren();for(const t of i){const e=z(t,n.element,o,n.textMatch);null!=e&&r.push(e)}return r.join("\n\n")}}(e);return o(n)}},"../node_modules/.pnpm/@lexical+overflow@0.15.0/node_modules/@lexical/overflow/LexicalOverflow.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{NE:()=>n,Vd:()=>r,XL:()=>o});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");class r extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"overflow"}static clone(e){return new r(e.__key)}static importJSON(e){return n()}static importDOM(){return null}constructor(e){super(e),this.__type="overflow"}exportJSON(){return{...super.exportJSON(),type:"overflow"}}createDOM(e){const t=document.createElement("span"),r=e.theme.characterLimit;return"string"==typeof r&&(t.className=r),t}updateDOM(e,t){return!1}insertNewAfter(e,t=!0){return this.getParentOrThrow().insertNewAfter(e,t)}excludeFromCopy(){return!0}}function n(){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new r)}function o(e){return e instanceof r}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalAutoEmbedPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{sq:()=>LexicalAutoEmbedPlugin_prod_C,ot:()=>y,Cf:()=>LexicalAutoEmbedPlugin_prod_E,R1:()=>w});var LexicalLink_prod=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs"),LexicalComposerContext_prod=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),Lexical_prod=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),LexicalUtils_prod=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");const b="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react.useLayoutEffect:react.useEffect;class v{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const C=t=>{const e=document.getElementById("typeahead-menu");if(!e)return;const n=e.getBoundingClientRect();n.top+n.height>window.innerHeight&&e.scrollIntoView({block:"center"}),n.top<0&&e.scrollIntoView({block:"center"}),t.scrollIntoView({block:"nearest"})};function E(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.top>o.top&&n.top<o.bottom}function R(e,n,o,l){const[r]=(0,LexicalComposerContext_prod.DF)();(0,react.useEffect)((()=>{if(null!=n&&null!=e){const t=r.getRootElement(),e=null!=t?function(t,e){let n=getComputedStyle(t);const o="absolute"===n.position,l=/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let e=t;e=e.parentElement;)if(n=getComputedStyle(e),(!o||"static"!==n.position)&&l.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}(t):document.body;let i=!1,s=E(n,e);const u=function(){i||(window.requestAnimationFrame((function(){o(),i=!1})),i=!0);const t=E(n,e);t!==s&&(s=t,null!=l&&l(t))},c=new ResizeObserver(o);return window.addEventListener("resize",o),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(n),()=>{c.unobserve(n),window.removeEventListener("resize",o),document.removeEventListener("scroll",u,!0)}}}),[n,r,l,o,e])}const x=(0,Lexical_prod.gu)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function O({close:t,editor:e,anchorElementRef:a,resolution:m,options:d,menuRenderFn:y,onSelectOption:v,shouldSplitNodeWithQuery:E=!1,commandPriority:R=Lexical_prod.Ac}){const[O,I]=(0,react.useState)(null),S=m.match&&m.match.matchingString;(0,react.useEffect)((()=>{I(0)}),[S]);const A=(0,react.useCallback)((n=>{e.update((()=>{const e=null!=m.match&&E?function(t){const e=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(e)||!e.isCollapsed())return null;const n=e.anchor;if("text"!==n.type)return null;const o=n.getNode();if(!o.isSimpleText())return null;const l=n.offset,r=o.getTextContent().slice(0,l),i=t.replaceableString.length,s=l-function(t,e,n){let o=n;for(let n=o;n<=e.length;n++)t.substr(-n)===e.substr(0,n)&&(o=n);return o}(r,t.matchingString,i);if(s<0)return null;let a;return 0===s?[a]=o.splitText(l):[,a]=o.splitText(s,l),a}(m.match):null;v(n,e,t,m.match?m.match.matchingString:"")}))}),[e,E,m.match,v,t]),P=(0,react.useCallback)((t=>{const n=e.getRootElement();null!==n&&(n.setAttribute("aria-activedescendant","typeahead-item-"+t),I(t))}),[e]);return(0,react.useEffect)((()=>()=>{const t=e.getRootElement();null!==t&&t.removeAttribute("aria-activedescendant")}),[e]),b((()=>{null===d?I(null):null===O&&P(0)}),[d,O,P]),(0,react.useEffect)((()=>(0,LexicalUtils_prod.Sd)(e.registerCommand(x,(({option:t})=>!(!t.ref||null==t.ref.current||(C(t.ref.current),0))),R))),[e,P,R]),(0,react.useEffect)((()=>(0,LexicalUtils_prod.Sd)(e.registerCommand(Lexical_prod.bb,(t=>{const n=t;if(null!==d&&d.length&&null!==O){const t=O!==d.length-1?O+1:0;P(t);const o=d[t];null!=o.ref&&o.ref.current&&e.dispatchCommand(x,{index:t,option:o}),n.preventDefault(),n.stopImmediatePropagation()}return!0}),R),e.registerCommand(Lexical_prod.UD,(t=>{const e=t;if(null!==d&&d.length&&null!==O){const t=0!==O?O-1:d.length-1;P(t);const n=d[t];null!=n.ref&&n.ref.current&&C(n.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),R),e.registerCommand(Lexical_prod.Q$,(e=>{const n=e;return n.preventDefault(),n.stopImmediatePropagation(),t(),!0}),R),e.registerCommand(Lexical_prod.OX,(t=>{const e=t;return null!==d&&null!==O&&null!=d[O]&&(e.preventDefault(),e.stopImmediatePropagation(),A(d[O]),!0)}),R),e.registerCommand(Lexical_prod.if,(t=>null!==d&&null!==O&&null!=d[O]&&(null!==t&&(t.preventDefault(),t.stopImmediatePropagation()),A(d[O]),!0)),R))),[A,t,e,d,O,P,R]),y(a,(0,react.useMemo)((()=>({options:d,selectOptionAndCleanUp:A,selectedIndex:O,setHighlightedIndex:I})),[A,O,d]),m.match?m.match.matchingString:"")}function I({options:e,nodeKey:n,onClose:o,onOpen:l,onSelectOption:r,menuRenderFn:i,anchorClassName:u,commandPriority:c=Lexical_prod.Ac,parent:d}){const[h]=(0,LexicalComposerContext_prod.DF)(),[w,b]=(0,react.useState)(null),v=function(e,n,o,l=document.body){const[r]=(0,LexicalComposerContext_prod.DF)(),i=(0,react.useRef)(document.createElement("div")),s=(0,react.useCallback)((()=>{i.current.style.top=i.current.style.bottom;const t=r.getRootElement(),n=i.current,s=n.firstChild;if(null!==t&&null!==e){const{left:r,top:u,width:c,height:a}=e.getRect(),m=i.current.offsetHeight;if(n.style.top=`${u+window.pageYOffset+m+3}px`,n.style.left=`${r+window.pageXOffset}px`,n.style.height=`${a}px`,n.style.width=`${c}px`,null!==s){s.style.top=`${u}`;const e=s.getBoundingClientRect(),o=e.height,l=e.width,i=t.getBoundingClientRect();r+l>i.right&&(n.style.left=`${i.right-l+window.pageXOffset}px`),(u+o>window.innerHeight||u+o>i.bottom)&&u-i.top>o+a&&(n.style.top=u-o+window.pageYOffset-a+"px")}n.isConnected||(null!=o&&(n.className=o),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("id","typeahead-menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute",l.append(n)),i.current=n,t.setAttribute("aria-controls","typeahead-menu")}}),[r,e,o,l]);(0,react.useEffect)((()=>{const t=r.getRootElement();if(null!==e)return s(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=i.current;null!==e&&e.isConnected&&e.remove()}}),[r,s,e]);const u=(0,react.useCallback)((t=>{null!==e&&(t||n(null))}),[e,n]);return R(e,i.current,s,u),i}(w,b,u,d),C=(0,react.useCallback)((()=>{b(null),null!=o&&null!==w&&o()}),[o,w]),E=(0,react.useCallback)((t=>{b(t),null!=l&&null===w&&l(t)}),[l,w]),x=(0,react.useCallback)((()=>{n?h.update((()=>{const t=(0,Lexical_prod.ns)(n),e=h.getElementByKey(n);var o;null!=t&&null!=e&&null==w&&(o=()=>E({getRect:()=>e.getBoundingClientRect()}),react.startTransition?react.startTransition(o):o())})):null==n&&null!=w&&C()}),[C,h,n,E,w]);return(0,react.useEffect)((()=>{x()}),[x,n]),(0,react.useEffect)((()=>{if(null!=n)return h.registerUpdateListener((({dirtyElements:t})=>{t.get(n)&&x()}))}),[h,x,n]),null===w||null===h?null:react.createElement(O,{close:C,resolution:w,editor:h,anchorElementRef:v,options:e,menuRenderFn:i,onSelectOption:r,commandPriority:c})}const w=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,y=(0,Lexical_prod.gu)("INSERT_EMBED_COMMAND");class LexicalAutoEmbedPlugin_prod_C extends v{constructor(e,t){super(e),this.title=e,this.onSelect=t.onSelect.bind(this)}}function LexicalAutoEmbedPlugin_prod_E({embedConfigs:r,onOpenEmbedModalForConfig:s,getMenuOptions:w,menuRenderFn:C,menuCommandPriority:E=Lexical_prod.Ac}){const[_]=(0,LexicalComposerContext_prod.DF)(),[h,M]=(0,react.useState)(null),[S,A]=(0,react.useState)(null),P=(0,react.useCallback)((()=>{M(null),A(null)}),[]),b=(0,react.useCallback)((t=>{_.getEditorState().read((async function(){const n=(0,Lexical_prod.ns)(t);if((0,LexicalLink_prod.FJ)(n))for(let e=0;e<r.length;e++){const t=r[e];null!=await Promise.resolve(t.parseUrl(n.__url))&&(A(t),M(n.getKey()))}}))}),[_,r]);(0,react.useEffect)((()=>(0,LexicalUtils_prod.Sd)(...[LexicalLink_prod.Db,LexicalLink_prod.k_].map((e=>_.registerMutationListener(e,((...e)=>((e,{updateTags:t,dirtyLeaves:n})=>{for(const[o,r]of e)"created"===r&&t.has("paste")&&n.size<=3?b(o):o===h&&P()})(...e))))))),[b,_,r,h,P]),(0,react.useEffect)((()=>_.registerCommand(y,(e=>{const t=r.find((({type:t})=>t===e));return!!t&&(s(t),!0)}),Lexical_prod.jZ)),[_,r,s]);const v=(0,react.useCallback)((async function(){if(null!=S&&null!=h){const t=_.getEditorState().read((()=>{const t=(0,Lexical_prod.ns)(h);return(0,LexicalLink_prod.FJ)(t)?t:null}));if((0,LexicalLink_prod.FJ)(t)){const e=await Promise.resolve(S.parseUrl(t.__url));null!=e&&_.update((()=>{(0,Lexical_prod.vJ)()||t.selectEnd(),S.insertNode(_,e),t.isAttached()&&t.remove()}))}}}),[S,_,h]),z=(0,react.useMemo)((()=>null!=S&&null!=h?w(S,v,P):[]),[S,v,w,h,P]),L=(0,react.useCallback)(((e,t,n)=>{_.update((()=>{e.onSelect(t),n()}))}),[_]);return null!=h?react.createElement(I,{nodeKey:h,onClose:P,onSelectOption:L,options:z,menuRenderFn:C,commandPriority:E}):null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalAutoFocusPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>o});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function o({defaultSelection:o}){const[l]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{l.focus((()=>{const e=document.activeElement,t=l.getRootElement();null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})}),{defaultSelection:o})}),[o,l]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalAutoLinkPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>m,p:()=>F});var _lexical_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");var d=function x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function m(t,e=(t=>t)){return n=>{const l=t.exec(n);return null===l?null:{index:l.index,length:l[0].length,text:l[0],url:e(l[0])}}}function T(t,e){for(let n=0;n<e.length;n++){const l=e[n](t);if(l)return l}return null}const b=/[.,;\s]/;function C(t){return b.test(t)}function S(t){return C(t[t.length-1])}function v(t){return C(t[0])}function L(t){let e=t.getPreviousSibling();return(0,lexical__WEBPACK_IMPORTED_MODULE_1__.ff)(e)&&(e=e.getLastDescendant()),null===e||(0,lexical__WEBPACK_IMPORTED_MODULE_1__.wH)(e)||(0,lexical__WEBPACK_IMPORTED_MODULE_1__.kF)(e)&&S(e.getTextContent())}function R(t){let e=t.getNextSibling();return(0,lexical__WEBPACK_IMPORTED_MODULE_1__.ff)(e)&&(e=e.getFirstDescendant()),null===e||(0,lexical__WEBPACK_IMPORTED_MODULE_1__.wH)(e)||(0,lexical__WEBPACK_IMPORTED_MODULE_1__.kF)(e)&&v(e.getTextContent())}function U(t,e,n,l){return!!(t>0?C(n[t-1]):L(l[0]))&&(e<n.length?C(n[e]):R(l[l.length-1]))}function N(t,e,n){const l=[],r=[],o=[];let i=0,s=0;const u=[...t];for(;u.length>0;){const t=u[0],g=t.getTextContent().length,c=s;s+g<=e?(l.push(t),i+=g):c>=n?o.push(t):r.push(t),s+=g,u.shift()}return[i,l,r,o]}function y(t,e,n,r){const o=(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.Yh)(r.url,r.attributes);if(1===t.length){let l,i=t[0];0===e?[l,i]=i.splitText(n):[,l,i]=i.splitText(e,n);const s=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.sT)(r.text);return s.setFormat(l.getFormat()),s.setDetail(l.getDetail()),s.setStyle(l.getStyle()),o.append(s),l.replace(o),i}if(t.length>1){const l=t[0];let r,i=l.getTextContent().length;0===e?r=l:[,r]=l.splitText(e);const u=[];let g;for(let e=1;e<t.length;e++){const l=t[e],r=l.getTextContent().length,o=i;if(o<n)if(i+r<=n)u.push(l);else{const[t,e]=l.splitText(n-o);u.push(t),g=e}i+=r}const p=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.vJ)(),x=p?p.getNodes().find(lexical__WEBPACK_IMPORTED_MODULE_1__.kF):void 0,d=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.sT)(r.getTextContent());return d.setFormat(r.getFormat()),d.setDetail(r.getDetail()),d.setStyle(r.getStyle()),o.append(d,...u),x&&x===r&&((0,lexical__WEBPACK_IMPORTED_MODULE_1__.I2)(p)?d.select(p.anchor.offset,p.focus.offset):(0,lexical__WEBPACK_IMPORTED_MODULE_1__.RT)(p)&&d.select(0,d.getTextContent().length)),r.replace(o),g}}function D(t,e,n){const l=t.getChildren(),r=l.length;for(let e=0;e<r;e++){const r=l[e];if(!(0,lexical__WEBPACK_IMPORTED_MODULE_1__.kF)(r)||!r.isSimpleText())return P(t),void n(null,t.getURL())}const o=t.getTextContent(),i=T(o,e);if(null===i||i.text!==o)return P(t),void n(null,t.getURL());if(!L(t)||!R(t))return P(t),void n(null,t.getURL());const u=t.getURL();if(u!==i.url&&(t.setURL(i.url),n(i.url,u)),i.attributes){const e=t.getRel();e!==i.attributes.rel&&(t.setRel(i.attributes.rel||null),n(i.attributes.rel||null,e));const l=t.getTarget();l!==i.attributes.target&&(t.setTarget(i.attributes.target||null),n(i.attributes.target||null,l))}}function P(t){const e=t.getChildren();for(let n=e.length-1;n>=0;n--)t.insertAfter(e[n]);return t.remove(),e.map((t=>t.getLatest()))}function F({matchers:t,onChange:e}){const[n]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_4__.DF)();return function w(l,r,u){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{l.hasNodes([_lexical_link__WEBPACK_IMPORTED_MODULE_2__.k_])||d(77);const g=(t,e)=>{u&&u(t,e)};return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(l.registerNodeTransform(lexical__WEBPACK_IMPORTED_MODULE_1__.Ey,(t=>{const l=t.getParentOrThrow(),o=t.getPreviousSibling();if((0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.iK)(l))D(l,r,g);else if(!(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.FJ)(l)){if(t.isSimpleText()&&(v(t.getTextContent())||!(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.iK)(o))){const e=function(t){const e=[t];let n=t.getNextSibling();for(;null!==n&&(0,lexical__WEBPACK_IMPORTED_MODULE_1__.kF)(n)&&n.isSimpleText()&&(e.push(n),!/[\s]/.test(n.getTextContent()));)n=n.getNextSibling();return e}(t);!function(t,e,n){let l=[...t];const r=l.map((t=>t.getTextContent())).join("");let o,i=r,s=0;for(;(o=T(i,e))&&null!==o;){const t=o.index,e=t+o.length;if(U(s+t,s+e,r,l)){const[r,,i,u]=N(l,s+t,s+e),g=y(i,s+t-r,s+e-r,o);l=g?[g,...u]:u,n(o.url,null),s=0}else s+=e;i=i.substring(e)}}(e,r,g)}!function(t,n,l){const r=t.getPreviousSibling(),o=t.getNextSibling(),i=t.getTextContent();(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.iK)(r)&&!v(i)&&(r.append(t),D(r,n,l),l(null,r.getURL())),(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.iK)(o)&&!S(i)&&(P(o),D(o,n,l),l(null,o.getURL()))}(t,r,g)}})))}),[l,r,u])}(n,t,e),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalBlockWithAlignableContents.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>N});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_LexicalDecoratorBlockNode__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalDecoratorBlockNode.prod.mjs"),_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalNodeSelection.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function N({children:N,format:y,nodeKey:D,className:F}){const[L]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),[h,B,K]=(0,_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_2__.Y)(D),b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{if(h&&(0,lexical__WEBPACK_IMPORTED_MODULE_3__.RT)((0,lexical__WEBPACK_IMPORTED_MODULE_3__.vJ)())){e.preventDefault();const r=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.ns)(D);if((0,lexical__WEBPACK_IMPORTED_MODULE_3__.Cy)(r))return r.remove(),!0}return!1}),[h,D]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.Sd)(L.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.fU,(e=>{if(h){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_3__.RT)(t)){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.ns)(D);(0,_lexical_react_LexicalDecoratorBlockNode__WEBPACK_IMPORTED_MODULE_5__.D)(t)&&t.setFormat(e)}else if((0,lexical__WEBPACK_IMPORTED_MODULE_3__.I2)(t)){const o=t.getNodes();for(const t of o)(0,_lexical_react_LexicalDecoratorBlockNode__WEBPACK_IMPORTED_MODULE_5__.D)(t)?t.setFormat(e):(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.mB)(t).setFormat(e)}return!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_3__.Ac),L.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.d8,(e=>e.target===b.current&&(e.preventDefault(),e.shiftKey||K(),B(!h),!0)),lexical__WEBPACK_IMPORTED_MODULE_3__.Ac),L.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.w$,j,lexical__WEBPACK_IMPORTED_MODULE_3__.Ac),L.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.gC,j,lexical__WEBPACK_IMPORTED_MODULE_3__.Ac))),[K,L,h,D,j,B]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:[F.base,h?F.focus:null].filter(Boolean).join(" "),ref:b,style:{textAlign:y||void 0}},N)}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalCharacterLimitPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>z});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+overflow@0.15.0/node_modules/@lexical/overflow/LexicalOverflow.prod.mjs"),_lexical_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+text@0.15.0/node_modules/@lexical/text/LexicalText.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");var x=function p(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function v(e){const t=(0,_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__.NE)();return e.replace(t),t.append(e),t}function w(e){const t=e.getChildren(),n=t.length;for(let r=0;r<n;r++)e.insertBefore(t[r]);return e.remove(),n>0?t[n-1]:null}function T(e){const t=e.getPreviousSibling();if(!(0,_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__.XL)(t))return;const n=e.getFirstChild(),r=t.getChildren(),o=r.length;if(null===n)e.append(...r);else for(let e=0;e<o;e++)n.insertBefore(r[e]);const i=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_4__.I2)(i)){const n=i.anchor,r=n.getNode(),s=i.focus,l=n.getNode();r.is(t)?n.set(e.getKey(),n.offset,"element"):r.is(e)&&n.set(e.getKey(),o+n.offset,"element"),l.is(t)?s.set(e.getKey(),s.offset,"element"):l.is(e)&&s.set(e.getKey(),o+s.offset,"element")}t.remove()}let y=null;function b({remainingCharacters:e}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"characters-limit "+(e<0?"characters-limit-exceeded":"")},e)}function z({charset:t="UTF-16",maxLength:n=5,renderer:i=b}){const[s]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_5__.DF)(),[l,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(n);return function C(e,t,r=Object.freeze({})){const{strlen:o=(e=>e.length),remainingCharacters:l=(()=>{})}=r;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{e.hasNodes([_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__.Vd])||x(57)}),[e]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let n=e.getEditorState().read(_lexical_text__WEBPACK_IMPORTED_MODULE_2__.n$),r=0;return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(e.registerTextContentListener((e=>{n=e})),e.registerUpdateListener((({dirtyLeaves:i,dirtyElements:c})=>{const a=e.isComposing(),p=i.size>0||c.size>0;if(a||!p)return;const x=o(n),C=x>t||null!==r&&r>t;if(l(t-x),null===r||C){const r=function(e,t,n){const r=Intl.Segmenter;let o=0,i=0;if("function"==typeof r){const s=(new r).segment(e);for(const{segment:e}of s){const r=i+n(e);if(r>t)break;i=r,o+=e.length}}else{const r=Array.from(e),s=r.length;for(let e=0;e<s;e++){const s=r[e],l=i+n(s);if(l>t)break;i=l,o+=s.length}}return o}(n,t,o);e.update((()=>{!function(e){const t=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Ie)(),n=t.length;let r=0;for(let o=0;o<n;o+=1){const{node:n}=t[o];if((0,_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__.XL)(n)){const t=r;if(r+n.getTextContentSize()<=e){const e=n.getParent(),t=n.getPreviousSibling(),r=n.getNextSibling();w(n);const o=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.vJ)();!(0,lexical__WEBPACK_IMPORTED_MODULE_4__.I2)(o)||o.anchor.getNode().isAttached()&&o.focus.getNode().isAttached()||((0,lexical__WEBPACK_IMPORTED_MODULE_4__.kF)(t)?t.select():(0,lexical__WEBPACK_IMPORTED_MODULE_4__.kF)(r)?r.select():null!==e&&e.select())}else if(t<e){const r=n.getFirstDescendant(),o=t+(null!==r?r.getTextContentSize():0);((0,lexical__WEBPACK_IMPORTED_MODULE_4__.kF)(r)&&r.isSimpleText()||o<=e)&&w(n)}}else if((0,lexical__WEBPACK_IMPORTED_MODULE_4__.jG)(n)){const t=r;if(r+=n.getTextContentSize(),r>e&&!(0,_lexical_overflow__WEBPACK_IMPORTED_MODULE_1__.XL)(n.getParent())){const r=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.vJ)();let o;if(t<e&&(0,lexical__WEBPACK_IMPORTED_MODULE_4__.kF)(n)&&n.isSimpleText()){const[,r]=n.splitText(e-t);o=v(r)}else o=v(n);null!==r&&(0,lexical__WEBPACK_IMPORTED_MODULE_4__.n1)(r),T(o)}}}}(r)}),{tag:"history-merge"})}r=x})))}),[e,t,l,o])}(s,n,(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({remainingCharacters:c,strlen:e=>{if("UTF-8"===t)return function S(e){const t=void 0===window.TextEncoder?null:(null===y&&(y=new window.TextEncoder),y);if(null===t){const t=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(t?t.length:0)}return t.encode(e).length}(e);if("UTF-16"===t)return e.length;throw new Error("Unrecognized charset")}})),[t])),i({remainingCharacters:l})}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalCheckListPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>L});var _lexical_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+list@0.15.0/node_modules/@lexical/list/LexicalList.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function L(){const[c]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.Sd)(c.registerCommand(_lexical_list__WEBPACK_IMPORTED_MODULE_3__.mJ,(()=>((0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.us)(c,"check"),!0)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.bb,(e=>N(e,c,!1)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.UD,(e=>N(e,c,!0)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.Q$,(e=>{if(null!=y()){const e=c.getRootElement();return null!=e&&e.focus(),!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.Hu,(e=>{const t=y();return!(null==t||!c.isEditable()||(c.update((()=>{const r=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.xL)(t);(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(r)&&(e.preventDefault(),r.toggleChecked())})),0))}),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.AX,(e=>c.getEditorState().read((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_4__.I2)(t)&&t.isCollapsed()){const{anchor:i}=t,l="element"===i.type;if(l||0===i.offset){const t=i.getNode(),u=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.Bt)(t,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_4__.ff)(e)&&!e.isInline()));if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(u)){const n=u.getParent();if((0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.HY)(n)&&"check"===n.getListType()&&(l||u.getFirstDescendant()===t)){const t=c.getElementByKey(u.__key);if(null!=t&&document.activeElement!==t)return t.focus(),e.preventDefault(),!0}}}}return!1}))),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),c.registerRootListener(((e,t)=>{null!==e&&(e.addEventListener("click",_),e.addEventListener("pointerdown",k)),null!==t&&(t.removeEventListener("click",_),t.removeEventListener("pointerdown",k))}))))),null}function x(e,t){const n=e.target;if(null===n||!(0,lexical__WEBPACK_IMPORTED_MODULE_4__.sb)(n))return;const r=n.firstChild;if(null!=r&&(0,lexical__WEBPACK_IMPORTED_MODULE_4__.sb)(r)&&("UL"===r.tagName||"OL"===r.tagName))return;const i=n.parentNode;if(!i||"check"!==i.__lexicalListType)return;const l=n.getBoundingClientRect(),o=e.pageX/(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.OV)(n);("rtl"===n.dir?o<l.right&&o>l.right-20:o>l.left&&o<l.left+20)&&t()}function _(e){x(e,(()=>{const t=e.target,r=function(e){let t=e;for(;t;){if(t.__lexicalEditor)return t.__lexicalEditor;t=t.parentNode}return null}(t);null!=r&&r.isEditable()&&r.update((()=>{if(e.target){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.xL)(t);(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(e)&&(t.focus(),e.toggleChecked())}}))}))}function k(e){x(e,(()=>{e.preventDefault()}))}function y(){const e=document.activeElement;return null!=e&&"LI"===e.tagName&&null!=e.parentNode&&"check"===e.parentNode.__lexicalListType?e:null}function N(e,t,i){const l=y();return null!=l&&t.update((()=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.xL)(l);if(!(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(o))return;const c=function(e,t){let i=t?e.getPreviousSibling():e.getNextSibling(),l=e;for(;null==i&&(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(l);)l=l.getParentOrThrow().getParent(),null!=l&&(i=t?l.getPreviousSibling():l.getNextSibling());for(;(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.Mz)(i);){const e=t?i.getLastChild():i.getFirstChild();if(!(0,_lexical_list__WEBPACK_IMPORTED_MODULE_3__.HY)(e))return i;i=t?e.getLastChild():e.getFirstChild()}return null}(o,i);if(null!=c){c.selectStart();const n=t.getElementByKey(c.__key);null!=n&&(e.preventDefault(),setTimeout((()=>{n.focus()}),0))}})),!1}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalClearEditorPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>d});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function d({onClear:c}){const[m]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return a((()=>m.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.SK,(e=>(m.update((()=>{if(null==c){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.Ni)(),o=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)(),i=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.lJ)();e.clear(),e.append(i),null!==o&&i.select(),(0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(o)&&(o.format=0)}else c()})),!0)),lexical__WEBPACK_IMPORTED_MODULE_2__.jZ)),[m,c]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalClickableLinkPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>c});var _lexical_link__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function c({newTab:c=!0,disabled:f=!1}){const[m]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=t=>{const s=t.target;if(!(s instanceof Node))return;const p=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.sc)(s);if(null===p)return;let d=null,v=null;if(p.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.xL)(s);if(null!==t){const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Bt)(t,lexical__WEBPACK_IMPORTED_MODULE_2__.ff);if(!f)if((0,_lexical_link__WEBPACK_IMPORTED_MODULE_4__.FJ)(l))d=l.sanitizeUrl(l.getURL()),v=l.getTarget();else{const e=function(e,t){let n=e;for(;null!=n;){if(t(n))return n;n=n.parentNode}return null}(s,lexical__WEBPACK_IMPORTED_MODULE_2__.nY);null!==e&&(d=e.href,v=e.target)}}})),null===d||""===d)return;const x=m.getEditorState().read(lexical__WEBPACK_IMPORTED_MODULE_2__.vJ);if((0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(x)&&!x.isCollapsed())return void t.preventDefault();const g="auxclick"===t.type&&1===t.button;window.open(d,c||g||t.metaKey||t.ctrlKey||"_blank"===v?"_blank":"_self"),t.preventDefault()},s=e=>{1===e.button&&t(e)};return m.registerRootListener(((e,n)=>{null!==n&&(n.removeEventListener("click",t),n.removeEventListener("mouseup",s)),null!==e&&(e.addEventListener("click",t),e.addEventListener("mouseup",s))}))}),[m,c,f]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalCollaborationContext.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>l});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const o=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],b=o[Math.floor(Math.random()*o.length)],e=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({clientID:0,color:b[1],isCollabActive:!1,name:b[0],yjsDocMap:new Map});function l(r,o){const b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(e);return null!=r&&(b.name=r),null!=o&&(b.color=o),b}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalCollaborationPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>_});var _lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalCollaborationContext.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_lexical_utils__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+yjs@0.15.0_yjs@13.6.15/node_modules/@lexical/yjs/LexicalYjs.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),yjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/yjs@13.6.15/node_modules/yjs/dist/yjs.mjs");function _({id:o,providerFactory:r,shouldBootstrap:n,username:c,cursorColor:l,cursorsContainerRef:d,initialEditorState:m,excludedProperties:u,awarenessData:p}){const g=(0,_lexical_react_LexicalCollaborationContext__WEBPACK_IMPORTED_MODULE_6__.k)(c,l),{yjsDocMap:y,name:C,color:b}=g,[x]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_7__.DF)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(g.isCollabActive=!0,()=>{null==x._parentEditor&&(g.isCollabActive=!1)})),[g,x]);const k=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>r(o,y)),[o,r,y]),[S,D]=function A(e,t,i,f,p,E,v,b,x,k,S){const A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1),[R,_]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(f.get(t)),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.KF)(e,i,t,R,f,k)),[e,i,t,f,R,k]),z=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{i.connect()}),[i]),B=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{try{i.disconnect()}catch(e){}}),[i]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const{root:o}=I,{awareness:r}=i,n=({status:t})=>{e.dispatchCommand(_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.GT,"connected"===t)},s=t=>{v&&t&&o.isEmpty()&&0===o._xmlText._length&&!1===A.current&&function(e,t){e.update((()=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.Ni)();if(o.isEmpty())if(t)switch(typeof t){case"string":{const o=e.parseEditorState(t);e.setEditorState(o,{tag:"history-merge"});break}case"object":e.setEditorState(t,{tag:"history-merge"});break;case"function":e.update((()=>{(0,lexical__WEBPACK_IMPORTED_MODULE_3__.Ni)().isEmpty()&&t(e)}),{tag:"history-merge"})}else{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.lJ)();o.append(t);const{activeElement:r}=document;(null!==(0,lexical__WEBPACK_IMPORTED_MODULE_3__.vJ)()||null!==r&&r===e.getRootElement())&&t.select()}}),{tag:"history-merge"})}(e,x),A.current=!1},c=()=>{(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.Oy)(I,i)},a=(e,t)=>{const o=t.origin;o!==I&&(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.o0)(I,i,e,o instanceof yjs__WEBPACK_IMPORTED_MODULE_4__.ad)};(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.tJ)(i,p,E,document.activeElement===e.getRootElement(),S||{});const l=o=>{!function(e,t){if(e.update((()=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.Ni)();e.clear(),e.select()}),{tag:"skip-collab"}),null==t.cursors)return;const o=t.cursors;if(null==o)return;const r=t.cursorsContainer;if(null==r)return;const n=Array.from(o.values());for(let e=0;e<n.length;e++){const t=n[e].selection;if(t&&null!=t.selections){const o=t.selections;for(let t=0;t<o.length;t++)r.removeChild(o[e])}}}(e,I),_(o),f.set(t,o),A.current=!0};i.on("reload",l),i.on("status",n),i.on("sync",s),r.on("update",c),o.getSharedType().observeDeep(a);const u=e.registerUpdateListener((({prevEditorState:e,editorState:t,dirtyLeaves:o,dirtyElements:r,normalizedNodes:n,tags:s})=>{!1===s.has("skip-collab")&&(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.gE)(I,i,e,t,r,o,n,s)}));return z(),()=>{!1===A.current&&B(),i.off("sync",s),i.off("status",n),i.off("reload",l),r.off("update",c),o.getSharedType().unobserveDeep(a),f.delete(t),u()}}),[I,E,z,B,f,e,t,x,p,i,v,S]);const F=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:e=>{I.cursorsContainer=e}}),b&&b.current||document.body)),[I,b]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>e.registerCommand(_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.KL,(e=>(void 0!==z&&void 0!==B&&(e?(console.log("Collaboration connected!"),z()):(console.log("Collaboration disconnected!"),B())),!0)),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ)),[z,B,e]),[F,I]}(x,o,k,y,C,b,n,d,m,u,p);return g.clientID=D.clientID,function R(e,t){const r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>(0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.uj)(t,t.root.getSharedType())),[t]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_5__.Sd)(e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.ZK,(()=>(r.undo(),!0)),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.V3,(()=>(r.redo(),!0)),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ))));const n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{r.clear()}),[r]);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{const t=()=>{e.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.Kf,r.undoStack.length>0),e.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.WW,r.redoStack.length>0)};return r.on("stack-item-added",t),r.on("stack-item-popped",t),r.on("stack-cleared",t),()=>{r.off("stack-item-added",t),r.off("stack-item-popped",t),r.off("stack-cleared",t)}}),[e,r]),n}(x,D),function(e,t,o,r,n){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_5__.Sd)(e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.$7,(()=>((0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.H$)(t,o,r,!0,n||{}),!1)),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_3__.pF,(()=>((0,_lexical_yjs__WEBPACK_IMPORTED_MODULE_2__.H$)(t,o,r,!1,n||{}),!1)),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ))),[r,e,o,t,n])}(x,k,C,b,p),S}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposer.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>p});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=d?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect,u={tag:"history-merge"};function p({initialConfig:a,children:c}){const p=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const{theme:t,namespace:l,editor__DEPRECATED:c,nodes:s,onError:m,editorState:p,html:f}=a,E=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.Mx)(null,t);let b=c||null;if(null===b){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.ie)({editable:a.editable,html:f,namespace:l,nodes:s,onError:t=>m(t,e),theme:t});!function(e,t){if(null!==t)if(void 0===t)e.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.Ni)();if(t.isEmpty()){const o=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.lJ)();t.append(o);const n=d?document.activeElement:null;(null!==(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)()||null!==n&&n===e.getRootElement())&&o.select()}}),u);else if(null!==t)switch(typeof t){case"string":{const o=e.parseEditorState(t);e.setEditorState(o,u);break}case"object":e.setEditorState(t,u);break;case"function":e.update((()=>{(0,lexical__WEBPACK_IMPORTED_MODULE_2__.Ni)().isEmpty()&&t(e)}),u)}}(e,p),b=e}return[b,E]}),[]);return m((()=>{const e=a.editable,[t]=p;t.setEditable(void 0===e||e)}),[]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.Gu.Provider,{value:p},c)}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DF:()=>u,Gu:()=>l,Mx:()=>o});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");var t=function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const n=new URLSearchParams;n.append("code",e);for(let e=1;e<arguments.length;e++)n.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${n} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const l=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function o(e,n){let r=null;return null!=e&&(r=e[1]),{getTheme:function(){return null!=n?n:null!=r?r.getTheme():null}}}function u(){const e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(l);return null==e&&t(8),e}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalContentEditable.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>l});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function n(){return n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},n.apply(this,arguments)}const d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function l({ariaActiveDescendant:t,ariaAutoComplete:i,ariaControls:l,ariaDescribedBy:c,ariaExpanded:s,ariaLabel:b,ariaLabelledBy:m,ariaMultiline:u,ariaOwns:p,ariaRequired:v,autoCapitalize:f,className:w,id:x,role:y="textbox",spellCheck:C=!0,style:E,tabIndex:h,"data-testid":O,...g}){const[D]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),[L,j]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),k=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{e&&e.ownerDocument&&e.ownerDocument.defaultView&&D.setRootElement(e)}),[D]);return d((()=>(j(D.isEditable()),D.registerEditableListener((e=>{j(e)})))),[D]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",n({},g,{"aria-activedescendant":L?t:void 0,"aria-autocomplete":L?i:"none","aria-controls":L?l:void 0,"aria-describedby":c,"aria-expanded":L&&"combobox"===y?!!s:void 0,"aria-label":b,"aria-labelledby":m,"aria-multiline":u,"aria-owns":L?p:void 0,"aria-readonly":!L||void 0,"aria-required":v,autoCapitalize:f,className:w,contentEditable:L,"data-testid":O,id:x,ref:k,role:y,spellCheck:C,style:E,tabIndex:h}))}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalContextMenuPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>b,S:()=>I});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;class b{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const E=t=>{const e=document.getElementById("typeahead-menu");if(!e)return;const n=e.getBoundingClientRect();n.top+n.height>window.innerHeight&&e.scrollIntoView({block:"center"}),n.top<0&&e.scrollIntoView({block:"center"}),t.scrollIntoView({block:"nearest"})};function C(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.top>o.top&&n.top<o.bottom}function R(e,n,o,l){const[r]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(null!=n&&null!=e){const t=r.getRootElement(),e=null!=t?function(t,e){let n=getComputedStyle(t);const o="absolute"===n.position,l=/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let e=t;e=e.parentElement;)if(n=getComputedStyle(e),(!o||"static"!==n.position)&&l.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}(t):document.body;let i=!1,u=C(n,e);const c=function(){i||(window.requestAnimationFrame((function(){o(),i=!1})),i=!0);const t=C(n,e);t!==u&&(u=t,null!=l&&l(t))},s=new ResizeObserver(o);return window.addEventListener("resize",o),document.addEventListener("scroll",c,{capture:!0,passive:!0}),s.observe(n),()=>{s.unobserve(n),window.removeEventListener("resize",o),document.removeEventListener("scroll",c,!0)}}}),[n,r,l,o,e])}const x=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.gu)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function O({close:t,editor:n,anchorElementRef:o,resolution:d,options:p,menuRenderFn:v,onSelectOption:b,shouldSplitNodeWithQuery:C=!1,commandPriority:R=lexical__WEBPACK_IMPORTED_MODULE_2__.Ac}){const[O,I]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),S=d.match&&d.match.matchingString;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{I(0)}),[S]);const A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{n.update((()=>{const n=null!=d.match&&C?function(t){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(e)||!e.isCollapsed())return null;const n=e.anchor;if("text"!==n.type)return null;const o=n.getNode();if(!o.isSimpleText())return null;const l=n.offset,r=o.getTextContent().slice(0,l),i=t.replaceableString.length,u=l-function(t,e,n){let o=n;for(let n=o;n<=e.length;n++)t.substr(-n)===e.substr(0,n)&&(o=n);return o}(r,t.matchingString,i);if(u<0)return null;let c;return 0===u?[c]=o.splitText(l):[,c]=o.splitText(u,l),c}(d.match):null;b(e,n,t,d.match?d.match.matchingString:"")}))}),[n,C,d.match,b,t]),L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{const e=n.getRootElement();null!==e&&(e.setAttribute("aria-activedescendant","typeahead-item-"+t),I(t))}),[n]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{const t=n.getRootElement();null!==t&&t.removeAttribute("aria-activedescendant")}),[n]),y((()=>{null===p?I(null):null===O&&L(0)}),[p,O,L]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(n.registerCommand(x,(({option:t})=>!(!t.ref||null==t.ref.current||(E(t.ref.current),0))),R))),[n,L,R]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.bb,(t=>{const e=t;if(null!==p&&p.length&&null!==O){const t=O!==p.length-1?O+1:0;L(t);const o=p[t];null!=o.ref&&o.ref.current&&n.dispatchCommand(x,{index:t,option:o}),e.preventDefault(),e.stopImmediatePropagation()}return!0}),R),n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.UD,(t=>{const e=t;if(null!==p&&p.length&&null!==O){const t=0!==O?O-1:p.length-1;L(t);const n=p[t];null!=n.ref&&n.ref.current&&E(n.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),R),n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.Q$,(e=>{const n=e;return n.preventDefault(),n.stopImmediatePropagation(),t(),!0}),R),n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.OX,(t=>{const e=t;return null!==p&&null!==O&&null!=p[O]&&(e.preventDefault(),e.stopImmediatePropagation(),A(p[O]),!0)}),R),n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.if,(t=>null!==p&&null!==O&&null!=p[O]&&(null!==t&&(t.preventDefault(),t.stopImmediatePropagation()),A(p[O]),!0)),R))),[A,t,n,p,O,L,R]),v(o,(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({options:p,selectOptionAndCleanUp:A,selectedIndex:O,setHighlightedIndex:I})),[A,O,p]),d.match?d.match.matchingString:"")}function I({options:e,onWillOpen:o,onClose:l,onOpen:r,onSelectOption:i,menuRenderFn:u,anchorClassName:c,commandPriority:a=lexical__WEBPACK_IMPORTED_MODULE_2__.Ac,parent:m}){const[p]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),[w,y]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),b=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),E=function(e,n,o,l=document.body){const[r]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(document.createElement("div")),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{i.current.style.top=i.current.style.bottom;const t=r.getRootElement(),n=i.current,u=n.firstChild;if(null!==t&&null!==e){const{left:r,top:c,width:s,height:a}=e.getRect(),m=i.current.offsetHeight;if(n.style.top=`${c+window.pageYOffset+m+3}px`,n.style.left=`${r+window.pageXOffset}px`,n.style.height=`${a}px`,n.style.width=`${s}px`,null!==u){u.style.top=`${c}`;const e=u.getBoundingClientRect(),o=e.height,l=e.width,i=t.getBoundingClientRect();r+l>i.right&&(n.style.left=`${i.right-l+window.pageXOffset}px`),(c+o>window.innerHeight||c+o>i.bottom)&&c-i.top>o+a&&(n.style.top=c-o+window.pageYOffset-a+"px")}n.isConnected||(null!=o&&(n.className=o),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("id","typeahead-menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute",l.append(n)),i.current=n,t.setAttribute("aria-controls","typeahead-menu")}}),[r,e,o,l]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=r.getRootElement();if(null!==e)return u(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=i.current;null!==e&&e.isConnected&&e.remove()}}),[r,u,e]);const c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{null!==e&&(t||n(null))}),[e,n]);return R(e,i.current,u,c),i}(w,y,c,m),C=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{y(null),null!=l&&null!==w&&l()}),[l,w]),x=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{y(t),null!=r&&null===w&&r(t)}),[r,w]),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{t.preventDefault(),null!=o&&o(t);const e=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.OV)(t.target);x({getRect:()=>new DOMRect(t.clientX/e,t.clientY/e,1,1)})}),[x,o]),S=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{null===w||null==b.current||null==t.target||b.current.contains(t.target)||C()}),[C,w]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=p.getRootElement();if(t)return t.addEventListener("contextmenu",I),()=>t.removeEventListener("contextmenu",I)}),[p,I]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(document.addEventListener("click",S),()=>document.removeEventListener("click",S))),[p,S]),null===w||null===p?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(O,{close:C,resolution:w,editor:p,anchorElementRef:E,options:e,menuRenderFn:(t,e)=>u(t,e,{setMenuRef:t=>{b.current=t}}),onSelectOption:i,commandPriority:a})}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalDecoratorBlockNode.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>e,d:()=>r});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");class r extends lexical__WEBPACK_IMPORTED_MODULE_0__.Kp{constructor(t,r){super(r),this.__format=t||""}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1}}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(t){this.getWritable().__format=t}isInline(){return!1}}function e(t){return t instanceof r}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalEditorRefPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>o});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function o({editorRef:o}){const[r]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>{"function"==typeof o?o(r):"object"==typeof o&&(o.current=r)}),[r]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalErrorBoundary.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>n});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function e(r,t){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},e(r,t)}var t={error:null},o=function(o){var n,a;function l(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=o.call.apply(o,[this].concat(n))||this).state=t,r.resetErrorBoundary=function(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];null==r.props.onReset||(e=r.props).onReset.apply(e,o),r.reset()},r}a=o,(n=l).prototype=Object.create(a.prototype),n.prototype.constructor=n,e(n,a),l.getDerivedStateFromError=function(r){return{error:r}};var s=l.prototype;return s.reset=function(){this.setState(t)},s.componentDidCatch=function(r,e){var t,o;null==(t=(o=this.props).onError)||t.call(o,r,e)},s.componentDidUpdate=function(r,e){var t,o,n,a,l=this.state.error,s=this.props.resetKeys;null!==l&&null!==e.error&&(void 0===(n=r.resetKeys)&&(n=[]),void 0===(a=s)&&(a=[]),n.length!==a.length||n.some((function(r,e){return!Object.is(r,a[e])})))&&(null==(t=(o=this.props).onResetKeysChange)||t.call(o,r.resetKeys,s),this.reset())},s.render=function(){var e=this.state.error,t=this.props,o=t.fallbackRender,n=t.FallbackComponent,a=t.fallback;if(null!==e){var l={error:e,resetErrorBoundary:this.resetErrorBoundary};if(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(a))return a;if("function"==typeof o)return o(l);if(n)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(n,l);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},l}(react__WEBPACK_IMPORTED_MODULE_0__.Component);function n({children:e,onError:t}){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(o,{fallback:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHashtagPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>c});var _lexical_hashtag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+hashtag@0.15.0/node_modules/@lexical/hashtag/LexicalHashtag.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_useLexicalTextEntity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalTextEntity.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const i=new RegExp(function(){const{alpha:t,alphanumeric:e,hashChars:r}=function(){const t=String.fromCharCode,e="A-Za-zªµºÀ-ÖØ-öø-Ɂɐ-ˁˆ-ˑˠ-ˤˮͺΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϵϷ-ҁҊ-ӎӐ-ӹԀ-ԏԱ-Ֆՙա-ևא-תװ-ײء-غـ-يٮ-ٯٱ-ۓەۥ-ۦۮ-ۯۺ-ۼۿܐܒ-ܯݍ-ݭހ-ޥޱऄ-हऽॐक़-ॡॽঅ-ঌএ-ঐও-নপ-রলশ-হঽৎড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલ-ળવ-હઽૐૠ-ૡଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଵ-ହଽଡ଼-ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡඅ-ඖක-නඳ-රලව-ෆก-ะา-ำเ-ๆກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ະາ-ຳຽເ-ໄໆໜ-ໝༀཀ-ཇཉ-ཪྈ-ྋက-အဣ-ဧဩ-ဪၐ-ၕႠ-Ⴥა-ჺჼᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦩᧁ-ᧇᨀ-ᨖᴀ-ᶿḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₔℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℱℳ-ℹℼ-ℿⅅ-ⅉⰀ-Ⱞⰰ-ⱞⲀ-ⳤⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〆〱-〵〻-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄬㄱ-ㆎㆠ-ㆷㇰ-ㇿ㐀-䶵一-龻ꀀ-ꒌꠀ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢ가-힣豈-鶴侮-頻並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҆-ֹֻ-ֽֿׁ-ׂׄ-ׇׅؐ-ًؕ-ٰٞۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ްँ-ः़ा-्॑-॔ॢ-ॣঁ-ঃ়া-ৄে-ৈো-্ৗৢ-ৣਁ-ਃ਼ਾ-ੂੇ-ੈੋ-੍ੰ-ੱઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣଁ-ଃ଼ା-ୃେ-ୈୋ-୍ୖ-ୗஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕ-ౖಂ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕ-ೖം-ഃാ-ൃെ-ൈൊ-്ൗං-ඃ්ා-ුූෘ-ෟෲ-ෳัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-༹༙༵༷༾-༿ཱ-྄྆-྇ྐ-ྗྙ-ྼ࿆ာ-ဲံ-္ၖ-ၙ፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈ-ᧉᨗ-ᨛ᷀-᷃⃐-⃥⃜⃡-⃫〪-゙〯-゚ꠂ꠆ꠋꠣ-ꠧﬞ︀-️︠-︣À-ÖØ-öø-ÿĀ-ɏɓ-ɔɖ-ɗəɛɣɨɯɲʉʋʻ̀-ͯḀ-ỿЀ-ӿԀ-ԧⷠ-ⷿꙀ-֑ꚟ-ֿׁ-ׂׄ-ׇׅא-תװ-״﬒-ﬨשׁ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﭏؐ-ؚؠ-ٟٮ-ۓە-ۜ۞-۪ۨ-ۯۺ-ۼۿݐ-ݿࢠࢢ-ࢬࣤ-ࣾﭐ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼ‌-‌ก-ฺเ-๎ᄀ-ᇿ㄰-ㆅꥠ-꥿가-힯ힰ-퟿ﾡ-ￜァ-ヺー-ヾｦ-ﾟ０-９Ａ-Ｚａ-ｚぁ-ゖ゙-ゞ㐀-䶿一-鿿"+t(173824)+"-"+t(177983)+t(177984)+"-"+t(178207)+t(194560)+"-"+t(195103)+"〃々〻";return{alpha:e,alphanumeric:e+"0-9٠-٩۰-۹०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉០-៩᠐-᠙᥆-᥏᧐-᧙０-９_",hashChars:"#\\uFF03"}}(),n="["+e+"]";return"(^|$|[^&/"+e+"])(["+r+"])("+n+"*["+t+"]"+n+"*)"}(),"i");function c(){const[c]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!c.hasNodes([_lexical_hashtag__WEBPACK_IMPORTED_MODULE_2__.ZZ]))throw new Error("HashtagPlugin: HashtagNode not registered on editor")}),[c]);const l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>(0,_lexical_hashtag__WEBPACK_IMPORTED_MODULE_2__.Lr)(t.getTextContent())),[]),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{const e=i.exec(t);if(null===e)return null;const r=e[3].length+1,n=e.index+e[1].length;return{end:n+r,start:n}}),[]);return(0,_lexical_react_useLexicalTextEntity__WEBPACK_IMPORTED_MODULE_3__.q)(s,_lexical_hashtag__WEBPACK_IMPORTED_MODULE_2__.ZZ,l),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHistoryPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>c});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_history__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+history@0.15.0/node_modules/@lexical/history/LexicalHistory.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function c({externalHistoryState:c}){const[a]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return function(t,c,a=1e3){const l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>c||(0,_lexical_history__WEBPACK_IMPORTED_MODULE_2__.h)()),[c]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_history__WEBPACK_IMPORTED_MODULE_2__._)(t,l,a)),[a,t,l])}(a,c),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHorizontalRuleNode.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hd:()=>E,PL:()=>C,fS:()=>g,s0:()=>y});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalNodeSelection.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const y=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.gu)("INSERT_HORIZONTAL_RULE_COMMAND");function O({nodeKey:n}){const[o]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__.DF)(),[i,f,y]=(0,_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_3__.Y)(n),O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{if(i&&(0,lexical__WEBPACK_IMPORTED_MODULE_1__.RT)((0,lexical__WEBPACK_IMPORTED_MODULE_1__.vJ)())){e.preventDefault();const t=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.ns)(n);if(E(t))return t.remove(),!0}return!1}),[i,n]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.Sd)(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_1__.d8,(e=>{const t=o.getElementByKey(n);return e.target===t&&(e.shiftKey||y(),f(!i),!0)}),lexical__WEBPACK_IMPORTED_MODULE_1__.Ac),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_1__.w$,O,lexical__WEBPACK_IMPORTED_MODULE_1__.Ac),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_1__.gC,O,lexical__WEBPACK_IMPORTED_MODULE_1__.Ac))),[y,o,i,n,O,f]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=o.getElementByKey(n);null!==e&&(e.className=i?"selected":"")}),[o,i,n]),null}class g extends lexical__WEBPACK_IMPORTED_MODULE_1__.Kp{static getType(){return"horizontalrule"}static clone(e){return new g(e.__key)}static importJSON(e){return C()}static importDOM(){return{hr:()=>({conversion:h,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(O,{nodeKey:this.__key})}}function h(){return{node:C()}}function C(){return(0,lexical__WEBPACK_IMPORTED_MODULE_1__.pT)(new g)}function E(e){return e instanceof g}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHorizontalRulePlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>n});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHorizontalRuleNode.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function n(){const[n]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>n.registerCommand(_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_2__.s0,(o=>{const r=(0,lexical__WEBPACK_IMPORTED_MODULE_3__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_3__.I2)(r))return!1;if(null!==r.focus.getNode()){const o=(0,_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_2__.PL)();(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.Pe)(o)}return!0}),lexical__WEBPACK_IMPORTED_MODULE_3__.jZ)),[n]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalLinkPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>u});var _lexical_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function u({validateUrl:u}){const[p]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!p.hasNodes([_lexical_link__WEBPACK_IMPORTED_MODULE_2__.Db]))throw new Error("LinkPlugin: LinkNode not registered on editor");return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(p.registerCommand(_lexical_link__WEBPACK_IMPORTED_MODULE_2__.yW,(t=>{if(null===t)return(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.hx)(t),!0;if("string"==typeof t)return!(void 0!==u&&!u(t)||((0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.hx)(t),0));{const{url:r,target:o,rel:i,title:n}=t;return(0,_lexical_link__WEBPACK_IMPORTED_MODULE_2__.hx)(r,{rel:i,target:o,title:n}),!0}}),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),void 0!==u?p.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.w,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_4__.I2)(e)||e.isCollapsed()||!(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.xj)(t,ClipboardEvent))return!1;const o=t;if(null===o.clipboardData)return!1;const i=o.clipboardData.getData("text");return!!u(i)&&!e.getNodes().some((t=>(0,lexical__WEBPACK_IMPORTED_MODULE_4__.ff)(t)))&&(p.dispatchCommand(_lexical_link__WEBPACK_IMPORTED_MODULE_2__.yW,i),t.preventDefault(),!0)}),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac):()=>{})}),[p,u]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalListPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>u});var _lexical_list__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+list@0.15.0/node_modules/@lexical/list/LexicalList.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");function u(){const[u]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!u.hasNodes([_lexical_list__WEBPACK_IMPORTED_MODULE_2__.v5,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.YW]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[u]),function(n){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(n.registerCommand(_lexical_list__WEBPACK_IMPORTED_MODULE_2__.x,(()=>((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.us)(n,"number"),!0)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),n.registerCommand(_lexical_list__WEBPACK_IMPORTED_MODULE_2__.q7,(()=>((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.us)(n,"bullet"),!0)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),n.registerCommand(_lexical_list__WEBPACK_IMPORTED_MODULE_2__.uS,(()=>((0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.tK)(n),!0)),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac),n.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_4__.XK,(()=>!!(0,_lexical_list__WEBPACK_IMPORTED_MODULE_2__.yX)()),lexical__WEBPACK_IMPORTED_MODULE_4__.Ac))),[n])}(u),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalMarkdownShortcutPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>a});var _lexical_markdown__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+markdown@0.15.0/node_modules/@lexical/markdown/LexicalMarkdown.prod.mjs"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalHorizontalRuleNode.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const i=[{dependencies:[_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_1__.fS],export:e=>(0,_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_1__.Hd)(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,r,t,o)=>{const l=(0,_lexical_react_LexicalHorizontalRuleNode__WEBPACK_IMPORTED_MODULE_1__.PL)();o||null!=e.getNextSibling()?e.replace(l):e.insertBefore(l),l.selectNext()},type:"element"},..._lexical_markdown__WEBPACK_IMPORTED_MODULE_2__.Rm];function a({transformers:e=i}){const[o]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_markdown__WEBPACK_IMPORTED_MODULE_2__.iM)(o,e)),[o,e]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalOnChangePlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>i});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function i({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:o=!1,onChange:i}){const[n]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return r((()=>{if(i)return n.registerUpdateListener((({editorState:e,dirtyElements:r,dirtyLeaves:a,prevEditorState:d,tags:s})=>{o&&0===r.size&&0===a.size||t&&s.has("history-merge")||d.isEmpty()||i(e,n,s)}))}),[n,t,o,i]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalPlainTextPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>x});var LexicalComposerContext_prod=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),useLexicalEditable_prod=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalEditable.prod.mjs"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),LexicalText_prod=__webpack_require__("../node_modules/.pnpm/@lexical+text@0.15.0/node_modules/@lexical/text/LexicalText.prod.mjs"),LexicalUtils_prod=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),react_dom=__webpack_require__("../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),LexicalDragon_prod=__webpack_require__("../node_modules/.pnpm/@lexical+dragon@0.15.0/node_modules/@lexical/dragon/LexicalDragon.prod.mjs"),LexicalClipboard_prod=__webpack_require__("../node_modules/.pnpm/@lexical+clipboard@0.15.0/node_modules/@lexical/clipboard/LexicalClipboard.prod.mjs"),LexicalSelection_prod=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs"),Lexical_prod=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");const M="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,P=M&&"documentMode"in document?document.documentMode:null,S=!(!M||!("InputEvent"in window)||P)&&"getTargetRanges"in new window.InputEvent("input"),k=M&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),B=M&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,I=M&&/^(?=.*Chrome).*/i.test(navigator.userAgent),W=M&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!I;function R(e,n){n.update((()=>{if(null!==e){const r=(0,LexicalUtils_prod.xj)(e,KeyboardEvent)?null:e.clipboardData,o=(0,Lexical_prod.vJ)();if(null!==o&&null!=r){e.preventDefault();const i=(0,LexicalClipboard_prod.Pv)(n);null!==i&&r.setData("text/html",i),r.setData("text/plain",o.getTextContent())}}}))}const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react.useLayoutEffect:react.useEffect;function E(e){return e.getEditorState().read((0,LexicalText_prod.yl)(e.isComposing()))}function x({contentEditable:t,placeholder:o,ErrorBoundary:a}){const[E]=(0,LexicalComposerContext_prod.DF)(),x=function(e,t){const[o,a]=(0,react.useState)((()=>e.getDecorators()));return p((()=>e.registerDecoratorListener((e=>{(0,react_dom.flushSync)((()=>{a(e)}))}))),[e]),(0,react.useEffect)((()=>{a(e.getDecorators())}),[e]),(0,react.useMemo)((()=>{const n=[],c=Object.keys(o);for(let i=0;i<c.length;i++){const a=c[i],m=react.createElement(t,{onError:t=>e._onError(t)},react.createElement(react.Suspense,{fallback:null},o[a])),u=e.getElementByKey(a);null!==u&&n.push((0,react_dom.createPortal)(m,u,a))}return n}),[t,o,e])}(E,a);return function(e){p((()=>(0,LexicalUtils_prod.Sd)(function V(t){return(0,LexicalUtils_prod.Sd)(t.registerCommand(Lexical_prod.Wu,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(t.deleteCharacter(e),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.hi,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(t.deleteWord(e),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.vi,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(t.deleteLine(e),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.bM,(t=>{const n=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(n))return!1;if("string"==typeof t)n.insertText(t);else{const r=t.dataTransfer;if(null!=r)(0,LexicalClipboard_prod.Z3)(r,n);else{const e=t.data;e&&n.insertText(e)}}return!0}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.$e,(()=>{const e=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(e)&&(e.removeText(),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.FE,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(t.insertLineBreak(e),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.XK,(()=>{const e=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(e)&&(e.insertLineBreak(),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.AX,(e=>{const t=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(t))return!1;const o=e,i=o.shiftKey;return!!(0,LexicalSelection_prod.Cb)(t,!0)&&(o.preventDefault(),(0,LexicalSelection_prod.Rk)(t,i,!0),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.JM,(e=>{const t=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(t))return!1;const o=e,i=o.shiftKey;return!!(0,LexicalSelection_prod.Cb)(t,!1)&&(o.preventDefault(),(0,LexicalSelection_prod.Rk)(t,i,!1),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.gC,(e=>{const n=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(n)&&(e.preventDefault(),t.dispatchCommand(Lexical_prod.Wu,!0))}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.w$,(e=>{const n=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(n)&&(e.preventDefault(),t.dispatchCommand(Lexical_prod.Wu,!1))}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.if,(e=>{const n=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(n))return!1;if(null!==e){if((B||k||W)&&S)return!1;e.preventDefault()}return t.dispatchCommand(Lexical_prod.FE,!1)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.Q$,(()=>{const e=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(e)&&(t.blur(),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.HY,(()=>((0,Lexical_prod.e1)(),!0)),Lexical_prod.jZ),t.registerCommand(Lexical_prod.u5,(e=>{const n=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(n)&&(R(e,t),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.VS,(e=>{const n=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(n)&&(function(e,t){R(e,t),t.update((()=>{const e=(0,Lexical_prod.vJ)();(0,Lexical_prod.I2)(e)&&e.removeText()}))}(e,t),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.w,(n=>{const r=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(r)&&(function(t,n){t.preventDefault(),n.update((()=>{const n=(0,Lexical_prod.vJ)(),{clipboardData:r}=t;null!=r&&(0,Lexical_prod.I2)(n)&&(0,LexicalClipboard_prod.Z3)(r,n)}),{tag:"paste"})}(n,t),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.Sr,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(e.preventDefault(),!0)}),Lexical_prod.jZ),t.registerCommand(Lexical_prod.Tg,(e=>{const t=(0,Lexical_prod.vJ)();return!!(0,Lexical_prod.I2)(t)&&(e.preventDefault(),!0)}),Lexical_prod.jZ))}(e),(0,LexicalDragon_prod.U)(e))),[e])}(E),react.createElement(react.Fragment,null,t,react.createElement(g,{content:o}),x)}function g({content:r}){const[o]=(0,LexicalComposerContext_prod.DF)(),n=function(e){const[t,r]=(0,react.useState)((()=>E(e)));return p((()=>{function t(){const t=E(e);r(t)}return t(),(0,LexicalUtils_prod.Sd)(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(o),i=(0,useLexicalEditable_prod.A)();return n?"function"==typeof r?r(i):r:null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalRichTextPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>x});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalEditable.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_lexical_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+text@0.15.0/node_modules/@lexical/text/LexicalText.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/react-dom@18.3.1_react@18.3.1/node_modules/react-dom/index.js"),_lexical_dragon__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/.pnpm/@lexical+dragon@0.15.0/node_modules/@lexical/dragon/LexicalDragon.prod.mjs"),_lexical_rich_text__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/@lexical+rich-text@0.15.0/node_modules/@lexical/rich-text/LexicalRichText.prod.mjs");const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function E(e){return e.getEditorState().read((0,_lexical_text__WEBPACK_IMPORTED_MODULE_2__.yl)(e.isComposing()))}function x({contentEditable:t,placeholder:o,ErrorBoundary:a}){const[E]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.DF)(),x=function(e,t){const[o,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>e.getDecorators()));return p((()=>e.registerDecoratorListener((e=>{(0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)((()=>{a(e)}))}))),[e]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{a(e.getDecorators())}),[e]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const n=[],c=Object.keys(o);for(let i=0;i<c.length;i++){const a=c[i],m=react__WEBPACK_IMPORTED_MODULE_0__.createElement(t,{onError:t=>e._onError(t)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense,{fallback:null},o[a])),u=e.getElementByKey(a);null!==u&&n.push((0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(m,u,a))}return n}),[t,o,e])}(E,a);return function(e){p((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.Sd)((0,_lexical_rich_text__WEBPACK_IMPORTED_MODULE_5__.ZI)(e),(0,_lexical_dragon__WEBPACK_IMPORTED_MODULE_6__.U)(e))),[e])}(E),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t,react__WEBPACK_IMPORTED_MODULE_0__.createElement(g,{content:o}),x)}function g({content:r}){const[o]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.DF)(),n=function(e){const[t,r]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>E(e)));return p((()=>{function t(){const t=E(e);r(t)}return t(),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_4__.Sd)(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(o),i=(0,_lexical_react_useLexicalEditable__WEBPACK_IMPORTED_MODULE_7__.A)();return n?"function"==typeof r?r(i):r:null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalTabIndentationPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>h});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function h(){const[t]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>function p(e){return e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_1__.OX,(r=>{const f=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_1__.I2)(f))return!1;r.preventDefault();const d=function(e){const r=e.getNodes();if((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.zD)(r,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_1__.y6)(e)&&e.canIndent()?e:null)).length>0)return!0;const o=e.anchor,c=e.focus,i=c.isBefore(o)?c:o,s=i.getNode(),l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.mB)(s);if(l.canIndent()){const e=l.getKey();let t=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.uT)();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),t=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.C)(t),t.anchor.is(i))return!0}return!1}(f)?r.shiftKey?lexical__WEBPACK_IMPORTED_MODULE_1__.si:lexical__WEBPACK_IMPORTED_MODULE_1__.Pi:lexical__WEBPACK_IMPORTED_MODULE_1__.YW;return e.dispatchCommand(d,void 0)}),lexical__WEBPACK_IMPORTED_MODULE_1__.jZ)}(t))),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalTablePlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>L});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_table__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+table@0.15.0/node_modules/@lexical/table/LexicalTable.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");var y=function b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function L({hasCellMerge:b=!0,hasCellBackgroundColor:L=!0,hasTabHandler:M=!0}){const[R]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(R.hasNodes([_lexical_table__WEBPACK_IMPORTED_MODULE_2__.HA,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.B9,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.py])||y(10),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(R.registerCommand(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.Ng,(({columns:e,rows:t,includeHeaders:r})=>{const o=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.gv)(Number(t),Number(e),r);(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Pe)(o);const n=o.getFirstDescendant();return(0,lexical__WEBPACK_IMPORTED_MODULE_4__.kF)(n)&&n.select(),!0}),lexical__WEBPACK_IMPORTED_MODULE_4__.jZ),R.registerNodeTransform(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.HA,(e=>{const[t]=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.tV)(e,null,null),r=t.reduce(((e,t)=>Math.max(e,t.length)),0);for(let e=0;e<t.length;++e){const o=t[e].length;if(o===r)continue;const n=t[e][o-1].cell;for(let e=o;e<r;++e){const e=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.np)(0);e.append((0,lexical__WEBPACK_IMPORTED_MODULE_4__.lJ)()),null!==n?n.insertAfter(e):(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.K2)(n,e)}}}))))),[R]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const e=new Map,r=t=>{const r=t.getKey(),o=R.getElementByKey(r);if(o&&!e.has(r)){const n=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.__)(t,o,R,M);e.set(r,n)}};R.getEditorState().read((()=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.zl)(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.HA);for(const t of e)(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.TX)(t)&&r(t)}));const o=R.registerMutationListener(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.HA,(t=>{for(const[o,n]of t)if("created"===n)R.getEditorState().read((()=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_4__.ns)(o);(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.TX)(e)&&r(e)}));else if("destroyed"===n){const t=e.get(o);void 0!==t&&(t.removeListeners(),e.delete(o))}}));return()=>{o();for(const[,t]of e)t.removeListeners()}}),[R,M]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!b)return R.registerNodeTransform(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.B9,(e=>{if(e.getColSpan()>1||e.getRowSpan()>1){const[,,t]=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.be)(e),[r]=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.c)(t,e,e),o=r.length,n=r[0].length;let l=t.getFirstChild();(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.RN)(l)||y(175);const s=[];for(let e=0;e<o;e++){0!==e&&(l=l.getNextSibling(),(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.RN)(l)||y(175));let t=null;for(let o=0;o<n;o++){const n=r[e][o],i=n.cell;if(n.startRow===e&&n.startColumn===o)t=i,s.push(i);else if(i.getColSpan()>1||i.getRowSpan()>1){(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.Xx)(i)||y(176);const e=(0,_lexical_table__WEBPACK_IMPORTED_MODULE_2__.np)(i.__headerState);null!==t?t.insertAfter(e):(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.K2)(l,e)}}}for(const e of s)e.setColSpan(1),e.setRowSpan(1)}}))}),[R,b]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(!L)return R.registerNodeTransform(_lexical_table__WEBPACK_IMPORTED_MODULE_2__.B9,(e=>{null!==e.getBackgroundColor()&&e.setBackgroundColor(null)}))}),[R,L,b]),null}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalTreeView.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>n});var LexicalHtml_prod=__webpack_require__("../node_modules/.pnpm/@lexical+html@0.15.0/node_modules/@lexical/html/LexicalHtml.prod.mjs"),LexicalLink_prod=__webpack_require__("../node_modules/.pnpm/@lexical+link@0.15.0/node_modules/@lexical/link/LexicalLink.prod.mjs"),LexicalMark_prod=__webpack_require__("../node_modules/.pnpm/@lexical+mark@0.15.0/node_modules/@lexical/mark/LexicalMark.prod.mjs"),LexicalTable_prod=__webpack_require__("../node_modules/.pnpm/@lexical+table@0.15.0/node_modules/@lexical/table/LexicalTable.prod.mjs"),Lexical_prod=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const C=Object.freeze({"\t":"\\t","\n":"\\n"}),$=new RegExp(Object.keys(C).join("|"),"g"),x=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"├",isLastChild:"└",selectedChar:"^",selectedLine:">"}),N=[e=>e.hasFormat("bold")&&"Bold",e=>e.hasFormat("code")&&"Code",e=>e.hasFormat("italic")&&"Italic",e=>e.hasFormat("strikethrough")&&"Strikethrough",e=>e.hasFormat("subscript")&&"Subscript",e=>e.hasFormat("superscript")&&"Superscript",e=>e.hasFormat("underline")&&"Underline"],S=[e=>e.hasTextFormat("bold")&&"Bold",e=>e.hasTextFormat("code")&&"Code",e=>e.hasTextFormat("italic")&&"Italic",e=>e.hasTextFormat("strikethrough")&&"Strikethrough",e=>e.hasTextFormat("subscript")&&"Subscript",e=>e.hasTextFormat("superscript")&&"Superscript",e=>e.hasTextFormat("underline")&&"Underline"],T=[e=>e.isDirectionless()&&"Directionless",e=>e.isUnmergeable()&&"Unmergeable"],E=[e=>e.isToken()&&"Token",e=>e.isSegmented()&&"Segmented"];function k(f,m,d,g=!1){const h=f.getEditorState(),p=f._config,y=f._compositionKey,b=f._editable;if(d){let t="";return h.read((()=>{t=function(e){const t=document.createElement("div");return t.innerHTML=e.trim(),O(t,0).innerHTML}((0,LexicalHtml_prod.g)(f))})),t}let C=" root\n";const N=h.read((()=>{const e=(0,Lexical_prod.vJ)();return j((0,Lexical_prod.Ni)(),((r,o)=>{const l=`(${r.getKey()})`,f=r.getType()||"",m=r.isSelected(),d=(0,LexicalMark_prod.I0)(r)?` id: [ ${r.getIDs().join(", ")} ] `:"";C+=`${m?x.selectedLine:" "} ${o.join(" ")} ${l} ${f} ${d} ${function(e,n=!1){if((0,Lexical_prod.kF)(e)){const t=e.getTextContent(),r=0===t.length?"(empty)":`"${L(t,n)}"`,o=function(e){return[w(e),v(e),B(e)].filter(Boolean).join(", ")}(e);return[r,0!==o.length?`{ ${o} }`:null].filter(Boolean).join(" ").trim()}if((0,LexicalLink_prod.FJ)(e)){const t=e.getURL(),r=0===t.length?"(empty)":`"${L(t,n)}"`,o=function(e){return[F(e),D(e),K(e)].filter(Boolean).join(", ")}(e);return[r,0!==o.length?`{ ${o} }`:null].filter(Boolean).join(" ").trim()}if((0,Lexical_prod.bS)(e)){const t=function(e){let t=S.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="format: "+t),t}(e);return""!==t?`{ ${t} }`:""}return""}(r,g)}\n`,C+=function({indent:e,isSelected:t,node:n,nodeKeyDisplay:r,selection:o,typeDisplay:l}){if(!(0,Lexical_prod.kF)(n)||!(0,Lexical_prod.I2)(o)||!t||(0,Lexical_prod.ff)(n))return"";const u=o.anchor,f=o.focus;if(""===n.getTextContent()||u.getNode()===o.focus.getNode()&&u.offset===f.offset)return"";const[m,d]=function(e,t){const n=t.getStartEndPoints();if((0,Lexical_prod.RT)(t)||null===n)return[-1,-1];const[r,o]=n,l=e.getTextContent(),i=l.length;let s=-1,c=-1;if("text"===r.type&&"text"===o.type){const t=r.getNode(),n=o.getNode();t===n&&e===t&&r.offset!==o.offset?[s,c]=r.offset<o.offset?[r.offset,o.offset]:[o.offset,r.offset]:[s,c]=e===t?t.isBefore(n)?[r.offset,i]:[0,r.offset]:e===n?n.isBefore(t)?[o.offset,i]:[0,o.offset]:[0,i]}const u=(l.slice(0,s).match($)||[]).length;return[s+u,c+u+(l.slice(s,c).match($)||[]).length]}(n,o);if(m===d)return"";const g=e[e.length-1]===x.hasNextSibling?x.ancestorHasNextSibling:x.ancestorIsLastChild,h=[...e.slice(0,e.length-1),g],p=Array(m+1).fill(" "),y=Array(d-m).fill(x.selectedChar),b=l.length+3,C=Array(r.length+b).fill(" ");return[x.selectedLine,h.join(" "),[...C,...p,...y].join("")].join(" ")+"\n"}({indent:o,isSelected:m,node:r,nodeKeyDisplay:l,selection:e,typeDisplay:f})})),null===e?": null":(0,Lexical_prod.I2)(e)?function(e){let t="";const n=w(e);t+=`: range ${""!==n?`{ ${n} }`:""} ${""!==e.style?`{ style: ${e.style} } `:""}`;const r=e.anchor,o=e.focus,l=r.offset,i=o.offset;return t+=`\n  ├ anchor { key: ${r.key}, offset: ${null===l?"null":l}, type: ${r.type} }`,t+=`\n  └ focus { key: ${o.key}, offset: ${null===i?"null":i}, type: ${o.type} }`,t}(e):(0,LexicalTable_prod.Ln)(e)?function(e){return`: table\n  └ { table: ${e.tableKey}, anchorCell: ${e.anchor.key}, focusCell: ${e.focus.key} }`}(e):function(e){return(0,Lexical_prod.RT)(e)?`: node\n  └ [${Array.from(e._nodes).join(", ")}]`:""}(e)}));if(C+="\n selection"+N,C+="\n\n commands:",m.length)for(const{type:e,payload:t}of m)C+=`\n  └ { type: ${e}, payload: ${t instanceof Event?t.constructor.name:t} }`;else C+="\n  └ None dispatched.";return C+="\n\n editor:",C+=`\n  └ namespace ${p.namespace}`,null!==y&&(C+=`\n  └ compositionKey ${y}`),C+=`\n  └ editable ${String(b)}`,C}function j(e,t,n=[]){const r=e.getChildren(),o=r.length;r.forEach(((e,r)=>{t(e,n.concat(r===o-1?x.isLastChild:x.hasNextSibling)),(0,Lexical_prod.ff)(e)&&j(e,t,n.concat(r===o-1?x.ancestorIsLastChild:x.ancestorHasNextSibling))}))}function L(e,t=!1){const n=Object.entries(C).reduce(((e,[t,n])=>e.replace(new RegExp(t,"g"),String(n))),e);return t?n.replace(/[^\s]/g,"*"):n}function v(e){let t=T.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="detail: "+t),t}function B(e){let t=E.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="mode: "+t),t}function w(e){let t=N.map((t=>t(e))).filter(Boolean).join(", ").toLocaleLowerCase();return""!==t&&(t="format: "+t),t}function F(e){let t=e.getTarget();return null!=t&&(t="target: "+t),t}function D(e){let t=e.getRel();return null!=t&&(t="rel: "+t),t}function K(e){let t=e.getTitle();return null!=t&&(t="title: "+t),t}function O(e,t){const n=new Array(1+t++).join("  "),r=new Array(t-1).join("  ");let o;for(let l=0;l<e.children.length;l++)o=document.createTextNode("\n"+n),e.insertBefore(o,e.children[l]),O(e.children[l],t),e.lastElementChild===e.children[l]&&(o=document.createTextNode("\n"+r),e.appendChild(o));return e}const A=(0,react.forwardRef)((function({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:r,viewClassName:o,timeTravelPanelClassName:l,editorState:i,setEditorState:a,setEditorReadOnly:s,generateContent:c},u){const[f,d]=(0,react.useState)([]),[b,C]=(0,react.useState)(""),[$,x]=(0,react.useState)(!1),[N,S]=(0,react.useState)(!1),T=(0,react.useRef)(0),E=(0,react.useRef)(null),[k,j]=(0,react.useState)(!1),[L,v]=(0,react.useState)(!1),[B,w]=(0,react.useState)(!1),F=(0,react.useRef)(),D=(0,react.useRef)(0),K=(0,react.useCallback)((e=>{const t=++D.current;c(e).then((e=>{t===D.current&&C(e)})).catch((e=>{t===D.current&&C(`Error rendering tree: ${e.message}\n\nStack:\n${e.stack}`)}))}),[c]);(0,react.useEffect)((()=>{!B&&i._nodeMap.size>1e3&&(v(!0),!B)||F.current!==i&&(F.current=i,K(N),$||d((e=>[...e,[Date.now(),i]])))}),[i,K,N,B,$]);const O=f.length;return(0,react.useEffect)((()=>{if(k){let e;const t=()=>{const n=T.current;if(n===O-1)return void j(!1);const r=f[n][0],o=f[n+1][0];e=setTimeout((()=>{T.current++;const e=T.current,n=E.current;null!==n&&(n.value=String(e)),a(f[e][1]),t()}),o-r)};return t(),()=>{clearTimeout(e)}}}),[f,k,O,a]),react.createElement("div",{className:o},!B&&L?react.createElement("div",{style:{padding:20}},react.createElement("span",{style:{marginRight:20}},"Detected large EditorState, this can impact debugging performance."),react.createElement("button",{onClick:()=>{w(!0)},style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer",padding:5}},"Show full tree")):null,B?null:react.createElement("button",{onClick:()=>(K(!N),void S(!N)),className:e,type:"button"},N?"Tree":"Export DOM"),!$&&(B||!L)&&O>2&&react.createElement("button",{onClick:()=>{s(!0),T.current=O-1,x(!0)},className:t,type:"button"},"Time Travel"),(B||!L)&&react.createElement("pre",{ref:u},b),$&&(B||!L)&&react.createElement("div",{className:l},react.createElement("button",{className:r,onClick:()=>{T.current===O-1&&(T.current=1),j(!k)},type:"button"},k?"Pause":"Play"),react.createElement("input",{className:n,ref:E,onChange:e=>{const t=Number(e.target.value),n=f[t];n&&(T.current=t,a(n[1]))},type:"range",min:"1",max:O-1}),react.createElement("button",{className:r,onClick:()=>{s(!1);const e=f.length-1,t=f[e];a(t[1]);const n=E.current;null!==n&&(n.value=String(e)),x(!1),j(!1)},type:"button"},"Exit")))}));function P(e){const[t,n]=(0,react.useState)([]);return(0,react.useEffect)((()=>function I(e,t){const n=new Set;for(const[r]of e._commands)n.add(e.registerCommand(r,(e=>(t((t=>{const n=[...t];return n.push({payload:e,type:r.type?r.type:"UNKNOWN"}),n.length>10&&n.shift(),n})),!1)),Lexical_prod.d));return()=>n.forEach((e=>e()))}(e,n)),[e]),(0,react.useMemo)((()=>t),[t])}var LexicalUtils_prod=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");function n({treeTypeButtonClassName:n,timeTravelButtonClassName:o,timeTravelPanelSliderClassName:m,timeTravelPanelButtonClassName:c,viewClassName:d,timeTravelPanelClassName:u,editor:C}){const N=react.createRef(),[v,E]=(0,react.useState)(C.getEditorState()),T=P(C);return(0,react.useEffect)((()=>(0,LexicalUtils_prod.Sd)(C.registerUpdateListener((({editorState:e})=>{E(e)})),C.registerEditableListener((()=>{E(C.getEditorState())})))),[C]),(0,react.useEffect)((()=>{const e=N.current;if(null!==e)return e.__lexicalEditor=C,()=>{e.__lexicalEditor=null}}),[C,N]),react.createElement(A,{treeTypeButtonClassName:n,timeTravelButtonClassName:o,timeTravelPanelSliderClassName:m,timeTravelPanelButtonClassName:c,viewClassName:d,timeTravelPanelClassName:u,setEditorReadOnly:e=>{const t=C.getRootElement();null!=t&&(t.contentEditable=e?"false":"true")},editorState:v,setEditorState:e=>C.setEditorState(e),generateContent:async function(e){return k(C,T,e)},ref:N})}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalTypeaheadMenuPlugin.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BB:()=>b,QP:()=>N,mx:()=>A});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),_lexical_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs");const C="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;class b{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const v=t=>{const e=document.getElementById("typeahead-menu");if(!e)return;const n=e.getBoundingClientRect();n.top+n.height>window.innerHeight&&e.scrollIntoView({block:"center"}),n.top<0&&e.scrollIntoView({block:"center"}),t.scrollIntoView({block:"nearest"})};function E(t,e){const n=t.getBoundingClientRect(),o=e.getBoundingClientRect();return n.top>o.top&&n.top<o.bottom}function x(e,n,o,r){const[l]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(null!=n&&null!=e){const t=l.getRootElement(),e=null!=t?function(t,e){let n=getComputedStyle(t);const o="absolute"===n.position,r=/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let e=t;e=e.parentElement;)if(n=getComputedStyle(e),(!o||"static"!==n.position)&&r.test(n.overflow+n.overflowY+n.overflowX))return e;return document.body}(t):document.body;let i=!1,s=E(n,e);const u=function(){i||(window.requestAnimationFrame((function(){o(),i=!1})),i=!0);const t=E(n,e);t!==s&&(s=t,null!=r&&r(t))},c=new ResizeObserver(o);return window.addEventListener("resize",o),document.addEventListener("scroll",u,{capture:!0,passive:!0}),c.observe(n),()=>{c.unobserve(n),window.removeEventListener("resize",o),document.removeEventListener("scroll",u,!0)}}}),[n,l,r,o,e])}const S=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.gu)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function R({close:t,editor:e,anchorElementRef:a,resolution:d,options:m,menuRenderFn:w,onSelectOption:b,shouldSplitNodeWithQuery:E=!1,commandPriority:x=lexical__WEBPACK_IMPORTED_MODULE_2__.Ac}){const[R,O]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),I=d.match&&d.match.matchingString;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{O(0)}),[I]);const T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((n=>{e.update((()=>{const e=null!=d.match&&E?function(t){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(e)||!e.isCollapsed())return null;const n=e.anchor;if("text"!==n.type)return null;const o=n.getNode();if(!o.isSimpleText())return null;const r=n.offset,l=o.getTextContent().slice(0,r),i=t.replaceableString.length,s=r-function(t,e,n){let o=n;for(let n=o;n<=e.length;n++)t.substr(-n)===e.substr(0,n)&&(o=n);return o}(l,t.matchingString,i);if(s<0)return null;let a;return 0===s?[a]=o.splitText(r):[,a]=o.splitText(s,r),a}(d.match):null;b(n,e,t,d.match?d.match.matchingString:"")}))}),[e,E,d.match,b,t]),A=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{const n=e.getRootElement();null!==n&&(n.setAttribute("aria-activedescendant","typeahead-item-"+t),O(t))}),[e]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>()=>{const t=e.getRootElement();null!==t&&t.removeAttribute("aria-activedescendant")}),[e]),C((()=>{null===m?O(null):null===R&&A(0)}),[m,R,A]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(e.registerCommand(S,(({option:t})=>!(!t.ref||null==t.ref.current||(v(t.ref.current),0))),x))),[e,A,x]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_3__.Sd)(e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.bb,(t=>{const n=t;if(null!==m&&m.length&&null!==R){const t=R!==m.length-1?R+1:0;A(t);const o=m[t];null!=o.ref&&o.ref.current&&e.dispatchCommand(S,{index:t,option:o}),n.preventDefault(),n.stopImmediatePropagation()}return!0}),x),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.UD,(t=>{const e=t;if(null!==m&&m.length&&null!==R){const t=0!==R?R-1:m.length-1;A(t);const n=m[t];null!=n.ref&&n.ref.current&&v(n.ref.current),e.preventDefault(),e.stopImmediatePropagation()}return!0}),x),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.Q$,(e=>{const n=e;return n.preventDefault(),n.stopImmediatePropagation(),t(),!0}),x),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.OX,(t=>{const e=t;return null!==m&&null!==R&&null!=m[R]&&(e.preventDefault(),e.stopImmediatePropagation(),T(m[R]),!0)}),x),e.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_2__.if,(t=>null!==m&&null!==R&&null!=m[R]&&(null!==t&&(t.preventDefault(),t.stopImmediatePropagation()),T(m[R]),!0)),x))),[T,t,e,m,R,A,x]),w(a,(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({options:m,selectOptionAndCleanUp:T,selectedIndex:R,setHighlightedIndex:O})),[T,R,m]),d.match?d.match.matchingString:"")}const O="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";(0,lexical__WEBPACK_IMPORTED_MODULE_2__.gu)("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function A(t,{minLength:e=1,maxLength:n=75}){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((o=>{const r=new RegExp("(^|\\s|\\()(["+t+"]((?:[^"+t+O+"\\s]){0,"+n+"}))$").exec(o);if(null!==r){const t=r[1],n=r[3];if(n.length>=e)return{leadOffset:r.index+t.length,matchingString:n,replaceableString:r[2]}}return null}),[n,e,t])}function N({options:e,onQueryChange:n,onSelectOption:o,onOpen:r,onClose:l,menuRenderFn:i,triggerFn:m,anchorClassName:h,commandPriority:y=lexical__WEBPACK_IMPORTED_MODULE_2__.Ac,parent:C}){const[b]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),[v,E]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),S=function(e,n,o,r=document.body){const[l]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(document.createElement("div")),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{i.current.style.top=i.current.style.bottom;const t=l.getRootElement(),n=i.current,s=n.firstChild;if(null!==t&&null!==e){const{left:l,top:u,width:c,height:a}=e.getRect(),d=i.current.offsetHeight;if(n.style.top=`${u+window.pageYOffset+d+3}px`,n.style.left=`${l+window.pageXOffset}px`,n.style.height=`${a}px`,n.style.width=`${c}px`,null!==s){s.style.top=`${u}`;const e=s.getBoundingClientRect(),o=e.height,r=e.width,i=t.getBoundingClientRect();l+r>i.right&&(n.style.left=`${i.right-r+window.pageXOffset}px`),(u+o>window.innerHeight||u+o>i.bottom)&&u-i.top>o+a&&(n.style.top=u-o+window.pageYOffset-a+"px")}n.isConnected||(null!=o&&(n.className=o),n.setAttribute("aria-label","Typeahead menu"),n.setAttribute("id","typeahead-menu"),n.setAttribute("role","listbox"),n.style.display="block",n.style.position="absolute",r.append(n)),i.current=n,t.setAttribute("aria-controls","typeahead-menu")}}),[l,e,o,r]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=l.getRootElement();if(null!==e)return s(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=i.current;null!==e&&e.isConnected&&e.remove()}}),[l,s,e]);const u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{null!==e&&(t||n(null))}),[e,n]);return x(e,i.current,s,u),i}(v,E,h,C),O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{E(null),null!=l&&null!==v&&l()}),[l,v]),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((t=>{E(t),null!=r&&null===v&&r(t)}),[r,v]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const t=b.registerUpdateListener((()=>{b.getEditorState().read((()=>{const t=b._window||window,e=t.document.createRange(),o=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)(),r=function(t){let e=null;return t.getEditorState().read((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(t)&&(e=function(t){const e=t.anchor;if("text"!==e.type)return null;const n=e.getNode();if(!n.isSimpleText())return null;const o=e.offset;return n.getTextContent().slice(0,o)}(t))})),e}(b);if(!(0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(o)||!o.isCollapsed()||null===r||null===e)return void O();const l=m(r,b);if(n(l?l.matchingString:null),null!==l&&!function(t,e){return 0===e&&t.getEditorState().read((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_2__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_2__.I2)(t)){const e=t.anchor.getNode().getPreviousSibling();return(0,lexical__WEBPACK_IMPORTED_MODULE_2__.kF)(e)&&e.isTextEntity()}return!1}))}(b,l.leadOffset)){const n=function(t,e,n){const o=n.getSelection();if(null===o||!o.isCollapsed)return!1;const r=o.anchorNode,l=t,i=o.anchorOffset;if(null==r||null==i)return!1;try{e.setStart(r,l),e.setEnd(r,i)}catch(t){return!1}return!0}(l.leadOffset,e,t);if(null!==n)return i=()=>I({getRect:()=>e.getBoundingClientRect(),match:l}),void(react__WEBPACK_IMPORTED_MODULE_0__.startTransition?react__WEBPACK_IMPORTED_MODULE_0__.startTransition(i):i())}var i;O()}))}));return()=>{t()}}),[b,m,n,v,O,I]),null===v||null===b?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement(R,{close:O,resolution:v,editor:b,anchorElementRef:S,options:e,menuRenderFn:i,shouldSplitNodeWithQuery:!0,onSelectOption:o,commandPriority:y})}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalEditable.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>a});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function c(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function a(){return function(t){const[n]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)(),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>t(n)),[n,t]),a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(c.initialValueFn()),[l,d]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(a.current);return u((()=>{const{initialValueFn:e,subscribe:t}=c,n=e();return a.current!==n&&(a.current=n,d(n)),t((e=>{a.current=e,d(e)}))}),[c,t]),l}(c)}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalNodeSelection.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>u});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function d(e,t){return e.getEditorState().read((()=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.ns)(t);return null!==e&&e.isSelected()}))}function u(c){const[u]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_2__.DF)(),[p,s]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>d(u,c)));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{let e=!0;const t=u.registerUpdateListener((()=>{e&&s(d(u,c))}));return()=>{e=!1,t()}}),[u,c]),[p,(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((e=>{u.update((()=>{let a=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_1__.RT)(a)||(a=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.rU)(),(0,lexical__WEBPACK_IMPORTED_MODULE_1__.n1)(a)),(0,lexical__WEBPACK_IMPORTED_MODULE_1__.RT)(a)&&(e?a.add(c):a.delete(c))}))}),[u,c]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{u.update((()=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_1__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_1__.RT)(e)&&e.clear()}))}),[u])]}},"../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/useLexicalTextEntity.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>i});var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+react@0.15.0_react-dom@18.3.1_react@18.3.1_yjs@13.6.15/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_lexical_text__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+text@0.15.0/node_modules/@lexical/text/LexicalText.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function i(i,m,c){const[l]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_1__.DF)();(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_2__.Sd)(...(0,_lexical_text__WEBPACK_IMPORTED_MODULE_3__.eW)(l,i,m,c))),[c,l,i,m])}},"../node_modules/.pnpm/@lexical+rich-text@0.15.0/node_modules/@lexical/rich-text/LexicalRichText.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Pi:()=>Et,ZI:()=>Tt,dJ:()=>pt,fi:()=>wt,gA:()=>Nt,jL:()=>vt,jd:()=>Ct,lY:()=>gt,xi:()=>ht});var _lexical_clipboard__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/@lexical+clipboard@0.15.0/node_modules/@lexical/clipboard/LexicalClipboard.prod.mjs"),_lexical_selection__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs"),_lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");function st(t,e){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(t,e);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(t,e);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const ct="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,at=ct&&"documentMode"in document?document.documentMode:null,ut=!(!ct||!("InputEvent"in window)||at)&&"getTargetRanges"in new window.InputEvent("input"),lt=ct&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),dt=ct&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,mt=ct&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ft=ct&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!mt,gt=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("DRAG_DROP_PASTE_FILE");class pt extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"quote"}static clone(t){return new pt(t.__key)}constructor(t){super(t)}createDOM(t){const e=document.createElement("blockquote");return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:xt,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){const e=ht();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(t,e){const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,e),n}collapseAtStart(){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}}function ht(){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new pt)}function Ct(t){return t instanceof pt}class vt extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"heading"}static clone(t){return new vt(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}createDOM(t){const e=this.__tag,n=document.createElement(e),r=t.theme.heading;if(void 0!==r){const t=r[e];(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(n,t)}return n}updateDOM(t,e){return!1}static importDOM(){return{h1:t=>({conversion:Dt,priority:0}),h2:t=>({conversion:Dt,priority:0}),h3:t=>({conversion:Dt,priority:0}),h4:t=>({conversion:Dt,priority:0}),h5:t=>({conversion:Dt,priority:0}),h6:t=>({conversion:Dt,priority:0}),p:t=>{const e=t.firstChild;return null!==e&&yt(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>yt(t)?{conversion:t=>({node:wt("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){const e=wt(t.tag);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(t,e=!0){const n=t?t.anchor.offset:0,r=n!==this.getTextContentSize()&&t?wt(this.getTag()):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)(),o=this.getDirection();if(r.setDirection(o),this.insertAfter(r,e),0===n&&!this.isEmpty()&&t){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();t.select(),this.replace(t,!0)}return r}collapseAtStart(){const t=this.isEmpty()?(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)():wt(this.getTag());return this.getChildren().forEach((e=>t.append(e))),this.replace(t),!0}extractWithChild(){return!0}}function yt(t){return"span"===t.nodeName.toLowerCase()&&"26pt"===t.style.fontSize}function Dt(t){const e=t.nodeName.toLowerCase();let n=null;return"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e||(n=wt(e),null!==t.style&&n.setFormat(t.style.textAlign)),{node:n}}function xt(t){const e=ht();return null!==t.style&&e.setFormat(t.style.textAlign),{node:e}}function wt(t){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new vt(t))}function Et(t){return t instanceof vt}function Nt(t){let e=null;if((0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(t,DragEvent)?e=t.dataTransfer:(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(t,ClipboardEvent)&&(e=t.clipboardData),null===e)return[!1,[],!1];const n=e.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),o]}function It(t){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;const n=new Set,r=e.getNodes();for(let e=0;e<r.length;e++){const o=r[e],i=o.getKey();if(n.has(i))continue;const s=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o,(t=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)&&!t.isInline()));if(null===s)continue;const c=s.getKey();s.canIndent()&&!n.has(c)&&(n.add(c),t(s))}return n.size>0}function Ot(t){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(t);return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(e)}function Tt(o){return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Sd)(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.d8,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e)&&(e.clear(),!0)}),0),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Wu,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(e.deleteCharacter(t),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.hi,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(e.deleteWord(t),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.vi,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(e.deleteLine(t),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.bM,(e=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if("string"==typeof e)null!==n&&n.insertText(e);else{if(null===n)return!1;const r=e.dataTransfer;if(null!=r)(0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_2__.Bi)(r,n,o);else if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)){const t=e.data;return t&&n.insertText(t),!0}}return!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.$e,(()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)&&(t.removeText(),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.mB,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(e.formatText(t),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.fU,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e))return!1;const n=e.getNodes();for(const e of n){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,(t=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)&&!t.isInline()));null!==n&&n.setFormat(t)}return!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.FE,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(e.insertLineBreak(t),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.XK,(()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)&&(t.insertParagraph(),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.YW,(()=>((0,lexical__WEBPACK_IMPORTED_MODULE_0__.H2)([(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ev)()]),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Pi,(()=>It((t=>{const e=t.getIndent();t.setIndent(e+1)}))),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.si,(()=>It((t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}))),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.UD,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e)&&!Ot(t.target)){const t=e.getNodes();if(t.length>0)return t[0].selectPrevious(),!0}else if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)){const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.B$)(e.focus,!0);if(!t.shiftKey&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.bb,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e)){const t=e.getNodes();if(t.length>0)return t[0].selectNext(0,0),!0}else if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)){if(function(t){const e=t.focus;return"root"===e.key&&e.offset===(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().getChildrenSize()}(e))return t.preventDefault(),!0;const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.B$)(e.focus,!1);if(!t.shiftKey&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.AX,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;if((0,_lexical_selection__WEBPACK_IMPORTED_MODULE_3__.Cb)(e,!0)){const n=t.shiftKey;return t.preventDefault(),(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_3__.Rk)(e,n,!0),!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.JM,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(e)&&!Ot(t.target)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectNext(0,0),!0}if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;const o=t.shiftKey;return!!(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_3__.Cb)(e,!1)&&(t.preventDefault(),(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_3__.Rk)(e,o,!1),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.gC,(t=>{if(Ot(t.target))return!1;const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;t.preventDefault();const{anchor:n}=e,r=n.getNode();return e.isCollapsed()&&0===n.offset&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.hV)(r)&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.mB)(r).getIndent()>0?o.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.si,void 0):o.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Wu,!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.w$,(t=>{if(Ot(t.target))return!1;const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&(t.preventDefault(),o.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Wu,!1))}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.if,(t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e))return!1;if(null!==t){if((dt||lt||ft)&&ut)return!1;if(t.preventDefault(),t.shiftKey)return o.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.FE,!1)}return o.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.XK,void 0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Q$,(()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)&&(o.blur(),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Sr,(t=>{const[,e]=Nt(t);if(e.length>0){const n=st(t.clientX,t.clientY);if(null!==n){const{offset:t,node:r}=n,i=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(r);if(null!==i){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.uT)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(i))e.anchor.set(i.getKey(),t,"text"),e.focus.set(i.getKey(),t,"text");else{const t=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.C)(e);(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(n)}o.dispatchCommand(gt,e)}return t.preventDefault(),!0}const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Tg,(t=>{const[e]=Nt(t),n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();return!(e&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n))}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.ri,(t=>{const[e]=Nt(t),n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(e&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n))return!1;const r=st(t.clientX,t.clientY);if(null!==r){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(r.node);(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(e)&&t.preventDefault()}return!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.HY,(()=>((0,lexical__WEBPACK_IMPORTED_MODULE_0__.e1)(),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.u5,(t=>((0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_2__.lW)(o,(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(t,ClipboardEvent)?t:null),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.VS,(t=>(async function(t,n){await(0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_2__.lW)(n,(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(t,ClipboardEvent)?t:null),n.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)?t.removeText():(0,lexical__WEBPACK_IMPORTED_MODULE_0__.RT)(t)&&t.getNodes().forEach((t=>t.remove()))}))}(t,o),!0)),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ),o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.w,(e=>{const[,n,r]=Nt(e);return n.length>0&&!r?(o.dispatchCommand(gt,n),!0):!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Z$)(e.target)&&(null!==(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)()&&(function(e,n){e.preventDefault(),n.update((()=>{const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)(),o=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(e,InputEvent)||(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.xj)(e,KeyboardEvent)?null:e.clipboardData;null!=o&&null!==r&&(0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_2__.Bi)(o,r,n)}),{tag:"paste"})}(e,o),!0))}),lexical__WEBPACK_IMPORTED_MODULE_0__.jZ))}},"../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$S:()=>U,BE:()=>P,BJ:()=>B,Cb:()=>L,LP:()=>M,Nx:()=>F,Rk:()=>H,SD:()=>E,Xg:()=>K,_A:()=>I,cb:()=>v,zI:()=>k,zT:()=>C});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");var y=function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const T=new Map;function x(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function S(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function v(t,n,o,l,r){const s=n.getKey(),i=l.getKey(),c=document.createRange();let f=t.getElementByKey(s),u=t.getElementByKey(i),a=o,g=r;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(n)&&(f=x(f)),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(l)&&(u=x(u)),void 0===n||void 0===l||null===f||null===u)return null;"BR"===f.nodeName&&([f,a]=S(f)),"BR"===u.nodeName&&([u,g]=S(u));const d=f.firstChild;f===u&&null!=d&&"BR"===d.nodeName&&0===a&&0===g&&(g=1);try{c.setStart(f,a),c.setEnd(u,g)}catch(e){return null}return!c.collapsed||a===g&&s===i||(c.setStart(u,g),c.setEnd(f,a)),c}function C(e,t){const n=e.getRootElement();if(null===n)return[];const o=n.getBoundingClientRect(),l=getComputedStyle(n),r=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),s=Array.from(t.getClientRects());let i,c=s.length;s.sort(((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n}));for(let e=0;e<c;e++){const t=s[e],n=i&&i.top<=t.top&&i.top+i.height>t.top&&i.left+i.width>t.left,l=t.width+r===o.width;n||l?(s.splice(e--,1),c--):i=t}return s}function w(e){const t={},n=e.split(";");for(const e of n)if(""!==e){const[n,o]=e.split(/:([^]+)/);n&&o&&(t[n.trim()]=o.trim())}return t}function N(e){let t=T.get(e);return void 0===t&&(t=w(e),T.set(e,t)),t}function P(o){const l=o.constructor.clone(o);return l.__parent=o.__parent,l.__next=o.__next,l.__prev=o.__prev,(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(l)?(s=o,(r=l).__first=s.__first,r.__last=s.__last,r.__size=s.__size,r.__format=s.__format,r.__indent=s.__indent,r.__dir=s.__dir,r):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(l)?function(e,t){return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}(l,o):(0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(o)&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(l)?function(e,t){return e.__textFormat=t.__textFormat,e}(l,o):l;var r,s}function E(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[l,r]=n,s=e.isBackward(),i=l.getNode(),c=r.getNode(),f=t.is(i),u=t.is(c);if(f||u){const[n,l]=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ck)(e),r=i.is(c),f=t.is(s?c:i),u=t.is(s?i:c);let a,g=0;return r?(g=n>l?l:n,a=n>l?n:l):f?(g=s?l:n,a=void 0):u&&(g=0,a=s?n:l),t.__text=t.__text.slice(g,a),t}}return t}function F(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();const n=e.getNode();return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)||y(177),e.offset===n.getChildrenSize()}function I(n,o,f){let u=o.getNode(),a=f;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(u)){const e=u.getDescendantByIndex(o.offset);null!==e&&(u=e)}for(;a>0&&null!==u;){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(u)){const e=u.getLastDescendant();null!==e&&(u=e)}let f=u.getPreviousSibling(),g=0;if(null===f){let e=u.getParentOrThrow(),t=e.getPreviousSibling();for(;null===t;){if(e=e.getParent(),null===e){f=null;break}t=e.getPreviousSibling()}null!==e&&(g=e.isInline()?0:2,f=t)}let d=u.getTextContent();""===d&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(u)&&!u.isInline()&&(d="\n\n");const p=d.length;if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(u)||a>=p){const e=u.getParent();u.remove(),null==e||0!==e.getChildrenSize()||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.hV)(e)||e.remove(),a-=p+g,u=f}else{const t=u.getKey(),l=n.getEditorState().read((()=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(t);return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(n)&&n.isSimpleText()?n.getTextContent():null})),f=p-a,g=d.slice(0,f);if(null!==l&&l!==d){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.S1)();let t=u;if(u.isSimpleText())u.setTextContent(l);else{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(l);u.replace(e),t=e}if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)&&e.isCollapsed()){const n=e.anchor.offset;t.select(n,n)}}else if(u.isSimpleText()){const e=o.key===t;let n=o.offset;n<a&&(n=p);const l=e?n-a:0,r=e?n:f;if(e&&0===l){const[e]=u.splitText(l,r);e.remove()}else{const[,e]=u.splitText(l,r);e.remove()}}else{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(g);u.replace(e)}a=0}}}function K(e){const t=e.getStyle(),n=w(t);T.set(t,n)}function O(e,t){const n=N("getStyle"in e?e.getStyle():e.style),o=Object.entries(t).reduce(((e,[t,o])=>(o instanceof Function?e[t]=o(n[t]):null===o?delete e[t]:e[t]=o,e)),{...n}||{}),l=function(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}(o);e.setStyle(l),T.set(l,o)}function B(t,n){const o=t.getNodes(),l=o.length,r=t.getStartEndPoints();if(null===r)return;const[s,i]=r,f=l-1;let u=o[0],a=o[f];if(t.isCollapsed()&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t))return void O(t,n);const g=u.getTextContent().length,d=i.offset;let p=s.offset;const h=s.isBefore(i);let _=h?p:d,m=h?d:p;const y=h?s.type:i.type,T=h?i.type:s.type,x=h?i.key:s.key;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(u)&&_===g){const t=u.getNextSibling();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)&&(p=0,_=0,u=t)}if(1===o.length){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(u)&&u.canHaveFormat()){if(_="element"===y?0:p>d?d:p,m="element"===T?g:p>d?p:d,_===m)return;if(0===_&&m===g)O(u,n),u.select(_,m);else{const e=u.splitText(_,m),t=0===_?e[0]:e[1];O(t,n),t.select(0,m-_)}}}else{if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(u)&&_<u.getTextContentSize()&&u.canHaveFormat()&&(0!==_&&(u=u.splitText(_)[1],_=0,s.set(u.getKey(),_,"text")),O(u,n)),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(a)&&a.canHaveFormat()){const e=a.getTextContent().length;a.__key!==x&&0!==m&&(m=e),m!==e&&([a]=a.splitText(m)),0===m&&"element"!==T||O(a,n)}for(let t=1;t<f;t++){const l=o[t],r=l.getKey();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(l)&&l.canHaveFormat()&&r!==u.getKey()&&r!==a.getKey()&&!l.isToken()&&O(l,n)}}}function k(e,n){if(null===e)return;const o=e.getStartEndPoints(),l=o?o[0]:null;if(null!==l&&"root"===l.key){const e=n(),t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)(),o=t.getFirstChild();return void(o?o.replace(e,!0):t.append(e))}const r=e.getNodes(),s=null!==l&&function(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}(l.getNode(),X);s&&-1===r.indexOf(s)&&r.push(s);for(let e=0;e<r.length;e++){const o=r[e];if(!X(o))continue;(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)||y(178);const l=n();l.setFormat(o.getFormatType()),l.setIndent(o.getIndent()),o.replace(l,!0)}}function L(e,n){const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.B$)(e.focus,n);return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(o)&&!o.isIsolated()||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)&&!o.isInline()&&!o.canBeEmpty()}function M(e){const t=e.anchor.getNode();return"rtl"===((0,lexical__WEBPACK_IMPORTED_MODULE_0__.hV)(t)?t:t.getParentOrThrow()).getDirection()}function H(e,t,n){const o=M(e);!function D(e,t,n,o){e.modify(t?"extend":"move",n,o)}(e,t,n?!o:o,"character")}function j(e,t,n){const o=N(e.getStyle());return null!==o&&o[t]||n}function U(t,n,o=""){let l=null;const r=t.getNodes(),s=t.anchor,i=t.focus,f=t.isBackward(),u=f?i.offset:s.offset,a=f?i.getNode():s.getNode();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)&&t.isCollapsed()&&""!==t.style){const e=N(t.style);if(null!==e&&n in e)return e[n]}for(let t=0;t<r.length;t++){const s=r[t];if((0===t||0!==u||!s.is(a))&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(s)){const e=j(s,n,o);if(null===l)l=e;else if(l!==e){l="";break}}}return null===l?o:l}function X(n){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(n))return!1;if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(n))return!1;const o=n.getFirstChild(),l=null===o||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.wH)(o)||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)||o.isInline();return!n.isInline()&&!1!==n.canBeEmpty()&&l}},"../node_modules/.pnpm/@lexical+table@0.15.0/node_modules/@lexical/table/LexicalTable.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B9:()=>J,GA:()=>ye,HA:()=>et,Ln:()=>Oe,Ng:()=>G,O8:()=>pe,RN:()=>ee,TX:()=>rt,Xx:()=>q,Ze:()=>ce,__:()=>Ae,be:()=>xe,c:()=>Ne,cn:()=>Pe,ex:()=>_e,gv:()=>re,hx:()=>Z,kC:()=>fe,kN:()=>Ce,np:()=>j,o5:()=>Y,pA:()=>ae,pK:()=>ot,py:()=>Q,sJ:()=>ie,tV:()=>Te,xp:()=>He,zp:()=>le});var _lexical_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");const X=/^(\d+(?:\.\d+)?)px$/,Y={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class J extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"tablecell"}static clone(e){const t=new J(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t}static importDOM(){return{td:e=>({conversion:$,priority:0}),th:e=>({conversion:$,priority:0})}}static importJSON(e){const t=e.colSpan||1,n=e.rowSpan||1,o=j(e.headerState,t,e.width||void 0);return o.__rowSpan=n,o.__backgroundColor=e.backgroundColor||null,o}constructor(e=Y.NO_STATUS,t=1,n,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null}createDOM(t){const n=document.createElement(this.getTag());return this.__width&&(n.style.width=`${this.__width}px`),this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(n.style.backgroundColor=this.__backgroundColor),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(n,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),n}exportDOM(e){const{element:t}=super.exportDOM(e);if(t){const e=t,n=700,o=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,n/o)}px`,e.style.verticalAlign="top",e.style.textAlign="start";const r=this.getBackgroundColor();null!==r?e.style.backgroundColor=r:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:t}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,type:"tablecell",width:this.getWidth()}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==Y.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function $(e){const t=e,n=e.nodeName.toLowerCase();let o;X.test(t.style.width)&&(o=parseFloat(t.style.width));const r=j("th"===n?Y.ROW:Y.NO_STATUS,t.colSpan,o);r.__rowSpan=t.rowSpan;const c=t.style.backgroundColor;""!==c&&(r.__backgroundColor=c);const h=t.style,d=h.textDecoration.split(" "),u="700"===h.fontWeight||"bold"===h.fontWeight,g=d.includes("line-through"),f="italic"===h.fontStyle,m=d.includes("underline");return{after:e=>(0===e.length&&e.push((0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)()),e),forChild:(e,t)=>{if(q(t)&&!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.wH)(e)&&"\n"===e.getTextContent()?null:((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(e)&&(u&&e.toggleFormat("bold"),g&&e.toggleFormat("strikethrough"),f&&e.toggleFormat("italic"),m&&e.toggleFormat("underline")),t.append(e),t)}return e},node:r}}function j(e,t=1,n){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new J(e,t,n))}function q(e){return e instanceof J}const G=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.gu)("INSERT_TABLE_COMMAND");class Q extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"tablerow"}static clone(e){return new Q(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:V,priority:0})}}static importJSON(e){return Z(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){return{...super.exportJSON(),...this.getHeight()&&{height:this.getHeight()},type:"tablerow",version:1}}createDOM(t){const n=document.createElement("tr");return this.__height&&(n.style.height=`${this.__height}px`),(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(n,t.theme.tableRow),n}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function V(e){const t=e;let n;return X.test(t.style.height)&&(n=parseFloat(t.style.height)),{node:Z(n)}}function Z(e){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new Q(e))}function ee(e){return e instanceof Q}var ne=function te(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const oe="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function re(e,t,n=!0){const o=ot();for(let r=0;r<e;r++){const e=Z();for(let o=0;o<t;o++){let t=Y.NO_STATUS;"object"==typeof n?(0===r&&n.rows&&(t|=Y.ROW),0===o&&n.columns&&(t|=Y.COLUMN)):n&&(0===r&&(t|=Y.ROW),0===o&&(t|=Y.COLUMN));const s=j(t),i=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();i.append((0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)()),s.append(i),e.append(s)}o.append(e)}return o}function le(e){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,(e=>q(e)));return q(n)?n:null}function se(e){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,(e=>ee(e)));if(ee(n))return n;throw new Error("Expected table cell to be inside of table row.")}function ie(e){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,(e=>rt(e)));if(rt(n))return n;throw new Error("Expected table cell to be inside of table.")}function ae(e){const t=se(e);return ie(t).getChildren().findIndex((e=>e.is(t)))}function ce(e){return se(e).getChildren().findIndex((t=>t.is(e)))}const ge=(e,t)=>e===Y.BOTH||e===t?t:Y.NO_STATUS;function fe(e=!0){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)||Oe(t)||ne(118);const n=t.focus.getNode(),[o,,r]=xe(n),[s,i]=Ne(r,o,o),a=s[0].length,{startRow:c}=i;if(e){const e=c+o.__rowSpan-1,t=s[e],n=Z();for(let o=0;o<a;o++){const{cell:r,startRow:s}=t[o];if(s+r.__rowSpan-1<=e){const e=t[o].cell.__headerState,r=ge(e,Y.COLUMN);n.append(j(r).append((0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)()))}else r.setRowSpan(r.__rowSpan+1)}const i=r.getChildAtIndex(e);ee(i)||ne(145),i.insertAfter(n)}else{const e=s[c],t=Z();for(let n=0;n<a;n++){const{cell:o,startRow:r}=e[n];if(r===c){const o=e[n].cell.__headerState,r=ge(o,Y.COLUMN);t.append(j(r).append((0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)()))}else o.setRowSpan(o.__rowSpan+1)}const n=r.getChildAtIndex(c);ee(n)||ne(145),n.insertBefore(t)}}function pe(e=!0){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)||Oe(t)||ne(118);const n=t.anchor.getNode(),o=t.focus.getNode(),[r]=xe(n),[s,,i]=xe(o),[a,c,h]=Ne(i,s,r),d=a.length,f=e?Math.max(c.startColumn,h.startColumn):Math.min(c.startColumn,h.startColumn),m=e?f+s.__colSpan-1:f-1,p=i.getFirstChild();ee(p)||ne(120);let S=null;function C(e=Y.NO_STATUS){const t=j(e).append((0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)());return null===S&&(S=t),t}let _=p;e:for(let e=0;e<d;e++){if(0!==e){const e=_.getNextSibling();ee(e)||ne(121),_=e}const t=a[e],n=t[m<0?0:m].cell.__headerState,o=ge(n,Y.ROW);if(m<0){be(_,C(o));continue}const{cell:r,startColumn:l,startRow:s}=t[m];if(l+r.__colSpan-1<=m){let n=r,l=s,i=m;for(;l!==e&&n.__rowSpan>1;){if(i-=r.__colSpan,!(i>=0)){_.append(C(o));continue e}{const{cell:e,startRow:o}=t[i];n=e,l=o}}n.insertAfter(C(o))}else r.setColSpan(r.__colSpan+1)}null!==S&&we(S)}function Ce(){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)||Oe(e)||ne(118);const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,r]=xe(t),[l]=xe(n),[s,i,a]=Ne(r,o,l),{startRow:c}=i,{startRow:h}=a,d=h+l.__rowSpan-1;if(s.length===d-c+1)return void r.remove();const f=s[0].length,m=s[d+1],p=r.getChildAtIndex(d+1);for(let e=d;e>=c;e--){for(let t=f-1;t>=0;t--){const{cell:n,startRow:o,startColumn:r}=s[e][t];if(r===t&&(e===c&&o<c&&n.setRowSpan(n.__rowSpan-(o-c)),o>=c&&o+n.__rowSpan-1>d))if(n.setRowSpan(n.__rowSpan-(d-o+1)),null===p&&ne(122),0===t)be(p,n);else{const{cell:e}=m[t-1];e.insertAfter(n)}}const t=r.getChildAtIndex(e);ee(t)||ne(123,String(e)),t.remove()}if(void 0!==m){const{cell:e}=m[0];we(e)}else{const e=s[c-1],{cell:t}=e[0];we(t)}}function _e(){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)||Oe(e)||ne(118);const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,r]=xe(t),[l]=xe(n),[s,i,a]=Ne(r,o,l),{startColumn:c}=i,{startRow:h,startColumn:d}=a,f=Math.min(c,d),m=Math.max(c+o.__colSpan-1,d+l.__colSpan-1),p=m-f+1;if(s[0].length===m-f+1)return r.selectPrevious(),void r.remove();const S=s.length;for(let e=0;e<S;e++)for(let t=f;t<=m;t++){const{cell:n,startColumn:o}=s[e][t];if(o<f){if(t===f){const e=f-o;n.setColSpan(n.__colSpan-Math.min(p,n.__colSpan-e))}}else if(o+n.__colSpan-1>m){if(t===m){const e=m-o+1;n.setColSpan(n.__colSpan-e)}}else n.remove()}const C=s[h],_=C[d+l.__colSpan];if(void 0!==_){const{cell:e}=_;we(e)}else{const e=C[d-1],{cell:t}=e;we(t)}}function we(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function be(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function ye(){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)||Oe(e)||ne(118);const t=e.anchor.getNode(),[n,o,r]=xe(t),l=n.__colSpan,s=n.__rowSpan;if(l>1){for(let e=1;e<l;e++)n.insertAfter(j(Y.NO_STATUS));n.setColSpan(1)}if(s>1){const[e,t]=Ne(r,n,n),{startColumn:i,startRow:a}=t;let c;for(let t=1;t<s;t++){const n=a+t,r=e[n];c=(c||o).getNextSibling(),ee(c)||ne(125);let s=null;for(let e=0;e<i;e++){const t=r[e],o=t.cell;t.startRow===n&&(s=o),o.__colSpan>1&&(e+=o.__colSpan-1)}if(null===s)for(let e=0;e<l;e++)be(c,j(Y.NO_STATUS));else for(let e=0;e<l;e++)s.insertAfter(j(Y.NO_STATUS))}n.setRowSpan(1)}}function Ne(e,t,n){const[o,r,l]=Te(e,t,n);return null===r&&ne(110),null===l&&ne(111),[o,r,l]}function Te(e,t,n){const o=[];let r=null,l=null;function s(e,s,i){const a={cell:i,startColumn:s,startRow:e},c=i.__rowSpan,h=i.__colSpan;for(let t=0;t<c;t++){void 0===o[e+t]&&(o[e+t]=[]);for(let n=0;n<h;n++)o[e+t][s+n]=a}null!==t&&t.is(i)&&(r=a),null!==n&&n.is(i)&&(l=a)}function i(e,t){return void 0===o[e]||void 0===o[e][t]}const a=e.getChildren();for(let e=0;e<a.length;e++){const t=a[e];ee(t)||ne(146);const n=t.getChildren();let o=0;for(const t of n){for(q(t)||ne(147);!i(e,o);)o++;s(e,o,t),o+=t.__colSpan}}return[o,r,l]}function xe(e){let n;if(e instanceof J)n=e;else if("__type"in e){const o=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,q);q(o)||ne(148),n=o}else{const o=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e.getNode(),q);q(o)||ne(148),n=o}const o=n.getParent();ee(o)||ne(149);const r=o.getParent();return rt(r)||ne(150),[n,o,r]}function ve(e){const[t,,n]=xe(e),o=n.getChildren(),r=o.length,l=o[0].getChildren().length,s=new Array(r);for(let e=0;e<r;e++)s[e]=new Array(l);for(let e=0;e<r;e++){const n=o[e].getChildren();let r=0;for(let o=0;o<n.length;o++){for(;s[e][r];)r++;const l=n[o],i=l.__rowSpan||1,a=l.__colSpan||1;for(let t=0;t<i;t++)for(let n=0;n<a;n++)s[e+t][r+n]=l;if(t===l)return{colSpan:a,columnIndex:r,rowIndex:e,rowSpan:i};r+=a}}return null}class Ee{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Oe(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=!0,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Ee(this.tableKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.focus.getNode();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)||ne(151),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.C)(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(this.anchor.key);q(e)||ne(152);const t=ve(e);null===t&&ne(153);const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(this.focus.key);q(n)||ne(154);const o=ve(n);null===o&&ne(155);const r=Math.min(t.columnIndex,o.columnIndex),l=Math.max(t.columnIndex,o.columnIndex),s=Math.min(t.rowIndex,o.rowIndex),i=Math.max(t.rowIndex,o.rowIndex);return{fromX:Math.min(r,l),fromY:Math.min(s,i),toX:Math.max(r,l),toY:Math.max(s,i)}}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const n=this.anchor.getNode(),o=this.focus.getNode(),r=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(n,q),l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o,q);q(r)||ne(152),q(l)||ne(154);const s=r.getParent();ee(s)||ne(156);const i=s.getParent();rt(i)||ne(157);const a=l.getParents()[1];if(a!==i){if(i.isParentOf(l)){const e=a.getParent();null==e&&ne(159),this.set(this.tableKey,l.getKey(),e.getKey())}else{const e=i.getParent();null==e&&ne(158),this.set(this.tableKey,e.getKey(),l.getKey())}return this.getNodes()}const[c,h,d]=Ne(i,r,l);let u=Math.min(h.startColumn,d.startColumn),g=Math.min(h.startRow,d.startRow),f=Math.max(h.startColumn+h.cell.__colSpan-1,d.startColumn+d.cell.__colSpan-1),m=Math.max(h.startRow+h.cell.__rowSpan-1,d.startRow+d.cell.__rowSpan-1),p=u,C=g,_=u,w=g;function b(e){const{cell:t,startColumn:n,startRow:o}=e;u=Math.min(u,n),g=Math.min(g,o),f=Math.max(f,n+t.__colSpan-1),m=Math.max(m,o+t.__rowSpan-1)}for(;u<p||g<C||f>_||m>w;){if(u<p){const e=w-C,t=p-1;for(let n=0;n<=e;n++)b(c[C+n][t]);p=t}if(g<C){const e=_-p,t=C-1;for(let n=0;n<=e;n++)b(c[t][p+n]);C=t}if(f>_){const e=w-C,t=_+1;for(let n=0;n<=e;n++)b(c[C+n][t]);_=t}if(m>w){const e=_-p,t=w+1;for(let n=0;n<=e;n++)b(c[t][p+n]);w=t}}const y=[i];let N=null;for(let e=g;e<=m;e++)for(let t=u;t<=f;t++){const{cell:n}=c[e][t],o=n.getParent();ee(o)||ne(160),o!==N&&y.push(o),y.push(n,...Re(n)),N=o}return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Gc)()||(this._cachedNodes=y),y}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Oe(e){return e instanceof Ee}function Me(){const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.z8)("root",0,"element"),t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.z8)("root",0,"element");return new Ee("root",e,t)}function Re(e){const t=[],n=[e];for(;n.length>0;){const o=n.pop();void 0===o&&ne(112),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)&&n.unshift(...o.getChildren()),o!==e&&t.push(o)}return t}class Ke{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.trackTable(),this.isSelecting=!1}getTable(){return this.table}removeListeners(){Array.from(this.listenersToRemove).forEach((e=>e()))}trackTable(){const e=new MutationObserver((e=>{this.editor.update((()=>{let t=!1;for(let n=0;n<e.length;n++){const o=e[n].target.nodeName;if("TABLE"===o||"TR"===o){t=!0;break}}if(!t)return;const n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");this.table=Be(n)}))}));this.editor.update((()=>{const t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");this.table=Be(t),e.observe(t,{childList:!0,subtree:!0})}))}clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update((()=>{if(!rt((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(this.tableNodeKey)))throw new Error("Expected TableNode.");const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");const n=Be(t);De(e,n,null),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(null),e.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Mv,void 0)}))}enableHighlightStyle(){const e=this.editor;e.update((()=>{const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.HE)(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}))}disableHighlightStyle(){const t=this.editor;t.update((()=>{const n=t.getElementByKey(this.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(n,t._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}))}updateTableTableSelection(e){if(null!==e&&e.tableKey===this.tableNodeKey){const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),De(t,this.table,this.tableSelection)}else null==e?this.clearHighlight():(this.tableNodeKey=e.tableKey,this.updateTableTableSelection(e))}setFocusCellForSelection(e,t=!1){const n=this.editor;n.update((()=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(this.tableNodeKey);if(!rt(o))throw new Error("Expected TableNode.");if(!n.getElementByKey(this.tableNodeKey))throw new Error("Expected to find TableElement in DOM");const r=e.x,l=e.y;if(this.focusCell=e,null!==this.anchorCell){const e=Fe(n._window);e&&e.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(this.isHighlightingCells||this.anchorX===r&&this.anchorY===l&&!t){if(r===this.focusX&&l===this.focusY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();if(this.focusX=r,this.focusY=l,this.isHighlightingCells){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&q(t)&&o.is(qe(t))){const e=t.getKey();this.tableSelection=this.tableSelection.clone()||Me(),this.focusCellNodeKey=e,this.tableSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(this.tableSelection),n.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Mv,void 0),De(n,this.table,this.tableSelection)}}}))}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(e.elem);if(q(t)){const e=t.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():Me(),this.anchorCellNodeKey=e}}))}formatCells(e){this.editor.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();Oe(t)||ne(11);const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.uT)(),o=n.anchor,r=n.focus;t.getNodes().forEach((t=>{q(t)&&0!==t.getTextContentSize()&&(o.set(t.getKey(),0,"element"),r.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))})),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(t),this.editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Mv,void 0)}))}clearText(){const e=this.editor;e.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ns)(this.tableNodeKey);if(!rt(t))throw new Error("Expected TableNode.");const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();Oe(n)||ne(11);const o=n.getNodes().filter(q);o.length!==this.table.columns*this.table.rows?(o.forEach((e=>{if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)(),n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),De(e,this.table,null),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(null),e.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Mv,void 0)):(t.selectPrevious(),t.remove(),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().selectStart())}))}}const ke="__lexicalTableSelection",Fe=e=>oe?(e||window).getSelection():null;function Ae(e,n,o,r){const i=o.getRootElement();if(null===i)throw new Error("No root element.");const c=new Ke(o,e.getKey()),h=o._window||window;!function(e,t){e[ke]=t}(n,c);const f=()=>{const e=()=>{c.isSelecting=!1,h.removeEventListener("mouseup",e),h.removeEventListener("mousemove",t)},t=n=>{setTimeout((()=>{if(1&~n.buttons&&c.isSelecting)return c.isSelecting=!1,h.removeEventListener("mouseup",e),void h.removeEventListener("mousemove",t);const o=Pe(n.target);null===o||c.anchorX===o.x&&c.anchorY===o.y||(n.preventDefault(),c.setFocusCellForSelection(o))}),0)};return{onMouseMove:t,onMouseUp:e}};n.addEventListener("mousedown",(e=>{setTimeout((()=>{if(0!==e.button)return;if(!h)return;const t=Pe(e.target);null!==t&&(Qe(e),c.setAnchorCellForSelection(t));const{onMouseUp:n,onMouseMove:o}=f();c.isSelecting=!0,h.addEventListener("mouseup",n),h.addEventListener("mousemove",o)}),0)}));const m=e=>{0===e.button&&o.update((()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)(),n=e.target;Oe(t)&&t.tableKey===c.tableNodeKey&&i.contains(n)&&c.clearHighlight()}))};h.addEventListener("mousedown",m),c.listenersToRemove.add((()=>h.removeEventListener("mousedown",m))),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.bb,(t=>Ge(o,t,"down",e,c)),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.UD,(t=>Ge(o,t,"up",e,c)),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.AX,(t=>Ge(o,t,"backward",e,c)),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.JM,(t=>Ge(o,t,"forward",e,c)),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Q$,(e=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(Oe(n)){const o=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(n.focus.getNode(),q);if(q(o))return Qe(e),o.selectEnd(),!0}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),[lexical__WEBPACK_IMPORTED_MODULE_0__.hi,lexical__WEBPACK_IMPORTED_MODULE_0__.vi,lexical__WEBPACK_IMPORTED_MODULE_0__.Wu].forEach((n=>{c.listenersToRemove.add(o.registerCommand(n,(n=>()=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!ze(o,e))return!1;if(Oe(o))return c.clearText(),!0;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(o)){const r=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.anchor.getNode(),(e=>q(e)));if(!q(r))return!1;const l=o.anchor.getNode(),i=o.focus.getNode(),a=e.isParentOf(l),h=e.isParentOf(i);if(a&&!h||h&&!a)return c.clearText(),!0;const d=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.anchor.getNode(),(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e))),u=d&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(d,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&q(e.getParent())));if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(u)||!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(d))return!1;if(n===lexical__WEBPACK_IMPORTED_MODULE_0__.vi&&null===u.getPreviousSibling())return!0}return!1})(n),lexical__WEBPACK_IMPORTED_MODULE_0__.d))}));const p=n=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!ze(o,e))return!1;if(Oe(o))return n.preventDefault(),n.stopPropagation(),c.clearText(),!0;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(o)){const e=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.anchor.getNode(),(e=>q(e)));if(!q(e))return!1}return!1};function S(t){const n=e.getCordsFromCellNode(t,c.table);return e.getDOMCellFromCordsOrThrow(n.x,n.y,c.table)}return c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.gC,p,lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.w$,p,lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.mB,(n=>{const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!ze(o,e))return!1;if(Oe(o))return c.formatCells(n),!0;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(o)){const e=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.anchor.getNode(),(e=>q(e)));if(!q(e))return!1}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.fU,(t=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!Oe(n)||!ze(n,e))return!1;const o=n.anchor.getNode(),r=n.focus.getNode();if(!q(o)||!q(r))return!1;const[l,i,a]=Ne(e,o,r),c=Math.max(i.startRow,a.startRow),h=Math.max(i.startColumn,a.startColumn),d=Math.min(i.startRow,a.startRow),g=Math.min(i.startColumn,a.startColumn);for(let e=d;e<=c;e++)for(let n=g;n<=h;n++){const o=l[e][n].cell;o.setFormat(t);const r=o.getChildren();for(let e=0;e<r.length;e++){const n=r[e];(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(n)&&!n.isInline()&&n.setFormat(t)}}return!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.bM,(n=>{const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!ze(r,e))return!1;if(Oe(r))return c.clearHighlight(),!1;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(r)){const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(r.anchor.getNode(),(e=>q(e)));if(!q(l))return!1;if("string"==typeof n){const t=Ze(o,r,e);if(t)return Ve(t,e,[(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(n)]),!0}}return!1}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),r&&c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.OX,(t=>{const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(n)||!n.isCollapsed()||!ze(n,e))return!1;const o=je(n.anchor.getNode());if(null===o)return!1;Qe(t);const r=e.getCordsFromCellNode(o,c.table);return We(c,e,r.x,r.y,t.shiftKey?"backward":"forward"),!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.$7,(t=>e.isSelected()),lexical__WEBPACK_IMPORTED_MODULE_0__.Wg)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.oq,(e=>{const{nodes:n,selection:o}=e,r=o.getStartEndPoints(),s=Oe(o),i=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(o)&&null!==(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.anchor.getNode(),(e=>q(e)))&&null!==(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o.focus.getNode(),(e=>q(e)))||s;if(1!==n.length||!rt(n[0])||!i||null===r)return!1;const[c]=r,h=n[0],d=h.getChildren(),u=h.getFirstChildOrThrow().getChildrenSize(),f=h.getChildrenSize(),m=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(c.getNode(),(e=>q(e))),p=m&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(m,(e=>ee(e))),S=p&&(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(p,(e=>rt(e)));if(!q(m)||!ee(p)||!rt(S))return!1;const _=p.getIndexWithinParent(),w=Math.min(S.getChildrenSize()-1,_+f-1),b=m.getIndexWithinParent(),y=Math.min(p.getChildrenSize()-1,b+u-1),N=Math.min(b,y),T=Math.min(_,w),x=Math.max(b,y),v=Math.max(_,w),E=S.getChildren();let O,M,R=0;for(let e=T;e<=v;e++){const t=E[e];if(!ee(t))return!1;const n=d[R];if(!ee(n))return!1;const o=t.getChildren(),r=n.getChildren();let s=0;for(let t=N;t<=x;t++){const n=o[t];if(!q(n))return!1;const i=r[s];if(!q(i))return!1;e===T&&t===N?O=n.getKey():e===v&&t===x&&(M=n.getKey());const c=n.getChildren();i.getChildren().forEach((e=>{(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(e)?((0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)().append(e),n.append(e)):n.append(e)})),c.forEach((e=>e.remove())),s++}R++}if(O&&M){const e=Me();e.set(n[0].getKey(),O,M),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(e)}return!0}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.Mv,(()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)(),n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.S1)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)){const{anchor:n,focus:r}=t,l=n.getNode(),s=r.getNode(),i=je(l),a=je(s),d=!(!i||!e.is(qe(i))),u=!(!a||!e.is(qe(a))),g=d!==u,m=d&&u,p=t.isBackward();if(g){const n=t.clone();u?n.focus.set(e.getParentOrThrow().getKey(),e.getIndexWithinParent(),"element"):n.anchor.set(e.getParentOrThrow().getKey(),p?e.getIndexWithinParent()+1:e.getIndexWithinParent(),"element"),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(n),Ie(o,c)}else m&&(i.is(a)||(c.setAnchorCellForSelection(S(i)),c.setFocusCellForSelection(S(a),!0),c.isSelecting||setTimeout((()=>{const{onMouseUp:e,onMouseMove:t}=f();c.isSelecting=!0,h.addEventListener("mouseup",e),h.addEventListener("mousemove",t)}),0)))}else if(t&&Oe(t)&&t.is(n)&&t.tableKey===e.getKey()){const n=Fe(o._window);if(n&&n.anchorNode&&n.focusNode){const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(n.focusNode),l=r&&!e.is(qe(r)),s=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(n.anchorNode),i=s&&e.is(qe(s));if(l&&i&&n.rangeCount>0){const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.OB)(n,o);r&&(r.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),n.removeAllRanges(),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(r))}}}return t&&!t.is(n)&&(Oe(t)||Oe(n))&&c.tableSelection&&!c.tableSelection.is(n)?(Oe(t)&&t.tableKey===c.tableNodeKey?c.updateTableTableSelection(t):!Oe(t)&&Oe(n)&&n.tableKey===c.tableNodeKey&&c.updateTableTableSelection(null),!1):(c.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.enableHighlightStyle(),Le(t.table,(t=>{const n=t.elem;t.highlighted=!1,$e(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(o,c):!c.hasHijackedSelectionStyles&&e.isSelected()&&Ie(o,c),!1)}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c.listenersToRemove.add(o.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_0__.XK,(()=>{const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)||!t.isCollapsed()||!ze(t,e))return!1;const n=Ze(o,t,e);return!!n&&(Ve(n,e),!0)}),lexical__WEBPACK_IMPORTED_MODULE_0__.d)),c}function He(e){return e[ke]}function Pe(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function Be(e){const t=[],n={columns:0,domRows:t,rows:0};let o=e.firstChild,r=0,l=0;for(t.length=0;null!=o;){const e=o.nodeName;if("TD"===e||"TH"===e){const e={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:r,y:l};o._cell=e;let n=t[l];void 0===n&&(n=t[l]=[]),n[r]=e}else{const e=o.firstChild;if(null!=e){o=e;continue}}const n=o.nextSibling;if(null!=n){r++,o=n;continue}const s=o.parentNode;if(null!=s){const e=s.nextSibling;if(null==e)break;l++,r=0,o=e}}return n.columns=r+1,n.rows=l+1,n}function De(e,t,n){const o=new Set(n?n.getNodes():[]);Le(t,((t,n)=>{const r=t.elem;o.has(n)?(t.highlighted=!0,Je(e,t)):(t.highlighted=!1,$e(e,t),r.getAttribute("style")||r.removeAttribute("style"))}))}function Le(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const o=n[e];if(o)for(let n=0;n<o.length;n++){const r=o[n];if(!r)continue;const l=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(r.elem);null!==l&&t(r,l,{x:n,y:e})}}}function Ie(e,t){t.disableHighlightStyle(),Le(t.table,(t=>{t.highlighted=!0,Je(e,t)}))}const We=(e,t,n,o,r)=>{const l="forward"===r;switch(r){case"backward":case"forward":return n!==(l?e.table.columns-1:0)?Xe(t.getCellNodeFromCordsOrThrow(n+(l?1:-1),o,e.table),l):o!==(l?e.table.rows-1:0)?Xe(t.getCellNodeFromCordsOrThrow(l?0:e.table.columns-1,o+(l?1:-1),e.table),l):l?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==o?Xe(t.getCellNodeFromCordsOrThrow(n,o-1,e.table),!1):t.selectPrevious(),!0;case"down":return o!==e.table.rows-1?Xe(t.getCellNodeFromCordsOrThrow(n,o+1,e.table),!0):t.selectNext(),!0;default:return!1}},Ue=(e,t,n,o,r)=>{const l="forward"===r;switch(r){case"backward":case"forward":return n!==(l?e.table.columns-1:0)&&e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n+(l?1:-1),o,e.table)),!0;case"up":return 0!==o&&(e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n,o-1,e.table)),!0);case"down":return o!==e.table.rows-1&&(e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n,o+1,e.table)),!0);default:return!1}};function ze(e,t){if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(e)||Oe(e)){const n=t.isParentOf(e.anchor.getNode()),o=t.isParentOf(e.focus.getNode());return n&&o}return!1}function Xe(e,t){t?e.selectStart():e.selectEnd()}const Ye="172,206,247";function Je(e,t){const n=t.elem,o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(n);q(o)||ne(131),null===o.getBackgroundColor()?n.style.setProperty("background-color",`rgb(${Ye})`):n.style.setProperty("background-image",`linear-gradient(to right, rgba(${Ye},0.85), rgba(${Ye},0.85))`),n.style.setProperty("caret-color","transparent")}function $e(e,t){const n=t.elem,o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(n);q(o)||ne(131),null===o.getBackgroundColor()&&n.style.removeProperty("background-color"),n.style.removeProperty("background-image"),n.style.removeProperty("caret-color")}function je(e){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,q);return q(n)?n:null}function qe(e){const n=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,rt);return rt(n)?n:null}function Ge(e,n,o,r,l){if(("up"===o||"down"===o)&&function(e){const t=e.getRootElement();return!!t&&(t.hasAttribute("aria-controls")&&"typeahead-menu"===t.getAttribute("aria-controls"))}(e))return!1;const i=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)();if(!ze(i,r)){if("backward"===o&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(i)&&i.isCollapsed()){const e=i.anchor.type,o=i.anchor.offset;if("element"!==e&&("text"!==e||0!==o))return!1;const r=i.anchor.getNode();if(!r)return!1;const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(r,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&!e.isInline()));if(!l)return!1;const a=l.getPreviousSibling();return!(!a||!rt(a)||(Qe(n),a.selectEnd(),0))}return!1}if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(i)&&i.isCollapsed()){const{anchor:a,focus:c}=i,h=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(a.getNode(),q),d=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(c.getNode(),q);if(!q(h)||!h.is(d))return!1;const u=qe(h);if(u!==r&&null!=u){const t=e.getElementByKey(u.getKey());if(null!=t)return l.table=Be(t),Ge(e,n,o,u,l)}if("backward"===o||"forward"===o){const e=a.type,l=a.offset,i=a.getNode();return!!i&&!!function(e,n,o,r){return function(e,t,n){return"element"===e&&("backward"===n?null===t.getPreviousSibling():null===t.getNextSibling())}(e,o,r)||function(e,n,o,r){const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(o,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&!e.isInline()));if(!l)return!1;const i="backward"===r?0===n:n===o.getTextContentSize();return"text"===e&&i&&("backward"===r?null===l.getPreviousSibling():null===l.getNextSibling())}(e,n,o,r)}(e,l,i,o)&&function(e,n,o,r){const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(n,q);if(!q(l))return!1;const[i,a]=Ne(o,l,l);if(!function(e,t,n){const o=e[0][0],r=e[e.length-1][e[0].length-1],{startColumn:l,startRow:s}=t;return"backward"===n?l===o.startColumn&&s===o.startRow:l===r.startColumn&&s===r.startRow}(i,a,r))return!1;const c=function(e,n,o){const r=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(e,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&!e.isInline()));if(!r)return;const l="backward"===n?r.getPreviousSibling():r.getNextSibling();return l&&rt(l)?l:"backward"===n?o.getPreviousSibling():o.getNextSibling()}(n,r,o);return!(!c||rt(c))&&(Qe(e),"backward"===r?c.selectEnd():c.selectStart(),!0)}(n,i,r,o)}const g=e.getElementByKey(h.__key),f=e.getElementByKey(a.key);if(null==f||null==g)return!1;let m;if("element"===a.type)m=f.getBoundingClientRect();else{const e=window.getSelection();if(null===e||0===e.rangeCount)return!1;m=e.getRangeAt(0).getBoundingClientRect()}const p="up"===o?h.getFirstChild():h.getLastChild();if(null==p)return!1;const S=e.getElementByKey(p.__key);if(null==S)return!1;const C=S.getBoundingClientRect();if("up"===o?C.top>m.top-m.height:m.bottom+m.height>C.bottom){Qe(n);const e=r.getCordsFromCellNode(h,l.table);if(!n.shiftKey)return We(l,r,e.x,e.y,o);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,l.table);l.setAnchorCellForSelection(t),l.setFocusCellForSelection(t,!0)}return!0}}else if(Oe(i)){const{anchor:s,focus:a}=i,c=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(s.getNode(),q),h=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(a.getNode(),q),[d]=i.getNodes(),u=e.getElementByKey(d.getKey());if(!q(c)||!q(h)||!rt(d)||null==u)return!1;l.updateTableTableSelection(i);const g=Be(u),f=r.getCordsFromCellNode(c,g),m=r.getDOMCellFromCordsOrThrow(f.x,f.y,g);if(l.setAnchorCellForSelection(m),Qe(n),n.shiftKey){const e=r.getCordsFromCellNode(h,g);return Ue(l,d,e.x,e.y,o)}return h.selectEnd(),!0}return!1}function Qe(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function Ve(e,t,n){const o=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();"first"===e?t.insertBefore(o):t.insertAfter(o),o.append(...n||[]),o.selectEnd()}function Ze(e,n,o){const r=window.getSelection();if(!r||r.anchorNode!==e.getRootElement())return;const l=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(n.anchor.getNode(),(e=>q(e)));if(!l)return;const s=(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.Bt)(l,(e=>rt(e)));if(!rt(s)||!s.is(o))return;const[i,a]=Ne(o,l,l),c=i[0][0],h=i[i.length-1][i[0].length-1],{startRow:d,startColumn:u}=a,g=d===c.startRow&&u===c.startColumn,f=d===h.startRow&&u===h.startColumn;return g?"first":f?"last":void 0}class et extends lexical__WEBPACK_IMPORTED_MODULE_0__.fG{static getType(){return"table"}static clone(e){return new et(e.__key)}static importDOM(){return{table:e=>({conversion:nt,priority:1})}}static importJSON(e){return ot()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(t,n){const o=document.createElement("table");return(0,_lexical_utils__WEBPACK_IMPORTED_MODULE_1__.ZB)(o,t.theme.table),o}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:e=>{if(e){const t=e.cloneNode(),n=document.createElement("colgroup"),r=document.createElement("tbody");(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sb)(e)&&r.append(...e.children);const l=this.getFirstChildOrThrow();if(!ee(l))throw new Error("Expected to find row node.");const s=l.getChildrenSize();for(let e=0;e<s;e++){const e=document.createElement("col");n.append(e)}return t.replaceChildren(n,r),t}}}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:o}=t;for(let t=0;t<n;t++){const n=o[t];if(null==n)continue;const r=n.findIndex((t=>{if(!t)return;const{elem:n}=t;return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(n)===e}));if(-1!==r)return{x:r,y:t}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:o}=n,r=o[t];if(null==r)return null;const l=r[e];return null==l?null:l}getDOMCellFromCordsOrThrow(e,t,n){const o=this.getDOMCellFromCords(e,t,n);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,n){const o=this.getDOMCellFromCords(e,t,n);if(null==o)return null;const r=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.xL)(o.elem);return q(r)?r:null}getCellNodeFromCordsOrThrow(e,t,n){const o=this.getCellNodeFromCords(e,t,n);if(!o)throw new Error("Node at cords not TableCellNode.");return o}canSelectBefore(){return!0}canIndent(){return!1}}function nt(e){return{node:ot()}}function ot(){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.pT)(new et)}function rt(e){return e instanceof et}},"../node_modules/.pnpm/@lexical+text@0.15.0/node_modules/@lexical/text/LexicalText.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{QY:()=>u,eW:()=>T,n$:()=>s,yl:()=>g});var lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");function s(){return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().getTextContent()}function u(t,e=!0){if(t)return!1;let n=s();return e&&(n=n.trim()),""===n}function g(t){return()=>function c(o){if(!u(o,!1))return!1;const l=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().getChildren(),s=l.length;if(s>1)return!1;for(let t=0;t<s;t++){const o=l[t];if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Cy)(o))return!1;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)){if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.bS)(o))return!1;if(0!==o.__indent)return!1;const e=o.getChildren(),n=e.length;for(let r=0;r<n;r++){const n=e[t];if(!(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(n))return!1}}}return!0}(t)}var x=function d(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function T(t,e,n,r){const s=t=>t instanceof n,u=t=>{const e=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.sT)(t.getTextContent());e.setFormat(t.getFormat()),t.replace(e)};return[t.registerNodeTransform(lexical__WEBPACK_IMPORTED_MODULE_0__.Ey,(t=>{if(!t.isSimpleText())return;let n,o=t.getPreviousSibling(),l=t.getTextContent(),f=t;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)){const n=o.getTextContent(),r=e(n+l);if(s(o)){if(null===r||0!==(t=>t.getLatest().__mode)(o))return void u(o);{const e=r.end-n.length;if(e>0){const r=n+l.slice(0,e);if(o.select(),o.setTextContent(r),e===l.length)t.remove();else{const n=l.slice(e);t.setTextContent(n)}return}}}else if(null===r||r.start<n.length)return}let c=0;for(;;){n=e(l);let t,g=null===n?"":l.slice(n.end);if(l=g,""===g){const t=f.getNextSibling();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(t)){g=f.getTextContent()+t.getTextContent();const n=e(g);if(null===n)return void(s(t)?u(t):t.markDirty());if(0!==n.start)return}}if(null===n)return;if(0===n.start&&(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)&&o.isTextEntity()){c+=n.end;continue}0===n.start?[t,f]=f.splitText(n.end):[,t,f]=f.splitText(n.start+c,n.end+c),void 0===t&&x(165,"nodeToReplace");const a=r(t);if(a.setFormat(t.getFormat()),t.replace(a),null==f)return;c=0,o=a}})),t.registerNodeTransform(n,(t=>{const n=t.getTextContent(),r=e(n);if(null===r||0!==r.start)return void u(t);if(n.length>r.end)return void t.splitText(r.end);const o=t.getPreviousSibling();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)&&o.isTextEntity()&&(u(o),u(t));const l=t.getNextSibling();(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(l)&&l.isTextEntity()&&(u(l),s(t)&&u(t))}))]}},"../node_modules/.pnpm/@lexical+utils@0.15.0/node_modules/@lexical/utils/LexicalUtils.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bt:()=>Q,HE:()=>U,Ie:()=>V,K2:()=>oe,OV:()=>re,Pe:()=>Z,Pr:()=>q,Sd:()=>b,W$:()=>j,Xq:()=>Y,ZB:()=>$,Zk:()=>W,aT:()=>B,cj:()=>ee,eu:()=>G,mB:()=>J,v6:()=>X,xj:()=>te,zD:()=>ne});var _lexical_selection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs"),lexical__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs");var p=function g(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=h&&"documentMode"in document?document.documentMode:null,y=(h&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),h&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent)),w=!(!h||!("InputEvent"in window)||m)&&"getTargetRanges"in new window.InputEvent("input"),S=(h&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),h&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,h&&/Android/.test(navigator.userAgent),h&&/^(?=.*Chrome).*/i.test(navigator.userAgent));h&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);function L(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function b(...e){return()=>{e.forEach((e=>e()))}}const B=w,z=y;function $(e,...t){const n=L(...t);n.length>0&&e.classList.add(...n)}function U(e,...t){const n=L(...t);n.length>0&&e.classList.remove(...n)}function W(e,t){for(const n of t)if(e.type.startsWith(n))return!0;return!1}function j(e,t){const n=e[Symbol.iterator]();return new Promise(((e,o)=>{const r=[],l=()=>{const{done:i,value:s}=n.next();if(i)return e(r);const u=new FileReader;u.addEventListener("error",o),u.addEventListener("load",(()=>{const e=u.result;"string"==typeof e&&r.push({file:s,result:e}),l()})),W(s,t)?u.readAsDataURL(s):l()};l()}))}function V(e,t){const n=[],o=(e||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)()).getLatest(),r=t||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(o)&&o.getLastDescendant()||o;let s=o,u=function(e){let t=e,n=0;for(;null!==(t=t.getParent());)n++;return n}(s);for(;null!==s&&!s.is(r);)if(n.push({depth:u,node:s}),(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(s)&&s.getChildrenSize()>0)s=s.getFirstChild(),u++;else{let e=null;for(;null===e&&null!==s;)e=s.getNextSibling(),null===e?(s=s.getParent(),u--):s=e}return null!==s&&s.is(r)&&n.push({depth:u,node:s}),n}function q(e){let t=e;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)&&t.getChildrenSize()>0)t=t.getLastChild();else{let e=null;for(;null===e&&null!==t;)e=t.getPreviousSibling(),t=null===e?t.getParent():e}return t}function G(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null}function J(e){const t=Q(e,(e=>(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(e)&&!e.isInline()));return(0,lexical__WEBPACK_IMPORTED_MODULE_0__.ff)(t)||p(4,e.__key),t}const Q=(e,t)=>{let n=e;for(;n!==(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};function X(e,t,n,o){const r=e=>e instanceof t;return e.registerNodeTransform(t,(e=>{const t=(e=>{const t=e.getChildren();for(let e=0;e<t.length;e++){const n=t[e];if(r(n))return null}let n=e,o=e;for(;null!==n;)if(o=n,n=n.getParent(),r(n))return{child:o,parent:n};return null})(e);if(null!==t){const{child:r,parent:l}=t;if(r.is(e)){o(l,e);const t=r.getNextSiblings(),i=t.length;if(l.insertAfter(r),0!==i){const e=n(l);r.insertAfter(e);for(let n=0;n<i;n++)e.append(t[n])}l.canBeEmpty()||0!==l.getChildrenSize()||l.remove()}}}))}function Y(e,n){const o=new Map,r=e._pendingEditorState;for(const[e,r]of n._nodeMap){const n=(0,_lexical_selection__WEBPACK_IMPORTED_MODULE_1__.BE)(r);(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(n)&&((0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(r)||p(180),n.__text=r.__text),o.set(e,n)}r&&(r._nodeMap=o),e._dirtyType=2;const l=n._selection;(0,lexical__WEBPACK_IMPORTED_MODULE_0__.n1)(null===l?null:l.clone())}function Z(e){const t=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.vJ)()||(0,lexical__WEBPACK_IMPORTED_MODULE_0__.S1)();if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.I2)(t)){const{focus:n}=t,o=n.getNode(),r=n.offset;if((0,lexical__WEBPACK_IMPORTED_MODULE_0__.Iq)(o)){const t=o.getChildAtIndex(r);null==t?o.append(e):t.insertBefore(e),e.selectNext()}else{let t,n;(0,lexical__WEBPACK_IMPORTED_MODULE_0__.kF)(o)?(t=o.getParentOrThrow(),n=o.getIndexWithinParent(),r>0&&(n+=1,o.splitText(r))):(t=o,n=r);const[,l]=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.hc)(t,n);l.insertBefore(e),l.selectStart()}}else{if(null!=t){const n=t.getNodes();n[n.length-1].getTopLevelElementOrThrow().insertAfter(e)}else(0,lexical__WEBPACK_IMPORTED_MODULE_0__.Ni)().append(e);const n=(0,lexical__WEBPACK_IMPORTED_MODULE_0__.lJ)();e.insertAfter(n),n.select()}return e.getLatest()}function ee(e,t){const n=t();return e.replace(n),n.append(e),n}function te(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name}function ne(e,t){const n=[];for(let o=0;o<e.length;o++){const r=t(e[o]);null!==r&&n.push(r)}return n}function oe(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function re(e){if(z)return 1;let t=1;for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t}},"../node_modules/.pnpm/@lexical+yjs@0.15.0_yjs@13.6.15/node_modules/@lexical/yjs/LexicalYjs.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{GT:()=>pe,KL:()=>ge,KF:()=>X,uj:()=>ye,tJ:()=>xe,H$:()=>me,Oy:()=>fe,gE:()=>he,o0:()=>_e});var Lexical_prod=__webpack_require__("../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs"),yjs=__webpack_require__("../node_modules/.pnpm/yjs@13.6.15/node_modules/yjs/dist/yjs.mjs");var s=function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function LexicalOffset_prod_d(e,n){const l=[];let o=e.__first;for(;null!==o;){const e=null===n?(0,Lexical_prod.ns)(o):n.get(o);null==e&&s(174),l.push(o),o=e.__next}return l}var LexicalSelection_prod=__webpack_require__("../node_modules/.pnpm/@lexical+selection@0.15.0/node_modules/@lexical/selection/LexicalSelection.prod.mjs");var T=function N(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));class S{constructor(e,t){this._key="",this._map=e,this._parent=t,this._type="linebreak"}getNode(){const n=(0,Lexical_prod.ns)(this._key);return(0,Lexical_prod.wH)(n)?n:null}getKey(){return this._key}getSharedType(){return this._map}getType(){return this._type}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}destroy(e){e.collabNodeMap.delete(this._key)}}function F(e,t){const n=new S(e,t);return e._collabNode=n,n}class E{constructor(e,t,n,o){this._key="",this._map=e,this._parent=n,this._text=t,this._type=o,this._normalized=!1}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return(0,Lexical_prod.kF)(t)?t:null}getNode(){const t=(0,Lexical_prod.ns)(this._key);return(0,Lexical_prod.kF)(t)?t:null}getSharedType(){return this._map}getType(){return this._type}getKey(){return this._key}getSize(){return this._text.length+(this._normalized?0:1)}getOffset(){return this._parent.getChildOffset(this)}spliceText(e,t,n){const o=this._parent._xmlText,s=this.getOffset()+1+e;0!==t&&o.delete(s,t),""!==n&&o.insert(s,n)}syncPropertiesAndTextFromLexical(e,t,n){const l=this.getPrevNode(n),i=t.__text;if($(e,this._map,l,t),null!==l){const e=l.__text;e!==i&&(!function(e,t,n,l){const i=(0,Lexical_prod.vJ)();let r=l.length;if((0,Lexical_prod.I2)(i)&&i.isCollapsed()){const e=i.anchor;e.key===t&&(r=e.offset)}const c=function(e,t,n){const o=e.length,s=t.length;let l=0,i=0;for(;l<o&&l<s&&e[l]===t[l]&&l<n;)l++;for(;i+l<o&&i+l<s&&e[o-i-1]===t[s-i-1];)i++;for(;i+l<o&&i+l<s&&e[l]===t[l];)l++;return{index:l,insert:t.slice(l,s-i),remove:o-l-i}}(n,l,r);e.spliceText(c.index,c.remove,c.insert)}(this,t.__key,e,i),this._text=i)}}syncPropertiesAndTextFromYjs(e,t){const n=this.getNode();null===n&&T(84),K(e,this._map,n,t);const o=this._text;n.__text!==o&&(n.getWritable().__text=o)}destroy(e){e.collabNodeMap.delete(this._key)}}function M(e,t,n,o){const s=new E(e,t,n,o);return e._collabNode=s,s}const z=new Set(["__key","__parent","__next","__prev"]),L=new Set(["__first","__last","__size"]),O=new Set(["__cachedText"]),j=new Set(["__text"]);function A(e,t,o){if(z.has(e))return!0;if((0,Lexical_prod.kF)(t)){if(j.has(e))return!0}else if((0,Lexical_prod.ff)(t)&&(L.has(e)||(0,Lexical_prod.hV)(t)&&O.has(e)))return!0;const s=t.constructor,l=o.excludedProperties.get(s);return null!=l&&l.has(e)}function Y(t){const n=(0,Lexical_prod.ns)(t);return null===n&&T(85),n}function D(e,o,s){const l=o.__type;let i;if((0,Lexical_prod.ff)(o))i=V(new yjs.ZQ,s,l),i.syncPropertiesFromLexical(e,o,null),i.syncChildrenFromLexical(e,o,null,null,null);else if((0,Lexical_prod.kF)(o))i=M(new yjs.T5,o.__text,s,l),i.syncPropertiesAndTextFromLexical(e,o,null);else if((0,Lexical_prod.wH)(o)){const e=new yjs.T5;e.set("__type","linebreak"),i=F(e,s)}else(0,Lexical_prod.Cy)(o)?(i=J(new yjs.WF,s,l),i.syncPropertiesFromLexical(e,o,null)):T(86);return i._key=o.__key,i}function W(e,t,n){const o=t._collabNode;if(void 0===o){const o=e.editor._nodes,s=function(e){const t=e instanceof yjs.T5?e.get("__type"):e.getAttribute("__type");return null==t&&T(87),t}(t);void 0===o.get(s)&&T(88,s);const l=t.parent,i=void 0===n&&null!==l?W(e,l):n||null;if(i instanceof Q||T(89),t instanceof yjs.ZQ)return V(t,i,s);if(t instanceof yjs.T5)return"linebreak"===s?F(t,i):M(t,"",i,s);if(t instanceof yjs.WF)return J(t,i,s)}return o}function I(e,t,n){const o=t.getType(),s=e.editor._nodes.get(o);void 0===s&&T(88,o);const l=new s.klass;if(l.__parent=n,t._key=l.__key,t instanceof Q){const n=t._xmlText;t.syncPropertiesFromYjs(e,null),t.applyChildrenYjsDelta(e,n.toDelta()),t.syncChildrenFromYjs(e)}else t instanceof E?t.syncPropertiesAndTextFromYjs(e,null):t instanceof H&&t.syncPropertiesFromYjs(e,null);return e.collabNodeMap.set(l.__key,t),l}function K(e,t,n,o){const s=null===o?t instanceof yjs.T5?Array.from(t.keys()):Object.keys(t.getAttributes()):Array.from(o);let i;for(let o=0;o<s.length;o++){const r=s[o];if(A(r,n,e))continue;const c=n[r];let a=t instanceof yjs.T5?t.get(r):t.getAttribute(r);if(c!==a){if(a instanceof yjs.JA){const t=e.docMap;c instanceof yjs.JA&&t.delete(c.guid);const n=(0,Lexical_prod.ie)(),o=a.guid;n._key=o,t.set(o,a),a=n}void 0===i&&(i=n.getWritable()),i[r]=a}}}function $(e,t,n,o){const s=o.__type,l=e.nodeProperties;let i=l.get(s);void 0===i&&(i=Object.keys(o).filter((t=>!A(t,o,e))),l.set(s,i));const r=e.editor.constructor;for(let s=0;s<i.length;s++){const l=i[s],c=null===n?void 0:n[l];let a=o[l];if(c!==a){if(a instanceof r){const t=e.docMap;let n;if(c instanceof r){const e=c._key;n=t.get(e),t.delete(e)}const s=n||new yjs.JA,l=s.guid;a._key=l,t.set(l,s),a=s,e.editor.update((()=>{o.markDirty()}))}t instanceof yjs.T5?t.set(l,a):t.setAttribute(l,a)}}}function R(e,t,n,o){return e.slice(0,t)+o+e.slice(t+n)}function B(e,t,n){let o=0,s=0;const l=e._children,i=l.length;for(;s<i;s++){const e=l[s],r=o;if(o+=e.getSize(),(n?o>=t:o>t)&&e instanceof E){let n=t-r-1;return n<0&&(n=0),{length:o-t,node:e,nodeIndex:s,offset:n}}if(o>t)return{length:0,node:e,nodeIndex:s,offset:r};if(s===i-1)return{length:0,node:null,nodeIndex:s+1,offset:r+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function U(e){const t=e.anchor,o=e.focus;let s=!1;try{const e=t.getNode(),l=o.getNode();(!e.isAttached()||!l.isAttached()||(0,Lexical_prod.kF)(e)&&t.offset>e.getTextContentSize()||(0,Lexical_prod.kF)(l)&&o.offset>l.getTextContentSize())&&(s=!0)}catch(e){s=!0}return s}function G(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),o=t.getWritable(),s=e.getPreviousSibling(),l=e.getNextSibling();if(null===s)if(null!==l){const e=l.getWritable();o.__first=l.__key,e.__prev=null}else o.__first=null;else{const e=s.getWritable();if(null!==l){const t=l.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===l)if(null!==s){const e=s.getWritable();o.__last=s.__key,e.__next=null}else o.__last=null;else{const e=l.getWritable();if(null!==s){const t=s.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}o.__size--,n.__parent=null}}function q(t,n){const o=n._nodeMap.get(t);if(!o)return void(0,Lexical_prod.Ni)().selectStart();const s=o.__prev;let l=null;s&&(l=(0,Lexical_prod.ns)(s)),null===l&&null!==o.__parent&&(l=(0,Lexical_prod.ns)(o.__parent)),null!==l?null!==l&&l.isAttached()?l.selectEnd():q(l.__key,n):(0,Lexical_prod.Ni)().selectStart()}class H{constructor(e,t,n){this._key="",this._xmlElem=e,this._parent=t,this._type=n}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return(0,Lexical_prod.Cy)(t)?t:null}getNode(){const t=(0,Lexical_prod.ns)(this._key);return(0,Lexical_prod.Cy)(t)?t:null}getSharedType(){return this._xmlElem}getType(){return this._type}getKey(){return this._key}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}syncPropertiesFromLexical(e,t,n){const o=this.getPrevNode(n);$(e,this._xmlElem,o,t)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&T(83),K(e,this._xmlElem,n,t)}destroy(e){e.collabNodeMap.delete(this._key)}}function J(e,t,n){const o=new H(e,t,n);return e._collabNode=o,o}class Q{constructor(e,t,n){this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=t}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return(0,Lexical_prod.ff)(t)?t:null}getNode(){const t=(0,Lexical_prod.ns)(this._key);return(0,Lexical_prod.ff)(t)?t:null}getSharedType(){return this._xmlText}getType(){return this._type}getKey(){return this._key}isEmpty(){return 0===this._children.length}getSize(){return 1}getOffset(){const e=this._parent;return null===e&&T(90),e.getChildOffset(this)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&T(91),K(e,this._xmlText,n,t)}applyChildrenYjsDelta(e,t){const n=this._children;let o=0;for(let s=0;s<t.length;s++){const l=t[s],i=l.insert,r=l.delete;if(null!=l.retain)o+=l.retain;else if("number"==typeof r){let e=r;for(;e>0;){const{node:t,nodeIndex:s,offset:l,length:i}=B(this,o,!1);if(t instanceof Q||t instanceof S||t instanceof H)n.splice(s,1),e-=1;else{if(!(t instanceof E))break;{const o=Math.min(e,i),r=0!==s?n[s-1]:null,c=t.getSize();0===l&&1===o&&s>0&&r instanceof E&&i===c&&0===Array.from(t._map.keys()).length?(r._text+=t._text,n.splice(s,1)):0===l&&o===c?n.splice(s,1):t._text=R(t._text,l,o,""),e-=o}}}}else{if(null==i)throw new Error("Unexpected delta format");if("string"==typeof i){const{node:e,offset:t}=B(this,o,!0);e instanceof E?e._text=R(e._text,t,0,i):this._xmlText.delete(t,i.length),o+=i.length}else{const t=i,{nodeIndex:s}=B(this,o,!1),l=W(e,t,this);n.splice(s,0,l),o+=1}}}}syncChildrenFromYjs(e){const t=this.getNode();null===t&&T(92);const o=t.__key,s=LexicalOffset_prod_d(t,null),l=s.length,i=this._children,r=i.length,c=e.collabNodeMap,a=new Set;let f,u,d=0,_=null;r!==l&&(u=t.getWritable());for(let l=0;l<r;l++){const h=s[d],p=i[l],g=p.getNode(),y=p._key;if(null!==g&&h===y){const t=(0,Lexical_prod.kF)(g);if(a.add(h),t)if(p._key=h,p instanceof Q){const t=p._xmlText;p.syncPropertiesFromYjs(e,null),p.applyChildrenYjsDelta(e,t.toDelta()),p.syncChildrenFromYjs(e)}else p instanceof E?p.syncPropertiesAndTextFromYjs(e,null):p instanceof H?p.syncPropertiesFromYjs(e,null):p instanceof S||T(93);_=g,d++}else{if(void 0===f){f=new Set;for(let e=0;e<r;e++){const t=i[e]._key;""!==t&&f.add(t)}}if(null!==g&&void 0!==h&&!f.has(h)){G(Y(h)),l--,d++;continue}u=t.getWritable();const n=I(e,p,o),s=n.__key;if(c.set(s,p),null===_){const e=u.getFirstChild();if(u.__first=s,null!==e){const t=e.getWritable();t.__prev=s,n.__next=t.__key}}else{const e=_.getWritable(),t=_.getNextSibling();if(e.__next=s,n.__prev=_.__key,null!==t){const e=t.getWritable();e.__prev=s,n.__next=e.__key}}l===r-1&&(u.__last=s),u.__size++,_=n}}for(let t=0;t<l;t++){const n=s[t];if(!a.has(n)){const t=Y(n),o=e.collabNodeMap.get(n);void 0!==o&&o.destroy(e),G(t)}}}syncPropertiesFromLexical(e,t,n){$(e,this._xmlText,this.getPrevNode(n),t)}_syncChildFromLexical(e,t,o,s,l,i){const c=this._children[t],f=Y(o);c instanceof Q&&(0,Lexical_prod.ff)(f)?(c.syncPropertiesFromLexical(e,f,s),c.syncChildrenFromLexical(e,f,s,l,i)):c instanceof E&&(0,Lexical_prod.kF)(f)?c.syncPropertiesAndTextFromLexical(e,f,s):c instanceof H&&(0,Lexical_prod.Cy)(f)&&c.syncPropertiesFromLexical(e,f,s)}syncChildrenFromLexical(e,t,n,o,s){const l=this.getPrevNode(n),i=null===l?[]:LexicalOffset_prod_d(l,n),r=LexicalOffset_prod_d(t,null),c=i.length-1,a=r.length-1,f=e.collabNodeMap;let u,d,_=0,h=0;for(;_<=c&&h<=a;){const t=i[_],l=r[h];if(t===l)this._syncChildFromLexical(e,h,l,n,o,s),_++,h++;else{void 0===u&&(u=new Set(i)),void 0===d&&(d=new Set(r));const n=d.has(t),o=u.has(l);if(n){const t=D(e,Y(l),this);f.set(l,t),o?(this.splice(e,h,1,t),_++,h++):(this.splice(e,h,0,t),h++)}else this.splice(e,h,1),_++}}const p=_>c,g=h>a;if(p&&!g)for(;h<=a;++h){const t=r[h],n=D(e,Y(t),this);this.append(n),f.set(t,n)}else if(g&&!p)for(let t=this._children.length-1;t>=h;t--)this.splice(e,t,1)}append(e){const t=this._xmlText,n=this._children,o=n[n.length-1],s=void 0!==o?o.getOffset()+o.getSize():0;if(e instanceof Q)t.insertEmbed(s,e._xmlText);else if(e instanceof E){const n=e._map;null===n.parent&&t.insertEmbed(s,n),t.insert(s+1,e._text)}else e instanceof S?t.insertEmbed(s,e._map):e instanceof H&&t.insertEmbed(s,e._xmlElem);this._children.push(e)}splice(e,t,n,o){const s=this._children,l=s[t];if(void 0===l)return void 0===o&&T(94),void this.append(o);const i=l.getOffset();-1===i&&T(95);const r=this._xmlText;if(0!==n&&r.delete(i,l.getSize()),o instanceof Q)r.insertEmbed(i,o._xmlText);else if(o instanceof E){const e=o._map;null===e.parent&&r.insertEmbed(i,e),r.insert(i+1,o._text)}else o instanceof S?r.insertEmbed(i,o._map):o instanceof H&&r.insertEmbed(i,o._xmlElem);if(0!==n){const o=s.slice(t,t+n);for(let t=0;t<o.length;t++)o[t].destroy(e)}void 0!==o?s.splice(t,n,o):s.splice(t,n)}getChildOffset(e){let t=0;const n=this._children;for(let o=0;o<n.length;o++){const s=n[o];if(s===e)return t;t+=s.getSize()}return-1}destroy(e){const t=e.collabNodeMap,n=this._children;for(let t=0;t<n.length;t++)n[t].destroy(e);t.delete(this._key)}}function V(e,t,n){const o=new Q(e,t,n);return e._collabNode=o,o}function X(e,t,n,o,s,l){null==o&&T(81);const i=V(o.get("root",yjs.ZQ),null,"root");return i._key="root",{clientID:o.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:o,docMap:s,editor:e,excludedProperties:l||new Map,id:n,nodeProperties:new Map,root:i}}function Z(e,t){const o=t.collabNodeMap.get(e.key);if(void 0===o)return null;let s=e.offset,l=o.getSharedType();if(o instanceof E){l=o._parent._xmlText;const e=o.getOffset();if(-1===e)return null;s=e+1+s}else if(o instanceof Q&&"element"===e.type){const t=e.getNode();(0,Lexical_prod.ff)(t)||T(184);let o=0,l=0,i=t.getFirstChild();for(;null!==i&&l++<s;)(0,Lexical_prod.kF)(i)?o+=i.getTextContentSize()+1:o++,i=i.getNextSibling();s=o}return(0,yjs.SF)(l,s)}function ee(e,t){return(0,yjs.IT)(e,t.doc)}function te(e,t){if(null==e){if(null!=t)return!0}else if(null==t||!(0,yjs.uG)(e,t))return!0;return!1}function ne(e,t){return{color:t,name:e,selection:null}}function oe(e,t){const n=e.cursorsContainer;if(null!==n){const e=t.selections,o=e.length;for(let t=0;t<o;t++)n.removeChild(e[t])}}function se(e,t){const n=t.selection;null!==n&&oe(e,n)}function le(e,t,n,o,s){const l=e.color,i=document.createElement("span");i.style.cssText=`position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:${l};z-index:10;`;const r=document.createElement("span");return r.textContent=e.name,r.style.cssText=`position:absolute;left:-2px;top:-16px;background-color:${l};color:#fff;line-height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;`,i.appendChild(r),{anchor:{key:t,offset:n},caret:i,color:l,focus:{key:o,offset:s},name:r,selections:[]}}function ie(e,n,o,s){const l=e.editor,i=l.getRootElement(),r=e.cursorsContainer;if(null===r||null===i)return;const c=r.offsetParent;if(null===c)return;const a=c.getBoundingClientRect(),f=n.selection;if(null===o)return null===f?void 0:(n.selection=null,void oe(e,f));n.selection=o;const u=o.caret,d=o.color,_=o.selections,h=o.anchor,p=o.focus,g=h.key,y=p.key,x=s.get(g),m=s.get(y);if(null==x||null==m)return;let k;if(x===m&&(0,Lexical_prod.wH)(x))k=[l.getElementByKey(g).getBoundingClientRect()];else{const e=(0,LexicalSelection_prod.cb)(l,x,h.offset,m,p.offset);if(null===e)return;k=(0,LexicalSelection_prod.zT)(l,e)}const b=_.length,v=k.length;for(let e=0;e<v;e++){const t=k[e];let n=_[e];if(void 0===n){n=document.createElement("span"),_[e]=n;const t=document.createElement("span");n.appendChild(t),r.appendChild(n)}const o=`position:absolute;top:${t.top-a.top}px;left:${t.left-a.left}px;height:${t.height}px;width:${t.width}px;pointer-events:none;z-index:5;`;n.style.cssText=o,n.firstChild.style.cssText=`${o}left:0;top:0;background-color:${d};opacity:0.3;`,e===v-1&&u.parentNode!==n&&n.appendChild(u)}for(let e=b-1;e>=v;e--){const t=_[e];r.removeChild(t),_.pop()}}function re(e,t){const n=t.awareness.getLocalState();if(null===n)return;const l=n.anchorPos,i=n.focusPos;if(null!==l&&null!==i){const t=ee(l,e),n=ee(i,e);if(null!==t&&null!==n){const[e,l]=ae(t.type,t.index),[i,r]=ae(n.type,n.index);if(null!==e&&null!==i){const t=e.getKey(),n=i.getKey(),c=(0,Lexical_prod.vJ)();if(!(0,Lexical_prod.I2)(c))return;const a=c.anchor,f=c.focus;ce(a,t,l),ce(f,n,r)}}}}function ce(t,o,s){if(t.key!==o||t.offset!==s){let l=(0,Lexical_prod.ns)(o);if(null!==l&&!(0,Lexical_prod.ff)(l)&&!(0,Lexical_prod.kF)(l)){const e=l.getParentOrThrow();o=e.getKey(),s=l.getIndexWithinParent(),l=e}t.set(o,s,(0,Lexical_prod.ff)(l)?"element":"text")}}function ae(e,t){const n=e._collabNode;if(void 0===n)return[null,0];if(n instanceof Q){const{node:e,offset:o}=B(n,t,!0);return null===e?[n,0]:[e,o]}return[null,0]}function fe(e,t){const n=Array.from(t.awareness.getStates()),o=e.clientID,s=e.cursors,l=e.editor._editorState._nodeMap,i=new Set;for(let t=0;t<n.length;t++){const r=n[t],[c,a]=r;if(c!==o){i.add(c);const{anchorPos:t,focusPos:n,name:o,color:r,focusing:f}=a;let u=null,d=s.get(c);if(void 0===d&&(d=ne(o,r),s.set(c,d)),null!==t&&null!==n&&f){const o=ee(t,e),s=ee(n,e);if(null!==o&&null!==s){const[e,t]=ae(o.type,o.index),[n,l]=ae(s.type,s.index);if(null!==e&&null!==n){const o=e.getKey(),s=n.getKey();if(u=d.selection,null===u)u=le(d,o,t,s,l);else{const e=u.anchor,n=u.focus;e.key=o,e.offset=t,n.key=s,n.offset=l}}}}ie(e,d,u,l)}}const r=Array.from(s.keys());for(let t=0;t<r.length;t++){const n=r[t];if(!i.has(n)){const t=s.get(n);void 0!==t&&(se(e,t),s.delete(n))}}}function ue(e,t,n,o){const l=t.awareness,i=l.getLocalState();if(null===i)return;const{anchorPos:r,focusPos:c,name:a,color:f,focusing:u,awarenessData:d}=i;let _=null,h=null;(null!==o&&(null===r||o.is(n))||null!==n)&&((0,Lexical_prod.I2)(o)&&(_=Z(o.anchor,e),h=Z(o.focus,e)),(te(r,_)||te(c,h))&&l.setLocalState({anchorPos:_,awarenessData:d,color:f,focusPos:h,focusing:u,name:a}))}function de(e,t){const{target:n}=t,o=W(e,n);if(o instanceof Q&&t instanceof yjs.zN){const{keysChanged:n,childListChanged:s,delta:l}=t;n.size>0&&o.syncPropertiesFromYjs(e,n),s&&(o.applyChildrenYjsDelta(e,l),o.syncChildrenFromYjs(e))}else if(o instanceof E&&t instanceof yjs.Cr){const{keysChanged:n}=t;n.size>0&&o.syncPropertiesAndTextFromYjs(e,n)}else if(o instanceof H&&t instanceof yjs.xz){const{attributesChanged:n}=t;n.size>0&&o.syncPropertiesFromYjs(e,n)}else T(82)}function _e(e,t,n,l){const r=e.editor,c=r._editorState;n.forEach((e=>e.delta)),r.update((()=>{for(let t=0;t<n.length;t++){const o=n[t];de(e,o)}0===(0,Lexical_prod.Ni)().getChildrenSize()&&(0,Lexical_prod.Ni)().append((0,Lexical_prod.lJ)());const l=(0,Lexical_prod.vJ)();if((0,Lexical_prod.I2)(l))if(U(l)){const n=c._selection;(0,Lexical_prod.I2)(n)&&(re(e,t),U(l))&&q(l.anchor.key,c),ue(e,t,n,(0,Lexical_prod.vJ)())}else re(e,t)}),{onUpdate:()=>{fe(e,t)},skipTransforms:!0,tag:l?"historic":"collaboration"})}function he(t,s,l,r,c,a,f,u){!function(e,t){e.doc.transact(t,e)}(t,(()=>{r.read((()=>{if(u.has("collaboration")||u.has("historic"))return void(f.size>0&&function(t,o){const s=Array.from(o),l=t.collabNodeMap,i=[];for(let t=0;t<s.length;t++){const o=s[t],r=(0,Lexical_prod.ns)(o),c=l.get(o);if(c instanceof E)if((0,Lexical_prod.kF)(r))i.push([c,r.__text]);else{const e=c.getOffset();if(-1===e)continue;const t=c._parent;c._normalized=!0,t._xmlText.delete(e,1),l.delete(o);const n=t._children,s=n.indexOf(c);n.splice(s,1)}}for(let e=0;e<i.length;e++){const[t,n]=i[e];t instanceof E&&"string"==typeof n&&(t._text=n)}}(t,f));if(c.has("root")){const e=l._nodeMap,n=(0,Lexical_prod.Ni)(),o=t.root;o.syncPropertiesFromLexical(t,n,e),o.syncChildrenFromLexical(t,n,e,c,a)}const r=(0,Lexical_prod.vJ)(),d=l._selection;ue(t,s,d,r)}))}))}const pe=(0,Lexical_prod.gu)("CONNECTED_COMMAND"),ge=(0,Lexical_prod.gu)("TOGGLE_CONNECT_COMMAND");function ye(e,t){return new yjs.ad(t,{trackedOrigins:new Set([e,null])})}function xe(e,t,n,o,s){e.awareness.setLocalState({anchorPos:null,awarenessData:s,color:n,focusPos:null,focusing:o,name:t})}function me(e,t,n,o,s){const{awareness:l}=e;let i=l.getLocalState();null===i&&(i={anchorPos:null,awarenessData:s,color:n,focusPos:null,focusing:o,name:t}),i.focusing=o,l.setLocalState(i)}},"../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../node_modules/.pnpm/mini-css-extract-plugin@2.9.0_webpack@5.91.0/node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/katex@0.16.10/node_modules/katex/dist/katex.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/runtime/sourceMaps.js"),_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./../node_modules/.pnpm/katex@0.16.10/node_modules/katex/dist/katex.css"],names:[],mappings:"AAAA;QACQ,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/runtime/api.js":module=>{"use strict";module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map((function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content})).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/runtime/sourceMaps.js":module=>{"use strict";module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"../node_modules/.pnpm/katex@0.16.10/node_modules/katex/dist/katex.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>katex});class SourceLocation{constructor(lexer,start,end){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=lexer,this.start=start,this.end=end}static range(first,second){return second?first&&first.loc&&second.loc&&first.loc.lexer===second.loc.lexer?new SourceLocation(first.loc.lexer,first.loc.start,second.loc.end):null:first&&first.loc}}class Token{constructor(text,loc){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=text,this.loc=loc}range(endToken,text){return new Token(text,SourceLocation.range(this,endToken))}}class ParseError{constructor(message,token){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var start,end,error="KaTeX parse error: "+message,loc=token&&token.loc;if(loc&&loc.start<=loc.end){var input=loc.lexer.input;start=loc.start,end=loc.end,start===input.length?error+=" at end of input: ":error+=" at position "+(start+1)+": ";var underlined=input.slice(start,end).replace(/[^]/g,"$&̲");error+=(start>15?"…"+input.slice(start-15,start):input.slice(0,start))+underlined+(end+15<input.length?input.slice(end,end+15)+"…":input.slice(end))}var self=new Error(error);return self.name="ParseError",self.__proto__=ParseError.prototype,self.position=start,null!=start&&null!=end&&(self.length=end-start),self.rawMessage=message,self}}ParseError.prototype.__proto__=Error.prototype;var uppercase=/([A-Z])/g,ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;var getBaseElem=function getBaseElem(group){return"ordgroup"===group.type||"color"===group.type?1===group.body.length?getBaseElem(group.body[0]):group:"font"===group.type?getBaseElem(group.body):group},utils={contains:function contains(list,elem){return-1!==list.indexOf(elem)},deflt:function deflt(setting,defaultIfUndefined){return void 0===setting?defaultIfUndefined:setting},escape:function escape(text){return String(text).replace(ESCAPE_REGEX,(match=>ESCAPE_LOOKUP[match]))},hyphenate:function hyphenate(str){return str.replace(uppercase,"-$1").toLowerCase()},getBaseElem,isCharacterBox:function isCharacterBox(group){var baseElem=getBaseElem(group);return"mathord"===baseElem.type||"textord"===baseElem.type||"atom"===baseElem.type},protocolFromUrl:function protocolFromUrl(url){var protocol=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(url);return protocol?":"!==protocol[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(protocol[1])?protocol[1].toLowerCase():null:"_relative"}},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:color=>"#"+color},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(def,defs)=>(defs.push(def),defs)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:s=>Math.max(0,s),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:n=>Math.max(0,n),cli:"-e, --max-expand <n>",cliProcessor:n=>"Infinity"===n?1/0:parseInt(n)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(schema){if(schema.default)return schema.default;var type=schema.type,defaultType=Array.isArray(type)?type[0]:type;if("string"!=typeof defaultType)return defaultType.enum[0];switch(defaultType){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(options){for(var prop in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,options=options||{},SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(prop)){var schema=SETTINGS_SCHEMA[prop];this[prop]=void 0!==options[prop]?schema.processor?schema.processor(options[prop]):options[prop]:getDefaultValue(schema)}}reportNonstrict(errorCode,errorMsg,token){var strict=this.strict;if("function"==typeof strict&&(strict=strict(errorCode,errorMsg,token)),strict&&"ignore"!==strict){if(!0===strict||"error"===strict)throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+errorMsg+" ["+errorCode+"]",token);"warn"===strict?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+errorMsg+" ["+errorCode+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+strict+"': "+errorMsg+" ["+errorCode+"]")}}useStrictBehavior(errorCode,errorMsg,token){var strict=this.strict;if("function"==typeof strict)try{strict=strict(errorCode,errorMsg,token)}catch(error){strict="error"}return!(!strict||"ignore"===strict)&&(!0===strict||"error"===strict||("warn"===strict?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+errorMsg+" ["+errorCode+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+strict+"': "+errorMsg+" ["+errorCode+"]"),!1)))}isTrusted(context){if(context.url&&!context.protocol){var protocol=utils.protocolFromUrl(context.url);if(null==protocol)return!1;context.protocol=protocol}var trust="function"==typeof this.trust?this.trust(context):this.trust;return Boolean(trust)}}class Style{constructor(id,size,cramped){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=id,this.size=size,this.cramped=cramped}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1[this.id]]}isTight(){return this.size>=2}}var styles=[new Style(0,0,!1),new Style(1,0,!0),new Style(2,1,!1),new Style(3,1,!0),new Style(4,2,!1),new Style(5,2,!0),new Style(6,3,!1),new Style(7,3,!0)],sup=[4,5,4,5,6,7,6,7],sub=[5,5,5,5,7,7,7,7],fracNum=[2,3,4,5,6,7,6,7],fracDen=[3,3,5,5,7,7,7,7],cramp=[1,1,3,3,5,5,7,7],text$1=[0,1,2,3,2,3,2,3],Style$1={DISPLAY:styles[0],TEXT:styles[2],SCRIPT:styles[4],SCRIPTSCRIPT:styles[6]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var allBlocks=[];function supportedCodepoint(codepoint){for(var i=0;i<allBlocks.length;i+=2)if(codepoint>=allBlocks[i]&&codepoint<=allBlocks[i+1])return!0;return!1}scriptData.forEach((s=>s.blocks.forEach((b=>allBlocks.push(...b)))));var path={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class DocumentFragment{constructor(children){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=children,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(className){return utils.contains(this.classes,className)}toNode(){for(var frag=document.createDocumentFragment(),i=0;i<this.children.length;i++)frag.appendChild(this.children[i].toNode());return frag}toMarkup(){for(var markup="",i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup}toText(){return this.children.map((child=>child.toText())).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function getCharacterMetrics(character,font,mode){if(!fontMetricsData[font])throw new Error("Font metrics not found for font: "+font+".");var ch=character.charCodeAt(0),metrics=fontMetricsData[font][ch];if(!metrics&&character[0]in extraCharacterMap&&(ch=extraCharacterMap[character[0]].charCodeAt(0),metrics=fontMetricsData[font][ch]),metrics||"text"!==mode||supportedCodepoint(ch)&&(metrics=fontMetricsData[font][77]),metrics)return{depth:metrics[0],height:metrics[1],italic:metrics[2],skew:metrics[3],width:metrics[4]}}var fontMetricsBySizeIndex={};var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function sizeAtStyle(size,style){return style.size<2?size:sizeStyleMap[size-1][style.size-1]};class Options{constructor(data){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=data.style,this.color=data.color,this.size=data.size||Options.BASESIZE,this.textSize=data.textSize||this.size,this.phantom=!!data.phantom,this.font=data.font||"",this.fontFamily=data.fontFamily||"",this.fontWeight=data.fontWeight||"",this.fontShape=data.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=data.maxSize,this.minRuleThickness=data.minRuleThickness,this._fontMetrics=void 0}extend(extension){var data={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var key in extension)extension.hasOwnProperty(key)&&(data[key]=extension[key]);return new Options(data)}havingStyle(style){return this.style===style?this:this.extend({style,size:sizeAtStyle(this.textSize,style)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(size){return this.size===size&&this.textSize===size?this:this.extend({style:this.style.text(),size,textSize:size,sizeMultiplier:sizeMultipliers[size-1]})}havingBaseStyle(style){style=style||this.style.text();var wantSize=sizeAtStyle(Options.BASESIZE,style);return this.size===wantSize&&this.textSize===Options.BASESIZE&&this.style===style?this:this.extend({style,size:wantSize})}havingBaseSizing(){var size;switch(this.style.id){case 4:case 5:size=3;break;case 6:case 7:size=1;break;default:size=6}return this.extend({style:this.style.text(),size})}withColor(color){return this.extend({color})}withPhantom(){return this.extend({phantom:!0})}withFont(font){return this.extend({font})}withTextFontFamily(fontFamily){return this.extend({fontFamily,font:""})}withTextFontWeight(fontWeight){return this.extend({fontWeight,font:""})}withTextFontShape(fontShape){return this.extend({fontShape,font:""})}sizingClasses(oldOptions){return oldOptions.size!==this.size?["sizing","reset-size"+oldOptions.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function getGlobalMetrics(size){var sizeIndex;if(!fontMetricsBySizeIndex[sizeIndex=size>=5?0:size>=3?1:2]){var metrics=fontMetricsBySizeIndex[sizeIndex]={cssEmPerMu:sigmasAndXis.quad[sizeIndex]/18};for(var key in sigmasAndXis)sigmasAndXis.hasOwnProperty(key)&&(metrics[key]=sigmasAndXis[key][sizeIndex])}return fontMetricsBySizeIndex[sizeIndex]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function validUnit(unit){return"string"!=typeof unit&&(unit=unit.unit),unit in ptPerUnit||unit in relativeUnit||"ex"===unit},calculateSize=function calculateSize(sizeValue,options){var scale;if(sizeValue.unit in ptPerUnit)scale=ptPerUnit[sizeValue.unit]/options.fontMetrics().ptPerEm/options.sizeMultiplier;else if("mu"===sizeValue.unit)scale=options.fontMetrics().cssEmPerMu;else{var unitOptions;if(unitOptions=options.style.isTight()?options.havingStyle(options.style.text()):options,"ex"===sizeValue.unit)scale=unitOptions.fontMetrics().xHeight;else{if("em"!==sizeValue.unit)throw new ParseError("Invalid unit: '"+sizeValue.unit+"'");scale=unitOptions.fontMetrics().quad}unitOptions!==options&&(scale*=unitOptions.sizeMultiplier/options.sizeMultiplier)}return Math.min(sizeValue.number*scale,options.maxSize)},makeEm=function makeEm(n){return+n.toFixed(4)+"em"},createClass=function createClass(classes){return classes.filter((cls=>cls)).join(" ")},initNode=function initNode(classes,options,style){if(this.classes=classes||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=style||{},options){options.style.isTight()&&this.classes.push("mtight");var color=options.getColor();color&&(this.style.color=color)}},toNode=function toNode(tagName){var node=document.createElement(tagName);for(var style in node.className=createClass(this.classes),this.style)this.style.hasOwnProperty(style)&&(node.style[style]=this.style[style]);for(var attr in this.attributes)this.attributes.hasOwnProperty(attr)&&node.setAttribute(attr,this.attributes[attr]);for(var i=0;i<this.children.length;i++)node.appendChild(this.children[i].toNode());return node},toMarkup=function toMarkup(tagName){var markup="<"+tagName;this.classes.length&&(markup+=' class="'+utils.escape(createClass(this.classes))+'"');var styles="";for(var style in this.style)this.style.hasOwnProperty(style)&&(styles+=utils.hyphenate(style)+":"+this.style[style]+";");for(var attr in styles&&(markup+=' style="'+utils.escape(styles)+'"'),this.attributes)this.attributes.hasOwnProperty(attr)&&(markup+=" "+attr+'="'+utils.escape(this.attributes[attr])+'"');markup+=">";for(var i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup+="</"+tagName+">"};class Span{constructor(classes,children,options,style){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,classes,options,style),this.children=children||[]}setAttribute(attribute,value){this.attributes[attribute]=value}hasClass(className){return utils.contains(this.classes,className)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(href,classes,children,options){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,classes,options),this.children=children||[],this.setAttribute("href",href)}setAttribute(attribute,value){this.attributes[attribute]=value}hasClass(className){return utils.contains(this.classes,className)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(src,alt,style){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=alt,this.src=src,this.classes=["mord"],this.style=style}hasClass(className){return utils.contains(this.classes,className)}toNode(){var node=document.createElement("img");for(var style in node.src=this.src,node.alt=this.alt,node.className="mord",this.style)this.style.hasOwnProperty(style)&&(node.style[style]=this.style[style]);return node}toMarkup(){var markup='<img src="'+utils.escape(this.src)+'" alt="'+utils.escape(this.alt)+'"',styles="";for(var style in this.style)this.style.hasOwnProperty(style)&&(styles+=utils.hyphenate(style)+":"+this.style[style]+";");return styles&&(markup+=' style="'+utils.escape(styles)+'"'),markup+="'/>"}}var iCombinations={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class SymbolNode{constructor(text,height,depth,italic,skew,width,classes,style){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=text,this.height=height||0,this.depth=depth||0,this.italic=italic||0,this.skew=skew||0,this.width=width||0,this.classes=classes||[],this.style=style||{},this.maxFontSize=0;var script=function scriptFromCodepoint(codepoint){for(var i=0;i<scriptData.length;i++)for(var script=scriptData[i],_i=0;_i<script.blocks.length;_i++){var block=script.blocks[_i];if(codepoint>=block[0]&&codepoint<=block[1])return script.name}return null}(this.text.charCodeAt(0));script&&this.classes.push(script+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(className){return utils.contains(this.classes,className)}toNode(){var node=document.createTextNode(this.text),span=null;for(var style in this.italic>0&&((span=document.createElement("span")).style.marginRight=makeEm(this.italic)),this.classes.length>0&&((span=span||document.createElement("span")).className=createClass(this.classes)),this.style)this.style.hasOwnProperty(style)&&((span=span||document.createElement("span")).style[style]=this.style[style]);return span?(span.appendChild(node),span):node}toMarkup(){var needsSpan=!1,markup="<span";this.classes.length&&(needsSpan=!0,markup+=' class="',markup+=utils.escape(createClass(this.classes)),markup+='"');var styles="";for(var style in this.italic>0&&(styles+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(style)&&(styles+=utils.hyphenate(style)+":"+this.style[style]+";");styles&&(needsSpan=!0,markup+=' style="'+utils.escape(styles)+'"');var escaped=utils.escape(this.text);return needsSpan?(markup+=">",markup+=escaped,markup+="</span>"):escaped}}class SvgNode{constructor(children,attributes){this.children=void 0,this.attributes=void 0,this.children=children||[],this.attributes=attributes||{}}toNode(){var node=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&node.setAttribute(attr,this.attributes[attr]);for(var i=0;i<this.children.length;i++)node.appendChild(this.children[i].toNode());return node}toMarkup(){var markup='<svg xmlns="http://www.w3.org/2000/svg"';for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&(markup+=" "+attr+'="'+utils.escape(this.attributes[attr])+'"');markup+=">";for(var i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup+="</svg>"}}class PathNode{constructor(pathName,alternate){this.pathName=void 0,this.alternate=void 0,this.pathName=pathName,this.alternate=alternate}toNode(){var node=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?node.setAttribute("d",this.alternate):node.setAttribute("d",path[this.pathName]),node}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path[this.pathName])+'"/>'}}class LineNode{constructor(attributes){this.attributes=void 0,this.attributes=attributes||{}}toNode(){var node=document.createElementNS("http://www.w3.org/2000/svg","line");for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&node.setAttribute(attr,this.attributes[attr]);return node}toMarkup(){var markup="<line";for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&(markup+=" "+attr+'="'+utils.escape(this.attributes[attr])+'"');return markup+="/>"}}function assertSymbolDomNode(group){if(group instanceof SymbolNode)return group;throw new Error("Expected symbolNode but got "+String(group)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(mode,font,group,replace,name,acceptUnicodeChar){symbols[mode][name]={font,group,replace},acceptUnicodeChar&&replace&&(symbols[mode][replace]=symbols[mode][name])}var math="math",text="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",mathord="mathord",op="op-token",open="open",rel="rel",textord="textord";defineSymbol(math,main,rel,"≡","\\equiv",!0),defineSymbol(math,main,rel,"≺","\\prec",!0),defineSymbol(math,main,rel,"≻","\\succ",!0),defineSymbol(math,main,rel,"∼","\\sim",!0),defineSymbol(math,main,rel,"⊥","\\perp"),defineSymbol(math,main,rel,"⪯","\\preceq",!0),defineSymbol(math,main,rel,"⪰","\\succeq",!0),defineSymbol(math,main,rel,"≃","\\simeq",!0),defineSymbol(math,main,rel,"∣","\\mid",!0),defineSymbol(math,main,rel,"≪","\\ll",!0),defineSymbol(math,main,rel,"≫","\\gg",!0),defineSymbol(math,main,rel,"≍","\\asymp",!0),defineSymbol(math,main,rel,"∥","\\parallel"),defineSymbol(math,main,rel,"⋈","\\bowtie",!0),defineSymbol(math,main,rel,"⌣","\\smile",!0),defineSymbol(math,main,rel,"⊑","\\sqsubseteq",!0),defineSymbol(math,main,rel,"⊒","\\sqsupseteq",!0),defineSymbol(math,main,rel,"≐","\\doteq",!0),defineSymbol(math,main,rel,"⌢","\\frown",!0),defineSymbol(math,main,rel,"∋","\\ni",!0),defineSymbol(math,main,rel,"∝","\\propto",!0),defineSymbol(math,main,rel,"⊢","\\vdash",!0),defineSymbol(math,main,rel,"⊣","\\dashv",!0),defineSymbol(math,main,rel,"∋","\\owns"),defineSymbol(math,main,"punct",".","\\ldotp"),defineSymbol(math,main,"punct","⋅","\\cdotp"),defineSymbol(math,main,textord,"#","\\#"),defineSymbol(text,main,textord,"#","\\#"),defineSymbol(math,main,textord,"&","\\&"),defineSymbol(text,main,textord,"&","\\&"),defineSymbol(math,main,textord,"ℵ","\\aleph",!0),defineSymbol(math,main,textord,"∀","\\forall",!0),defineSymbol(math,main,textord,"ℏ","\\hbar",!0),defineSymbol(math,main,textord,"∃","\\exists",!0),defineSymbol(math,main,textord,"∇","\\nabla",!0),defineSymbol(math,main,textord,"♭","\\flat",!0),defineSymbol(math,main,textord,"ℓ","\\ell",!0),defineSymbol(math,main,textord,"♮","\\natural",!0),defineSymbol(math,main,textord,"♣","\\clubsuit",!0),defineSymbol(math,main,textord,"℘","\\wp",!0),defineSymbol(math,main,textord,"♯","\\sharp",!0),defineSymbol(math,main,textord,"♢","\\diamondsuit",!0),defineSymbol(math,main,textord,"ℜ","\\Re",!0),defineSymbol(math,main,textord,"♡","\\heartsuit",!0),defineSymbol(math,main,textord,"ℑ","\\Im",!0),defineSymbol(math,main,textord,"♠","\\spadesuit",!0),defineSymbol(math,main,textord,"§","\\S",!0),defineSymbol(text,main,textord,"§","\\S"),defineSymbol(math,main,textord,"¶","\\P",!0),defineSymbol(text,main,textord,"¶","\\P"),defineSymbol(math,main,textord,"†","\\dag"),defineSymbol(text,main,textord,"†","\\dag"),defineSymbol(text,main,textord,"†","\\textdagger"),defineSymbol(math,main,textord,"‡","\\ddag"),defineSymbol(text,main,textord,"‡","\\ddag"),defineSymbol(text,main,textord,"‡","\\textdaggerdbl"),defineSymbol(math,main,close,"⎱","\\rmoustache",!0),defineSymbol(math,main,open,"⎰","\\lmoustache",!0),defineSymbol(math,main,close,"⟯","\\rgroup",!0),defineSymbol(math,main,open,"⟮","\\lgroup",!0),defineSymbol(math,main,bin,"∓","\\mp",!0),defineSymbol(math,main,bin,"⊖","\\ominus",!0),defineSymbol(math,main,bin,"⊎","\\uplus",!0),defineSymbol(math,main,bin,"⊓","\\sqcap",!0),defineSymbol(math,main,bin,"∗","\\ast"),defineSymbol(math,main,bin,"⊔","\\sqcup",!0),defineSymbol(math,main,bin,"◯","\\bigcirc",!0),defineSymbol(math,main,bin,"∙","\\bullet",!0),defineSymbol(math,main,bin,"‡","\\ddagger"),defineSymbol(math,main,bin,"≀","\\wr",!0),defineSymbol(math,main,bin,"⨿","\\amalg"),defineSymbol(math,main,bin,"&","\\And"),defineSymbol(math,main,rel,"⟵","\\longleftarrow",!0),defineSymbol(math,main,rel,"⇐","\\Leftarrow",!0),defineSymbol(math,main,rel,"⟸","\\Longleftarrow",!0),defineSymbol(math,main,rel,"⟶","\\longrightarrow",!0),defineSymbol(math,main,rel,"⇒","\\Rightarrow",!0),defineSymbol(math,main,rel,"⟹","\\Longrightarrow",!0),defineSymbol(math,main,rel,"↔","\\leftrightarrow",!0),defineSymbol(math,main,rel,"⟷","\\longleftrightarrow",!0),defineSymbol(math,main,rel,"⇔","\\Leftrightarrow",!0),defineSymbol(math,main,rel,"⟺","\\Longleftrightarrow",!0),defineSymbol(math,main,rel,"↦","\\mapsto",!0),defineSymbol(math,main,rel,"⟼","\\longmapsto",!0),defineSymbol(math,main,rel,"↗","\\nearrow",!0),defineSymbol(math,main,rel,"↩","\\hookleftarrow",!0),defineSymbol(math,main,rel,"↪","\\hookrightarrow",!0),defineSymbol(math,main,rel,"↘","\\searrow",!0),defineSymbol(math,main,rel,"↼","\\leftharpoonup",!0),defineSymbol(math,main,rel,"⇀","\\rightharpoonup",!0),defineSymbol(math,main,rel,"↙","\\swarrow",!0),defineSymbol(math,main,rel,"↽","\\leftharpoondown",!0),defineSymbol(math,main,rel,"⇁","\\rightharpoondown",!0),defineSymbol(math,main,rel,"↖","\\nwarrow",!0),defineSymbol(math,main,rel,"⇌","\\rightleftharpoons",!0),defineSymbol(math,ams,rel,"≮","\\nless",!0),defineSymbol(math,ams,rel,"","\\@nleqslant"),defineSymbol(math,ams,rel,"","\\@nleqq"),defineSymbol(math,ams,rel,"⪇","\\lneq",!0),defineSymbol(math,ams,rel,"≨","\\lneqq",!0),defineSymbol(math,ams,rel,"","\\@lvertneqq"),defineSymbol(math,ams,rel,"⋦","\\lnsim",!0),defineSymbol(math,ams,rel,"⪉","\\lnapprox",!0),defineSymbol(math,ams,rel,"⊀","\\nprec",!0),defineSymbol(math,ams,rel,"⋠","\\npreceq",!0),defineSymbol(math,ams,rel,"⋨","\\precnsim",!0),defineSymbol(math,ams,rel,"⪹","\\precnapprox",!0),defineSymbol(math,ams,rel,"≁","\\nsim",!0),defineSymbol(math,ams,rel,"","\\@nshortmid"),defineSymbol(math,ams,rel,"∤","\\nmid",!0),defineSymbol(math,ams,rel,"⊬","\\nvdash",!0),defineSymbol(math,ams,rel,"⊭","\\nvDash",!0),defineSymbol(math,ams,rel,"⋪","\\ntriangleleft"),defineSymbol(math,ams,rel,"⋬","\\ntrianglelefteq",!0),defineSymbol(math,ams,rel,"⊊","\\subsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneq"),defineSymbol(math,ams,rel,"⫋","\\subsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsubsetneqq"),defineSymbol(math,ams,rel,"≯","\\ngtr",!0),defineSymbol(math,ams,rel,"","\\@ngeqslant"),defineSymbol(math,ams,rel,"","\\@ngeqq"),defineSymbol(math,ams,rel,"⪈","\\gneq",!0),defineSymbol(math,ams,rel,"≩","\\gneqq",!0),defineSymbol(math,ams,rel,"","\\@gvertneqq"),defineSymbol(math,ams,rel,"⋧","\\gnsim",!0),defineSymbol(math,ams,rel,"⪊","\\gnapprox",!0),defineSymbol(math,ams,rel,"⊁","\\nsucc",!0),defineSymbol(math,ams,rel,"⋡","\\nsucceq",!0),defineSymbol(math,ams,rel,"⋩","\\succnsim",!0),defineSymbol(math,ams,rel,"⪺","\\succnapprox",!0),defineSymbol(math,ams,rel,"≆","\\ncong",!0),defineSymbol(math,ams,rel,"","\\@nshortparallel"),defineSymbol(math,ams,rel,"∦","\\nparallel",!0),defineSymbol(math,ams,rel,"⊯","\\nVDash",!0),defineSymbol(math,ams,rel,"⋫","\\ntriangleright"),defineSymbol(math,ams,rel,"⋭","\\ntrianglerighteq",!0),defineSymbol(math,ams,rel,"","\\@nsupseteqq"),defineSymbol(math,ams,rel,"⊋","\\supsetneq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneq"),defineSymbol(math,ams,rel,"⫌","\\supsetneqq",!0),defineSymbol(math,ams,rel,"","\\@varsupsetneqq"),defineSymbol(math,ams,rel,"⊮","\\nVdash",!0),defineSymbol(math,ams,rel,"⪵","\\precneqq",!0),defineSymbol(math,ams,rel,"⪶","\\succneqq",!0),defineSymbol(math,ams,rel,"","\\@nsubseteqq"),defineSymbol(math,ams,bin,"⊴","\\unlhd"),defineSymbol(math,ams,bin,"⊵","\\unrhd"),defineSymbol(math,ams,rel,"↚","\\nleftarrow",!0),defineSymbol(math,ams,rel,"↛","\\nrightarrow",!0),defineSymbol(math,ams,rel,"⇍","\\nLeftarrow",!0),defineSymbol(math,ams,rel,"⇏","\\nRightarrow",!0),defineSymbol(math,ams,rel,"↮","\\nleftrightarrow",!0),defineSymbol(math,ams,rel,"⇎","\\nLeftrightarrow",!0),defineSymbol(math,ams,rel,"△","\\vartriangle"),defineSymbol(math,ams,textord,"ℏ","\\hslash"),defineSymbol(math,ams,textord,"▽","\\triangledown"),defineSymbol(math,ams,textord,"◊","\\lozenge"),defineSymbol(math,ams,textord,"Ⓢ","\\circledS"),defineSymbol(math,ams,textord,"®","\\circledR"),defineSymbol(text,ams,textord,"®","\\circledR"),defineSymbol(math,ams,textord,"∡","\\measuredangle",!0),defineSymbol(math,ams,textord,"∄","\\nexists"),defineSymbol(math,ams,textord,"℧","\\mho"),defineSymbol(math,ams,textord,"Ⅎ","\\Finv",!0),defineSymbol(math,ams,textord,"⅁","\\Game",!0),defineSymbol(math,ams,textord,"‵","\\backprime"),defineSymbol(math,ams,textord,"▲","\\blacktriangle"),defineSymbol(math,ams,textord,"▼","\\blacktriangledown"),defineSymbol(math,ams,textord,"■","\\blacksquare"),defineSymbol(math,ams,textord,"⧫","\\blacklozenge"),defineSymbol(math,ams,textord,"★","\\bigstar"),defineSymbol(math,ams,textord,"∢","\\sphericalangle",!0),defineSymbol(math,ams,textord,"∁","\\complement",!0),defineSymbol(math,ams,textord,"ð","\\eth",!0),defineSymbol(text,main,textord,"ð","ð"),defineSymbol(math,ams,textord,"╱","\\diagup"),defineSymbol(math,ams,textord,"╲","\\diagdown"),defineSymbol(math,ams,textord,"□","\\square"),defineSymbol(math,ams,textord,"□","\\Box"),defineSymbol(math,ams,textord,"◊","\\Diamond"),defineSymbol(math,ams,textord,"¥","\\yen",!0),defineSymbol(text,ams,textord,"¥","\\yen",!0),defineSymbol(math,ams,textord,"✓","\\checkmark",!0),defineSymbol(text,ams,textord,"✓","\\checkmark"),defineSymbol(math,ams,textord,"ℶ","\\beth",!0),defineSymbol(math,ams,textord,"ℸ","\\daleth",!0),defineSymbol(math,ams,textord,"ℷ","\\gimel",!0),defineSymbol(math,ams,textord,"ϝ","\\digamma",!0),defineSymbol(math,ams,textord,"ϰ","\\varkappa"),defineSymbol(math,ams,open,"┌","\\@ulcorner",!0),defineSymbol(math,ams,close,"┐","\\@urcorner",!0),defineSymbol(math,ams,open,"└","\\@llcorner",!0),defineSymbol(math,ams,close,"┘","\\@lrcorner",!0),defineSymbol(math,ams,rel,"≦","\\leqq",!0),defineSymbol(math,ams,rel,"⩽","\\leqslant",!0),defineSymbol(math,ams,rel,"⪕","\\eqslantless",!0),defineSymbol(math,ams,rel,"≲","\\lesssim",!0),defineSymbol(math,ams,rel,"⪅","\\lessapprox",!0),defineSymbol(math,ams,rel,"≊","\\approxeq",!0),defineSymbol(math,ams,bin,"⋖","\\lessdot"),defineSymbol(math,ams,rel,"⋘","\\lll",!0),defineSymbol(math,ams,rel,"≶","\\lessgtr",!0),defineSymbol(math,ams,rel,"⋚","\\lesseqgtr",!0),defineSymbol(math,ams,rel,"⪋","\\lesseqqgtr",!0),defineSymbol(math,ams,rel,"≑","\\doteqdot"),defineSymbol(math,ams,rel,"≓","\\risingdotseq",!0),defineSymbol(math,ams,rel,"≒","\\fallingdotseq",!0),defineSymbol(math,ams,rel,"∽","\\backsim",!0),defineSymbol(math,ams,rel,"⋍","\\backsimeq",!0),defineSymbol(math,ams,rel,"⫅","\\subseteqq",!0),defineSymbol(math,ams,rel,"⋐","\\Subset",!0),defineSymbol(math,ams,rel,"⊏","\\sqsubset",!0),defineSymbol(math,ams,rel,"≼","\\preccurlyeq",!0),defineSymbol(math,ams,rel,"⋞","\\curlyeqprec",!0),defineSymbol(math,ams,rel,"≾","\\precsim",!0),defineSymbol(math,ams,rel,"⪷","\\precapprox",!0),defineSymbol(math,ams,rel,"⊲","\\vartriangleleft"),defineSymbol(math,ams,rel,"⊴","\\trianglelefteq"),defineSymbol(math,ams,rel,"⊨","\\vDash",!0),defineSymbol(math,ams,rel,"⊪","\\Vvdash",!0),defineSymbol(math,ams,rel,"⌣","\\smallsmile"),defineSymbol(math,ams,rel,"⌢","\\smallfrown"),defineSymbol(math,ams,rel,"≏","\\bumpeq",!0),defineSymbol(math,ams,rel,"≎","\\Bumpeq",!0),defineSymbol(math,ams,rel,"≧","\\geqq",!0),defineSymbol(math,ams,rel,"⩾","\\geqslant",!0),defineSymbol(math,ams,rel,"⪖","\\eqslantgtr",!0),defineSymbol(math,ams,rel,"≳","\\gtrsim",!0),defineSymbol(math,ams,rel,"⪆","\\gtrapprox",!0),defineSymbol(math,ams,bin,"⋗","\\gtrdot"),defineSymbol(math,ams,rel,"⋙","\\ggg",!0),defineSymbol(math,ams,rel,"≷","\\gtrless",!0),defineSymbol(math,ams,rel,"⋛","\\gtreqless",!0),defineSymbol(math,ams,rel,"⪌","\\gtreqqless",!0),defineSymbol(math,ams,rel,"≖","\\eqcirc",!0),defineSymbol(math,ams,rel,"≗","\\circeq",!0),defineSymbol(math,ams,rel,"≜","\\triangleq",!0),defineSymbol(math,ams,rel,"∼","\\thicksim"),defineSymbol(math,ams,rel,"≈","\\thickapprox"),defineSymbol(math,ams,rel,"⫆","\\supseteqq",!0),defineSymbol(math,ams,rel,"⋑","\\Supset",!0),defineSymbol(math,ams,rel,"⊐","\\sqsupset",!0),defineSymbol(math,ams,rel,"≽","\\succcurlyeq",!0),defineSymbol(math,ams,rel,"⋟","\\curlyeqsucc",!0),defineSymbol(math,ams,rel,"≿","\\succsim",!0),defineSymbol(math,ams,rel,"⪸","\\succapprox",!0),defineSymbol(math,ams,rel,"⊳","\\vartriangleright"),defineSymbol(math,ams,rel,"⊵","\\trianglerighteq"),defineSymbol(math,ams,rel,"⊩","\\Vdash",!0),defineSymbol(math,ams,rel,"∣","\\shortmid"),defineSymbol(math,ams,rel,"∥","\\shortparallel"),defineSymbol(math,ams,rel,"≬","\\between",!0),defineSymbol(math,ams,rel,"⋔","\\pitchfork",!0),defineSymbol(math,ams,rel,"∝","\\varpropto"),defineSymbol(math,ams,rel,"◀","\\blacktriangleleft"),defineSymbol(math,ams,rel,"∴","\\therefore",!0),defineSymbol(math,ams,rel,"∍","\\backepsilon"),defineSymbol(math,ams,rel,"▶","\\blacktriangleright"),defineSymbol(math,ams,rel,"∵","\\because",!0),defineSymbol(math,ams,rel,"⋘","\\llless"),defineSymbol(math,ams,rel,"⋙","\\gggtr"),defineSymbol(math,ams,bin,"⊲","\\lhd"),defineSymbol(math,ams,bin,"⊳","\\rhd"),defineSymbol(math,ams,rel,"≂","\\eqsim",!0),defineSymbol(math,main,rel,"⋈","\\Join"),defineSymbol(math,ams,rel,"≑","\\Doteq",!0),defineSymbol(math,ams,bin,"∔","\\dotplus",!0),defineSymbol(math,ams,bin,"∖","\\smallsetminus"),defineSymbol(math,ams,bin,"⋒","\\Cap",!0),defineSymbol(math,ams,bin,"⋓","\\Cup",!0),defineSymbol(math,ams,bin,"⩞","\\doublebarwedge",!0),defineSymbol(math,ams,bin,"⊟","\\boxminus",!0),defineSymbol(math,ams,bin,"⊞","\\boxplus",!0),defineSymbol(math,ams,bin,"⋇","\\divideontimes",!0),defineSymbol(math,ams,bin,"⋉","\\ltimes",!0),defineSymbol(math,ams,bin,"⋊","\\rtimes",!0),defineSymbol(math,ams,bin,"⋋","\\leftthreetimes",!0),defineSymbol(math,ams,bin,"⋌","\\rightthreetimes",!0),defineSymbol(math,ams,bin,"⋏","\\curlywedge",!0),defineSymbol(math,ams,bin,"⋎","\\curlyvee",!0),defineSymbol(math,ams,bin,"⊝","\\circleddash",!0),defineSymbol(math,ams,bin,"⊛","\\circledast",!0),defineSymbol(math,ams,bin,"⋅","\\centerdot"),defineSymbol(math,ams,bin,"⊺","\\intercal",!0),defineSymbol(math,ams,bin,"⋒","\\doublecap"),defineSymbol(math,ams,bin,"⋓","\\doublecup"),defineSymbol(math,ams,bin,"⊠","\\boxtimes",!0),defineSymbol(math,ams,rel,"⇢","\\dashrightarrow",!0),defineSymbol(math,ams,rel,"⇠","\\dashleftarrow",!0),defineSymbol(math,ams,rel,"⇇","\\leftleftarrows",!0),defineSymbol(math,ams,rel,"⇆","\\leftrightarrows",!0),defineSymbol(math,ams,rel,"⇚","\\Lleftarrow",!0),defineSymbol(math,ams,rel,"↞","\\twoheadleftarrow",!0),defineSymbol(math,ams,rel,"↢","\\leftarrowtail",!0),defineSymbol(math,ams,rel,"↫","\\looparrowleft",!0),defineSymbol(math,ams,rel,"⇋","\\leftrightharpoons",!0),defineSymbol(math,ams,rel,"↶","\\curvearrowleft",!0),defineSymbol(math,ams,rel,"↺","\\circlearrowleft",!0),defineSymbol(math,ams,rel,"↰","\\Lsh",!0),defineSymbol(math,ams,rel,"⇈","\\upuparrows",!0),defineSymbol(math,ams,rel,"↿","\\upharpoonleft",!0),defineSymbol(math,ams,rel,"⇃","\\downharpoonleft",!0),defineSymbol(math,main,rel,"⊶","\\origof",!0),defineSymbol(math,main,rel,"⊷","\\imageof",!0),defineSymbol(math,ams,rel,"⊸","\\multimap",!0),defineSymbol(math,ams,rel,"↭","\\leftrightsquigarrow",!0),defineSymbol(math,ams,rel,"⇉","\\rightrightarrows",!0),defineSymbol(math,ams,rel,"⇄","\\rightleftarrows",!0),defineSymbol(math,ams,rel,"↠","\\twoheadrightarrow",!0),defineSymbol(math,ams,rel,"↣","\\rightarrowtail",!0),defineSymbol(math,ams,rel,"↬","\\looparrowright",!0),defineSymbol(math,ams,rel,"↷","\\curvearrowright",!0),defineSymbol(math,ams,rel,"↻","\\circlearrowright",!0),defineSymbol(math,ams,rel,"↱","\\Rsh",!0),defineSymbol(math,ams,rel,"⇊","\\downdownarrows",!0),defineSymbol(math,ams,rel,"↾","\\upharpoonright",!0),defineSymbol(math,ams,rel,"⇂","\\downharpoonright",!0),defineSymbol(math,ams,rel,"⇝","\\rightsquigarrow",!0),defineSymbol(math,ams,rel,"⇝","\\leadsto"),defineSymbol(math,ams,rel,"⇛","\\Rrightarrow",!0),defineSymbol(math,ams,rel,"↾","\\restriction"),defineSymbol(math,main,textord,"‘","`"),defineSymbol(math,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\$"),defineSymbol(text,main,textord,"$","\\textdollar"),defineSymbol(math,main,textord,"%","\\%"),defineSymbol(text,main,textord,"%","\\%"),defineSymbol(math,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\_"),defineSymbol(text,main,textord,"_","\\textunderscore"),defineSymbol(math,main,textord,"∠","\\angle",!0),defineSymbol(math,main,textord,"∞","\\infty",!0),defineSymbol(math,main,textord,"′","\\prime"),defineSymbol(math,main,textord,"△","\\triangle"),defineSymbol(math,main,textord,"Γ","\\Gamma",!0),defineSymbol(math,main,textord,"Δ","\\Delta",!0),defineSymbol(math,main,textord,"Θ","\\Theta",!0),defineSymbol(math,main,textord,"Λ","\\Lambda",!0),defineSymbol(math,main,textord,"Ξ","\\Xi",!0),defineSymbol(math,main,textord,"Π","\\Pi",!0),defineSymbol(math,main,textord,"Σ","\\Sigma",!0),defineSymbol(math,main,textord,"Υ","\\Upsilon",!0),defineSymbol(math,main,textord,"Φ","\\Phi",!0),defineSymbol(math,main,textord,"Ψ","\\Psi",!0),defineSymbol(math,main,textord,"Ω","\\Omega",!0),defineSymbol(math,main,textord,"A","Α"),defineSymbol(math,main,textord,"B","Β"),defineSymbol(math,main,textord,"E","Ε"),defineSymbol(math,main,textord,"Z","Ζ"),defineSymbol(math,main,textord,"H","Η"),defineSymbol(math,main,textord,"I","Ι"),defineSymbol(math,main,textord,"K","Κ"),defineSymbol(math,main,textord,"M","Μ"),defineSymbol(math,main,textord,"N","Ν"),defineSymbol(math,main,textord,"O","Ο"),defineSymbol(math,main,textord,"P","Ρ"),defineSymbol(math,main,textord,"T","Τ"),defineSymbol(math,main,textord,"X","Χ"),defineSymbol(math,main,textord,"¬","\\neg",!0),defineSymbol(math,main,textord,"¬","\\lnot"),defineSymbol(math,main,textord,"⊤","\\top"),defineSymbol(math,main,textord,"⊥","\\bot"),defineSymbol(math,main,textord,"∅","\\emptyset"),defineSymbol(math,ams,textord,"∅","\\varnothing"),defineSymbol(math,main,mathord,"α","\\alpha",!0),defineSymbol(math,main,mathord,"β","\\beta",!0),defineSymbol(math,main,mathord,"γ","\\gamma",!0),defineSymbol(math,main,mathord,"δ","\\delta",!0),defineSymbol(math,main,mathord,"ϵ","\\epsilon",!0),defineSymbol(math,main,mathord,"ζ","\\zeta",!0),defineSymbol(math,main,mathord,"η","\\eta",!0),defineSymbol(math,main,mathord,"θ","\\theta",!0),defineSymbol(math,main,mathord,"ι","\\iota",!0),defineSymbol(math,main,mathord,"κ","\\kappa",!0),defineSymbol(math,main,mathord,"λ","\\lambda",!0),defineSymbol(math,main,mathord,"μ","\\mu",!0),defineSymbol(math,main,mathord,"ν","\\nu",!0),defineSymbol(math,main,mathord,"ξ","\\xi",!0),defineSymbol(math,main,mathord,"ο","\\omicron",!0),defineSymbol(math,main,mathord,"π","\\pi",!0),defineSymbol(math,main,mathord,"ρ","\\rho",!0),defineSymbol(math,main,mathord,"σ","\\sigma",!0),defineSymbol(math,main,mathord,"τ","\\tau",!0),defineSymbol(math,main,mathord,"υ","\\upsilon",!0),defineSymbol(math,main,mathord,"ϕ","\\phi",!0),defineSymbol(math,main,mathord,"χ","\\chi",!0),defineSymbol(math,main,mathord,"ψ","\\psi",!0),defineSymbol(math,main,mathord,"ω","\\omega",!0),defineSymbol(math,main,mathord,"ε","\\varepsilon",!0),defineSymbol(math,main,mathord,"ϑ","\\vartheta",!0),defineSymbol(math,main,mathord,"ϖ","\\varpi",!0),defineSymbol(math,main,mathord,"ϱ","\\varrho",!0),defineSymbol(math,main,mathord,"ς","\\varsigma",!0),defineSymbol(math,main,mathord,"φ","\\varphi",!0),defineSymbol(math,main,bin,"∗","*",!0),defineSymbol(math,main,bin,"+","+"),defineSymbol(math,main,bin,"−","-",!0),defineSymbol(math,main,bin,"⋅","\\cdot",!0),defineSymbol(math,main,bin,"∘","\\circ",!0),defineSymbol(math,main,bin,"÷","\\div",!0),defineSymbol(math,main,bin,"±","\\pm",!0),defineSymbol(math,main,bin,"×","\\times",!0),defineSymbol(math,main,bin,"∩","\\cap",!0),defineSymbol(math,main,bin,"∪","\\cup",!0),defineSymbol(math,main,bin,"∖","\\setminus",!0),defineSymbol(math,main,bin,"∧","\\land"),defineSymbol(math,main,bin,"∨","\\lor"),defineSymbol(math,main,bin,"∧","\\wedge",!0),defineSymbol(math,main,bin,"∨","\\vee",!0),defineSymbol(math,main,textord,"√","\\surd"),defineSymbol(math,main,open,"⟨","\\langle",!0),defineSymbol(math,main,open,"∣","\\lvert"),defineSymbol(math,main,open,"∥","\\lVert"),defineSymbol(math,main,close,"?","?"),defineSymbol(math,main,close,"!","!"),defineSymbol(math,main,close,"⟩","\\rangle",!0),defineSymbol(math,main,close,"∣","\\rvert"),defineSymbol(math,main,close,"∥","\\rVert"),defineSymbol(math,main,rel,"=","="),defineSymbol(math,main,rel,":",":"),defineSymbol(math,main,rel,"≈","\\approx",!0),defineSymbol(math,main,rel,"≅","\\cong",!0),defineSymbol(math,main,rel,"≥","\\ge"),defineSymbol(math,main,rel,"≥","\\geq",!0),defineSymbol(math,main,rel,"←","\\gets"),defineSymbol(math,main,rel,">","\\gt",!0),defineSymbol(math,main,rel,"∈","\\in",!0),defineSymbol(math,main,rel,"","\\@not"),defineSymbol(math,main,rel,"⊂","\\subset",!0),defineSymbol(math,main,rel,"⊃","\\supset",!0),defineSymbol(math,main,rel,"⊆","\\subseteq",!0),defineSymbol(math,main,rel,"⊇","\\supseteq",!0),defineSymbol(math,ams,rel,"⊈","\\nsubseteq",!0),defineSymbol(math,ams,rel,"⊉","\\nsupseteq",!0),defineSymbol(math,main,rel,"⊨","\\models"),defineSymbol(math,main,rel,"←","\\leftarrow",!0),defineSymbol(math,main,rel,"≤","\\le"),defineSymbol(math,main,rel,"≤","\\leq",!0),defineSymbol(math,main,rel,"<","\\lt",!0),defineSymbol(math,main,rel,"→","\\rightarrow",!0),defineSymbol(math,main,rel,"→","\\to"),defineSymbol(math,ams,rel,"≱","\\ngeq",!0),defineSymbol(math,ams,rel,"≰","\\nleq",!0),defineSymbol(math,main,"spacing"," ","\\ "),defineSymbol(math,main,"spacing"," ","\\space"),defineSymbol(math,main,"spacing"," ","\\nobreakspace"),defineSymbol(text,main,"spacing"," ","\\ "),defineSymbol(text,main,"spacing"," "," "),defineSymbol(text,main,"spacing"," ","\\space"),defineSymbol(text,main,"spacing"," ","\\nobreakspace"),defineSymbol(math,main,"spacing",null,"\\nobreak"),defineSymbol(math,main,"spacing",null,"\\allowbreak"),defineSymbol(math,main,"punct",",",","),defineSymbol(math,main,"punct",";",";"),defineSymbol(math,ams,bin,"⊼","\\barwedge",!0),defineSymbol(math,ams,bin,"⊻","\\veebar",!0),defineSymbol(math,main,bin,"⊙","\\odot",!0),defineSymbol(math,main,bin,"⊕","\\oplus",!0),defineSymbol(math,main,bin,"⊗","\\otimes",!0),defineSymbol(math,main,textord,"∂","\\partial",!0),defineSymbol(math,main,bin,"⊘","\\oslash",!0),defineSymbol(math,ams,bin,"⊚","\\circledcirc",!0),defineSymbol(math,ams,bin,"⊡","\\boxdot",!0),defineSymbol(math,main,bin,"△","\\bigtriangleup"),defineSymbol(math,main,bin,"▽","\\bigtriangledown"),defineSymbol(math,main,bin,"†","\\dagger"),defineSymbol(math,main,bin,"⋄","\\diamond"),defineSymbol(math,main,bin,"⋆","\\star"),defineSymbol(math,main,bin,"◃","\\triangleleft"),defineSymbol(math,main,bin,"▹","\\triangleright"),defineSymbol(math,main,open,"{","\\{"),defineSymbol(text,main,textord,"{","\\{"),defineSymbol(text,main,textord,"{","\\textbraceleft"),defineSymbol(math,main,close,"}","\\}"),defineSymbol(text,main,textord,"}","\\}"),defineSymbol(text,main,textord,"}","\\textbraceright"),defineSymbol(math,main,open,"{","\\lbrace"),defineSymbol(math,main,close,"}","\\rbrace"),defineSymbol(math,main,open,"[","\\lbrack",!0),defineSymbol(text,main,textord,"[","\\lbrack",!0),defineSymbol(math,main,close,"]","\\rbrack",!0),defineSymbol(text,main,textord,"]","\\rbrack",!0),defineSymbol(math,main,open,"(","\\lparen",!0),defineSymbol(math,main,close,")","\\rparen",!0),defineSymbol(text,main,textord,"<","\\textless",!0),defineSymbol(text,main,textord,">","\\textgreater",!0),defineSymbol(math,main,open,"⌊","\\lfloor",!0),defineSymbol(math,main,close,"⌋","\\rfloor",!0),defineSymbol(math,main,open,"⌈","\\lceil",!0),defineSymbol(math,main,close,"⌉","\\rceil",!0),defineSymbol(math,main,textord,"\\","\\backslash"),defineSymbol(math,main,textord,"∣","|"),defineSymbol(math,main,textord,"∣","\\vert"),defineSymbol(text,main,textord,"|","\\textbar",!0),defineSymbol(math,main,textord,"∥","\\|"),defineSymbol(math,main,textord,"∥","\\Vert"),defineSymbol(text,main,textord,"∥","\\textbardbl"),defineSymbol(text,main,textord,"~","\\textasciitilde"),defineSymbol(text,main,textord,"\\","\\textbackslash"),defineSymbol(text,main,textord,"^","\\textasciicircum"),defineSymbol(math,main,rel,"↑","\\uparrow",!0),defineSymbol(math,main,rel,"⇑","\\Uparrow",!0),defineSymbol(math,main,rel,"↓","\\downarrow",!0),defineSymbol(math,main,rel,"⇓","\\Downarrow",!0),defineSymbol(math,main,rel,"↕","\\updownarrow",!0),defineSymbol(math,main,rel,"⇕","\\Updownarrow",!0),defineSymbol(math,main,op,"∐","\\coprod"),defineSymbol(math,main,op,"⋁","\\bigvee"),defineSymbol(math,main,op,"⋀","\\bigwedge"),defineSymbol(math,main,op,"⨄","\\biguplus"),defineSymbol(math,main,op,"⋂","\\bigcap"),defineSymbol(math,main,op,"⋃","\\bigcup"),defineSymbol(math,main,op,"∫","\\int"),defineSymbol(math,main,op,"∫","\\intop"),defineSymbol(math,main,op,"∬","\\iint"),defineSymbol(math,main,op,"∭","\\iiint"),defineSymbol(math,main,op,"∏","\\prod"),defineSymbol(math,main,op,"∑","\\sum"),defineSymbol(math,main,op,"⨂","\\bigotimes"),defineSymbol(math,main,op,"⨁","\\bigoplus"),defineSymbol(math,main,op,"⨀","\\bigodot"),defineSymbol(math,main,op,"∮","\\oint"),defineSymbol(math,main,op,"∯","\\oiint"),defineSymbol(math,main,op,"∰","\\oiiint"),defineSymbol(math,main,op,"⨆","\\bigsqcup"),defineSymbol(math,main,op,"∫","\\smallint"),defineSymbol(text,main,"inner","…","\\textellipsis"),defineSymbol(math,main,"inner","…","\\mathellipsis"),defineSymbol(text,main,"inner","…","\\ldots",!0),defineSymbol(math,main,"inner","…","\\ldots",!0),defineSymbol(math,main,"inner","⋯","\\@cdots",!0),defineSymbol(math,main,"inner","⋱","\\ddots",!0),defineSymbol(math,main,textord,"⋮","\\varvdots"),defineSymbol(math,main,accent,"ˊ","\\acute"),defineSymbol(math,main,accent,"ˋ","\\grave"),defineSymbol(math,main,accent,"¨","\\ddot"),defineSymbol(math,main,accent,"~","\\tilde"),defineSymbol(math,main,accent,"ˉ","\\bar"),defineSymbol(math,main,accent,"˘","\\breve"),defineSymbol(math,main,accent,"ˇ","\\check"),defineSymbol(math,main,accent,"^","\\hat"),defineSymbol(math,main,accent,"⃗","\\vec"),defineSymbol(math,main,accent,"˙","\\dot"),defineSymbol(math,main,accent,"˚","\\mathring"),defineSymbol(math,main,mathord,"","\\@imath"),defineSymbol(math,main,mathord,"","\\@jmath"),defineSymbol(math,main,textord,"ı","ı"),defineSymbol(math,main,textord,"ȷ","ȷ"),defineSymbol(text,main,textord,"ı","\\i",!0),defineSymbol(text,main,textord,"ȷ","\\j",!0),defineSymbol(text,main,textord,"ß","\\ss",!0),defineSymbol(text,main,textord,"æ","\\ae",!0),defineSymbol(text,main,textord,"œ","\\oe",!0),defineSymbol(text,main,textord,"ø","\\o",!0),defineSymbol(text,main,textord,"Æ","\\AE",!0),defineSymbol(text,main,textord,"Œ","\\OE",!0),defineSymbol(text,main,textord,"Ø","\\O",!0),defineSymbol(text,main,accent,"ˊ","\\'"),defineSymbol(text,main,accent,"ˋ","\\`"),defineSymbol(text,main,accent,"ˆ","\\^"),defineSymbol(text,main,accent,"˜","\\~"),defineSymbol(text,main,accent,"ˉ","\\="),defineSymbol(text,main,accent,"˘","\\u"),defineSymbol(text,main,accent,"˙","\\."),defineSymbol(text,main,accent,"¸","\\c"),defineSymbol(text,main,accent,"˚","\\r"),defineSymbol(text,main,accent,"ˇ","\\v"),defineSymbol(text,main,accent,"¨",'\\"'),defineSymbol(text,main,accent,"˝","\\H"),defineSymbol(text,main,accent,"◯","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text,main,textord,"–","--",!0),defineSymbol(text,main,textord,"–","\\textendash"),defineSymbol(text,main,textord,"—","---",!0),defineSymbol(text,main,textord,"—","\\textemdash"),defineSymbol(text,main,textord,"‘","`",!0),defineSymbol(text,main,textord,"‘","\\textquoteleft"),defineSymbol(text,main,textord,"’","'",!0),defineSymbol(text,main,textord,"’","\\textquoteright"),defineSymbol(text,main,textord,"“","``",!0),defineSymbol(text,main,textord,"“","\\textquotedblleft"),defineSymbol(text,main,textord,"”","''",!0),defineSymbol(text,main,textord,"”","\\textquotedblright"),defineSymbol(math,main,textord,"°","\\degree",!0),defineSymbol(text,main,textord,"°","\\degree"),defineSymbol(text,main,textord,"°","\\textdegree",!0),defineSymbol(math,main,textord,"£","\\pounds"),defineSymbol(math,main,textord,"£","\\mathsterling",!0),defineSymbol(text,main,textord,"£","\\pounds"),defineSymbol(text,main,textord,"£","\\textsterling",!0),defineSymbol(math,ams,textord,"✠","\\maltese"),defineSymbol(text,ams,textord,"✠","\\maltese");for(var i=0;i<14;i++){var ch='0123456789/@."'.charAt(i);defineSymbol(math,main,textord,ch,ch)}for(var _i=0;_i<25;_i++){var _ch='0123456789!@*()-=+";:?/.,'.charAt(_i);defineSymbol(text,main,textord,_ch,_ch)}for(var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_i2=0;_i2<52;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","ℂ"),defineSymbol(text,ams,textord,"C","ℂ"),defineSymbol(math,ams,textord,"H","ℍ"),defineSymbol(text,ams,textord,"H","ℍ"),defineSymbol(math,ams,textord,"N","ℕ"),defineSymbol(text,ams,textord,"N","ℕ"),defineSymbol(math,ams,textord,"P","ℙ"),defineSymbol(text,ams,textord,"P","ℙ"),defineSymbol(math,ams,textord,"Q","ℚ"),defineSymbol(text,ams,textord,"Q","ℚ"),defineSymbol(math,ams,textord,"R","ℝ"),defineSymbol(text,ams,textord,"R","ℝ"),defineSymbol(math,ams,textord,"Z","ℤ"),defineSymbol(text,ams,textord,"Z","ℤ"),defineSymbol(math,main,mathord,"h","ℎ"),defineSymbol(text,main,mathord,"h","ℎ");for(var wideChar="",_i3=0;_i3<52;_i3++){var _ch3=letters.charAt(_i3);defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56320+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56372+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56424+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56580+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56684+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56736+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56788+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56840+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56944+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),_i3<26&&(defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56632+_i3)),defineSymbol(text,main,textord,_ch3,wideChar),defineSymbol(math,main,mathord,_ch3,wideChar=String.fromCharCode(55349,56476+_i3)),defineSymbol(text,main,textord,_ch3,wideChar))}defineSymbol(math,main,mathord,"k",wideChar=String.fromCharCode(55349,56668)),defineSymbol(text,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();defineSymbol(math,main,mathord,_ch4,wideChar=String.fromCharCode(55349,57294+_i4)),defineSymbol(text,main,textord,_ch4,wideChar),defineSymbol(math,main,mathord,_ch4,wideChar=String.fromCharCode(55349,57314+_i4)),defineSymbol(text,main,textord,_ch4,wideChar),defineSymbol(math,main,mathord,_ch4,wideChar=String.fromCharCode(55349,57324+_i4)),defineSymbol(text,main,textord,_ch4,wideChar),defineSymbol(math,main,mathord,_ch4,wideChar=String.fromCharCode(55349,57334+_i4)),defineSymbol(text,main,textord,_ch4,wideChar)}for(var _i5=0;_i5<3;_i5++){var _ch5="ÐÞþ".charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],lookupSymbol=function lookupSymbol(value,fontName,mode){return symbols[mode][value]&&symbols[mode][value].replace&&(value=symbols[mode][value].replace),{value,metrics:getCharacterMetrics(value,fontName,mode)}},makeSymbol=function makeSymbol(value,fontName,mode,options,classes){var symbolNode,lookup=lookupSymbol(value,fontName,mode),metrics=lookup.metrics;if(value=lookup.value,metrics){var italic=metrics.italic;("text"===mode||options&&"mathit"===options.font)&&(italic=0),symbolNode=new SymbolNode(value,metrics.height,metrics.depth,italic,metrics.skew,metrics.width,classes)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+value+"' in style '"+fontName+"' and mode '"+mode+"'"),symbolNode=new SymbolNode(value,0,0,0,0,0,classes);if(options){symbolNode.maxFontSize=options.sizeMultiplier,options.style.isTight()&&symbolNode.classes.push("mtight");var color=options.getColor();color&&(symbolNode.style.color=color)}return symbolNode},canCombine=(prev,next)=>{if(createClass(prev.classes)!==createClass(next.classes)||prev.skew!==next.skew||prev.maxFontSize!==next.maxFontSize)return!1;if(1===prev.classes.length){var cls=prev.classes[0];if("mbin"===cls||"mord"===cls)return!1}for(var style in prev.style)if(prev.style.hasOwnProperty(style)&&prev.style[style]!==next.style[style])return!1;for(var _style in next.style)if(next.style.hasOwnProperty(_style)&&prev.style[_style]!==next.style[_style])return!1;return!0},sizeElementFromChildren=function sizeElementFromChildren(elem){for(var height=0,depth=0,maxFontSize=0,i=0;i<elem.children.length;i++){var child=elem.children[i];child.height>height&&(height=child.height),child.depth>depth&&(depth=child.depth),child.maxFontSize>maxFontSize&&(maxFontSize=child.maxFontSize)}elem.height=height,elem.depth=depth,elem.maxFontSize=maxFontSize},makeSpan$2=function makeSpan(classes,children,options,style){var span=new Span(classes,children,options,style);return sizeElementFromChildren(span),span},makeSvgSpan=(classes,children,options,style)=>new Span(classes,children,options,style),makeFragment=function makeFragment(children){var fragment=new DocumentFragment(children);return sizeElementFromChildren(fragment),fragment},retrieveTextFontName=function retrieveTextFontName(fontFamily,fontWeight,fontShape){var baseFontName="";switch(fontFamily){case"amsrm":baseFontName="AMS";break;case"textrm":baseFontName="Main";break;case"textsf":baseFontName="SansSerif";break;case"texttt":baseFontName="Typewriter";break;default:baseFontName=fontFamily}return baseFontName+"-"+("textbf"===fontWeight&&"textit"===fontShape?"BoldItalic":"textbf"===fontWeight?"Bold":"textit"===fontWeight?"Italic":"Regular")},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},buildCommon={fontMap,makeSymbol,mathsym:function mathsym(value,mode,options,classes){return void 0===classes&&(classes=[]),"boldsymbol"===options.font&&lookupSymbol(value,"Main-Bold",mode).metrics?makeSymbol(value,"Main-Bold",mode,options,classes.concat(["mathbf"])):"\\"===value||"main"===symbols[mode][value].font?makeSymbol(value,"Main-Regular",mode,options,classes):makeSymbol(value,"AMS-Regular",mode,options,classes.concat(["amsrm"]))},makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan:function makeLineSpan(className,options,thickness){var line=makeSpan$2([className],[],options);return line.height=Math.max(thickness||options.fontMetrics().defaultRuleThickness,options.minRuleThickness),line.style.borderBottomWidth=makeEm(line.height),line.maxFontSize=1,line},makeAnchor:function makeAnchor(href,classes,children,options){var anchor=new Anchor(href,classes,children,options);return sizeElementFromChildren(anchor),anchor},makeFragment,wrapFragment:function wrapFragment(group,options){return group instanceof DocumentFragment?makeSpan$2([],[group],options):group},makeVList:function makeVList(params,options){for(var{children,depth}=function getVListChildrenAndDepth(params){if("individualShift"===params.positionType){for(var oldChildren=params.children,children=[oldChildren[0]],_depth=-oldChildren[0].shift-oldChildren[0].elem.depth,currPos=_depth,i=1;i<oldChildren.length;i++){var diff=-oldChildren[i].shift-currPos-oldChildren[i].elem.depth,size=diff-(oldChildren[i-1].elem.height+oldChildren[i-1].elem.depth);currPos+=diff,children.push({type:"kern",size}),children.push(oldChildren[i])}return{children,depth:_depth}}var depth;if("top"===params.positionType){for(var bottom=params.positionData,_i=0;_i<params.children.length;_i++){var child=params.children[_i];bottom-="kern"===child.type?child.size:child.elem.height+child.elem.depth}depth=bottom}else if("bottom"===params.positionType)depth=-params.positionData;else{var firstChild=params.children[0];if("elem"!==firstChild.type)throw new Error('First child must have type "elem".');if("shift"===params.positionType)depth=-firstChild.elem.depth-params.positionData;else{if("firstBaseline"!==params.positionType)throw new Error("Invalid positionType "+params.positionType+".");depth=-firstChild.elem.depth}}return{children:params.children,depth}}(params),pstrutSize=0,i=0;i<children.length;i++){var child=children[i];if("elem"===child.type){var elem=child.elem;pstrutSize=Math.max(pstrutSize,elem.maxFontSize,elem.height)}}pstrutSize+=2;var pstrut=makeSpan$2(["pstrut"],[]);pstrut.style.height=makeEm(pstrutSize);for(var realChildren=[],minPos=depth,maxPos=depth,currPos=depth,_i2=0;_i2<children.length;_i2++){var _child=children[_i2];if("kern"===_child.type)currPos+=_child.size;else{var _elem=_child.elem,classes=_child.wrapperClasses||[],style=_child.wrapperStyle||{},childWrap=makeSpan$2(classes,[pstrut,_elem],void 0,style);childWrap.style.top=makeEm(-pstrutSize-currPos-_elem.depth),_child.marginLeft&&(childWrap.style.marginLeft=_child.marginLeft),_child.marginRight&&(childWrap.style.marginRight=_child.marginRight),realChildren.push(childWrap),currPos+=_elem.height+_elem.depth}minPos=Math.min(minPos,currPos),maxPos=Math.max(maxPos,currPos)}var rows,vlist=makeSpan$2(["vlist"],realChildren);if(vlist.style.height=makeEm(maxPos),minPos<0){var emptySpan=makeSpan$2([],[]),depthStrut=makeSpan$2(["vlist"],[emptySpan]);depthStrut.style.height=makeEm(-minPos);var topStrut=makeSpan$2(["vlist-s"],[new SymbolNode("​")]);rows=[makeSpan$2(["vlist-r"],[vlist,topStrut]),makeSpan$2(["vlist-r"],[depthStrut])]}else rows=[makeSpan$2(["vlist-r"],[vlist])];var vtable=makeSpan$2(["vlist-t"],rows);return 2===rows.length&&vtable.classes.push("vlist-t2"),vtable.height=maxPos,vtable.depth=-minPos,vtable},makeOrd:function makeOrd(group,options,type){var mode=group.mode,text=group.text,classes=["mord"],isFont="math"===mode||"text"===mode&&options.font,fontOrFamily=isFont?options.font:options.fontFamily,wideFontName="",wideFontClass="";if(55349===text.charCodeAt(0)&&([wideFontName,wideFontClass]=function wideCharacterFont(wideChar,mode){var codePoint=1024*(wideChar.charCodeAt(0)-55296)+(wideChar.charCodeAt(1)-56320)+65536,j="math"===mode?0:1;if(119808<=codePoint&&codePoint<120484){var i=Math.floor((codePoint-119808)/26);return[wideLatinLetterData[i][2],wideLatinLetterData[i][j]]}if(120782<=codePoint&&codePoint<=120831){var _i=Math.floor((codePoint-120782)/10);return[wideNumeralData[_i][2],wideNumeralData[_i][j]]}if(120485===codePoint||120486===codePoint)return[wideLatinLetterData[0][2],wideLatinLetterData[0][j]];if(120486<codePoint&&codePoint<120782)return["",""];throw new ParseError("Unsupported character: "+wideChar)}(text,mode)),wideFontName.length>0)return makeSymbol(text,wideFontName,mode,options,classes.concat(wideFontClass));if(fontOrFamily){var fontName,fontClasses;if("boldsymbol"===fontOrFamily){var fontData=function boldsymbol(value,mode,options,classes,type){return"textord"!==type&&lookupSymbol(value,"Math-BoldItalic",mode).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(text,mode,0,0,type);fontName=fontData.fontName,fontClasses=[fontData.fontClass]}else isFont?(fontName=fontMap[fontOrFamily].fontName,fontClasses=[fontOrFamily]):(fontName=retrieveTextFontName(fontOrFamily,options.fontWeight,options.fontShape),fontClasses=[fontOrFamily,options.fontWeight,options.fontShape]);if(lookupSymbol(text,fontName,mode).metrics)return makeSymbol(text,fontName,mode,options,classes.concat(fontClasses));if(ligatures.hasOwnProperty(text)&&"Typewriter"===fontName.slice(0,10)){for(var parts=[],i=0;i<text.length;i++)parts.push(makeSymbol(text[i],fontName,mode,options,classes.concat(fontClasses)));return makeFragment(parts)}}if("mathord"===type)return makeSymbol(text,"Math-Italic",mode,options,classes.concat(["mathnormal"]));if("textord"===type){var font=symbols[mode][text]&&symbols[mode][text].font;if("ams"===font){var _fontName=retrieveTextFontName("amsrm",options.fontWeight,options.fontShape);return makeSymbol(text,_fontName,mode,options,classes.concat("amsrm",options.fontWeight,options.fontShape))}if("main"!==font&&font){var _fontName3=retrieveTextFontName(font,options.fontWeight,options.fontShape);return makeSymbol(text,_fontName3,mode,options,classes.concat(_fontName3,options.fontWeight,options.fontShape))}var _fontName2=retrieveTextFontName("textrm",options.fontWeight,options.fontShape);return makeSymbol(text,_fontName2,mode,options,classes.concat(options.fontWeight,options.fontShape))}throw new Error("unexpected type: "+type+" in makeOrd")},makeGlue:(measurement,options)=>{var rule=makeSpan$2(["mspace"],[],options),size=calculateSize(measurement,options);return rule.style.marginRight=makeEm(size),rule},staticSvg:function staticSvg(value,options){var[pathName,width,height]=svgData[value],path=new PathNode(pathName),svgNode=new SvgNode([path],{width:makeEm(width),height:makeEm(height),style:"width:"+makeEm(width),viewBox:"0 0 "+1e3*width+" "+1e3*height,preserveAspectRatio:"xMinYMin"}),span=makeSvgSpan(["overlay"],[svgNode],options);return span.height=height,span.style.height=makeEm(height),span.style.width=makeEm(width),span},svgData,tryCombineChars:chars=>{for(var i=0;i<chars.length-1;i++){var prev=chars[i],next=chars[i+1];prev instanceof SymbolNode&&next instanceof SymbolNode&&canCombine(prev,next)&&(prev.text+=next.text,prev.height=Math.max(prev.height,next.height),prev.depth=Math.max(prev.depth,next.depth),prev.italic=next.italic,chars.splice(i+1,1),i--)}return chars}},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(_ref){for(var{type,names,props,handler,htmlBuilder,mathmlBuilder}=_ref,data={type,numArgs:props.numArgs,argTypes:props.argTypes,allowedInArgument:!!props.allowedInArgument,allowedInText:!!props.allowedInText,allowedInMath:void 0===props.allowedInMath||props.allowedInMath,numOptionalArgs:props.numOptionalArgs||0,infix:!!props.infix,primitive:!!props.primitive,handler},i=0;i<names.length;++i)_functions[names[i]]=data;type&&(htmlBuilder&&(_htmlGroupBuilders[type]=htmlBuilder),mathmlBuilder&&(_mathmlGroupBuilders[type]=mathmlBuilder))}function defineFunctionBuilders(_ref2){var{type,htmlBuilder,mathmlBuilder}=_ref2;defineFunction({type,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder,mathmlBuilder})}var normalizeArgument=function normalizeArgument(arg){return"ordgroup"===arg.type&&1===arg.body.length?arg.body[0]:arg},ordargument=function ordargument(arg){return"ordgroup"===arg.type?arg.body:[arg]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function buildExpression(expression,options,isRealGroup,surrounding){void 0===surrounding&&(surrounding=[null,null]);for(var groups=[],i=0;i<expression.length;i++){var output=buildGroup$1(expression[i],options);if(output instanceof DocumentFragment){var children=output.children;groups.push(...children)}else groups.push(output)}if(buildCommon.tryCombineChars(groups),!isRealGroup)return groups;var glueOptions=options;if(1===expression.length){var node=expression[0];"sizing"===node.type?glueOptions=options.havingSize(node.size):"styling"===node.type&&(glueOptions=options.havingStyle(styleMap$1[node.style]))}var dummyPrev=makeSpan$1([surrounding[0]||"leftmost"],[],options),dummyNext=makeSpan$1([surrounding[1]||"rightmost"],[],options),isRoot="root"===isRealGroup;return traverseNonSpaceNodes(groups,((node,prev)=>{var prevType=prev.classes[0],type=node.classes[0];"mbin"===prevType&&utils.contains(binRightCanceller,type)?prev.classes[0]="mord":"mbin"===type&&utils.contains(binLeftCanceller,prevType)&&(node.classes[0]="mord")}),{node:dummyPrev},dummyNext,isRoot),traverseNonSpaceNodes(groups,((node,prev)=>{var prevType=getTypeOfDomTree(prev),type=getTypeOfDomTree(node),space=prevType&&type?node.hasClass("mtight")?tightSpacings[prevType][type]:spacings[prevType][type]:null;if(space)return buildCommon.makeGlue(space,glueOptions)}),{node:dummyPrev},dummyNext,isRoot),groups},traverseNonSpaceNodes=function traverseNonSpaceNodes(nodes,callback,prev,next,isRoot){next&&nodes.push(next);for(var i=0;i<nodes.length;i++){var node=nodes[i],partialGroup=checkPartialGroup(node);if(partialGroup)traverseNonSpaceNodes(partialGroup.children,callback,prev,null,isRoot);else{var nonspace=!node.hasClass("mspace");if(nonspace){var result=callback(node,prev.node);result&&(prev.insertAfter?prev.insertAfter(result):(nodes.unshift(result),i++))}nonspace?prev.node=node:isRoot&&node.hasClass("newline")&&(prev.node=makeSpan$1(["leftmost"])),prev.insertAfter=(index=>n=>{nodes.splice(index+1,0,n),i++})(i)}}next&&nodes.pop()},checkPartialGroup=function checkPartialGroup(node){return node instanceof DocumentFragment||node instanceof Anchor||node instanceof Span&&node.hasClass("enclosing")?node:null},getOutermostNode=function getOutermostNode(node,side){var partialGroup=checkPartialGroup(node);if(partialGroup){var children=partialGroup.children;if(children.length){if("right"===side)return getOutermostNode(children[children.length-1],"right");if("left"===side)return getOutermostNode(children[0],"left")}}return node},getTypeOfDomTree=function getTypeOfDomTree(node,side){return node?(side&&(node=getOutermostNode(node,side)),DomEnum[node.classes[0]]||null):null},makeNullDelimiter=function makeNullDelimiter(options,classes){var moreClasses=["nulldelimiter"].concat(options.baseSizingClasses());return makeSpan$1(classes.concat(moreClasses))},buildGroup$1=function buildGroup(group,options,baseOptions){if(!group)return makeSpan$1();if(_htmlGroupBuilders[group.type]){var groupNode=_htmlGroupBuilders[group.type](group,options);if(baseOptions&&options.size!==baseOptions.size){groupNode=makeSpan$1(options.sizingClasses(baseOptions),[groupNode],options);var multiplier=options.sizeMultiplier/baseOptions.sizeMultiplier;groupNode.height*=multiplier,groupNode.depth*=multiplier}return groupNode}throw new ParseError("Got group of unknown type: '"+group.type+"'")};function buildHTMLUnbreakable(children,options){var body=makeSpan$1(["base"],children,options),strut=makeSpan$1(["strut"]);return strut.style.height=makeEm(body.height+body.depth),body.depth&&(strut.style.verticalAlign=makeEm(-body.depth)),body.children.unshift(strut),body}function buildHTML(tree,options){var tag=null;1===tree.length&&"tag"===tree[0].type&&(tag=tree[0].tag,tree=tree[0].body);var eqnNum,expression=buildExpression$1(tree,options,"root");2===expression.length&&expression[1].hasClass("tag")&&(eqnNum=expression.pop());for(var tagChild,children=[],parts=[],i=0;i<expression.length;i++)if(parts.push(expression[i]),expression[i].hasClass("mbin")||expression[i].hasClass("mrel")||expression[i].hasClass("allowbreak")){for(var nobreak=!1;i<expression.length-1&&expression[i+1].hasClass("mspace")&&!expression[i+1].hasClass("newline");)i++,parts.push(expression[i]),expression[i].hasClass("nobreak")&&(nobreak=!0);nobreak||(children.push(buildHTMLUnbreakable(parts,options)),parts=[])}else expression[i].hasClass("newline")&&(parts.pop(),parts.length>0&&(children.push(buildHTMLUnbreakable(parts,options)),parts=[]),children.push(expression[i]));parts.length>0&&children.push(buildHTMLUnbreakable(parts,options)),tag?((tagChild=buildHTMLUnbreakable(buildExpression$1(tag,options,!0))).classes=["tag"],children.push(tagChild)):eqnNum&&children.push(eqnNum);var htmlNode=makeSpan$1(["katex-html"],children);if(htmlNode.setAttribute("aria-hidden","true"),tagChild){var strut=tagChild.children[0];strut.style.height=makeEm(htmlNode.height+htmlNode.depth),htmlNode.depth&&(strut.style.verticalAlign=makeEm(-htmlNode.depth))}return htmlNode}function newDocumentFragment(children){return new DocumentFragment(children)}class MathNode{constructor(type,children,classes){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=type,this.attributes={},this.children=children||[],this.classes=classes||[]}setAttribute(name,value){this.attributes[name]=value}getAttribute(name){return this.attributes[name]}toNode(){var node=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&node.setAttribute(attr,this.attributes[attr]);this.classes.length>0&&(node.className=createClass(this.classes));for(var i=0;i<this.children.length;i++)node.appendChild(this.children[i].toNode());return node}toMarkup(){var markup="<"+this.type;for(var attr in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,attr)&&(markup+=" "+attr+'="',markup+=utils.escape(this.attributes[attr]),markup+='"');this.classes.length>0&&(markup+=' class ="'+utils.escape(createClass(this.classes))+'"'),markup+=">";for(var i=0;i<this.children.length;i++)markup+=this.children[i].toMarkup();return markup+="</"+this.type+">"}toText(){return this.children.map((child=>child.toText())).join("")}}class TextNode{constructor(text){this.text=void 0,this.text=text}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}var mathMLTree={MathNode,TextNode,SpaceNode:class SpaceNode{constructor(width){this.width=void 0,this.character=void 0,this.width=width,this.character=width>=.05555&&width<=.05556?" ":width>=.1666&&width<=.1667?" ":width>=.2222&&width<=.2223?" ":width>=.2777&&width<=.2778?"  ":width>=-.05556&&width<=-.05555?" ⁣":width>=-.1667&&width<=-.1666?" ⁣":width>=-.2223&&width<=-.2222?" ⁣":width>=-.2778&&width<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var node=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return node.setAttribute("width",makeEm(this.width)),node}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment},makeText=function makeText(text,mode,options){return!symbols[mode][text]||!symbols[mode][text].replace||55349===text.charCodeAt(0)||ligatures.hasOwnProperty(text)&&options&&(options.fontFamily&&"tt"===options.fontFamily.slice(4,6)||options.font&&"tt"===options.font.slice(4,6))||(text=symbols[mode][text].replace),new mathMLTree.TextNode(text)},makeRow=function makeRow(body){return 1===body.length?body[0]:new mathMLTree.MathNode("mrow",body)},getVariant=function getVariant(group,options){if("texttt"===options.fontFamily)return"monospace";if("textsf"===options.fontFamily)return"textit"===options.fontShape&&"textbf"===options.fontWeight?"sans-serif-bold-italic":"textit"===options.fontShape?"sans-serif-italic":"textbf"===options.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===options.fontShape&&"textbf"===options.fontWeight)return"bold-italic";if("textit"===options.fontShape)return"italic";if("textbf"===options.fontWeight)return"bold";var font=options.font;if(!font||"mathnormal"===font)return null;var mode=group.mode;if("mathit"===font)return"italic";if("boldsymbol"===font)return"textord"===group.type?"bold":"bold-italic";if("mathbf"===font)return"bold";if("mathbb"===font)return"double-struck";if("mathfrak"===font)return"fraktur";if("mathscr"===font||"mathcal"===font)return"script";if("mathsf"===font)return"sans-serif";if("mathtt"===font)return"monospace";var text=group.text;return utils.contains(["\\imath","\\jmath"],text)?null:(symbols[mode][text]&&symbols[mode][text].replace&&(text=symbols[mode][text].replace),getCharacterMetrics(text,buildCommon.fontMap[font].fontName,mode)?buildCommon.fontMap[font].variant:null)},buildExpression=function buildExpression(expression,options,isOrdgroup){if(1===expression.length){var group=buildGroup(expression[0],options);return isOrdgroup&&group instanceof MathNode&&"mo"===group.type&&(group.setAttribute("lspace","0em"),group.setAttribute("rspace","0em")),[group]}for(var lastGroup,groups=[],i=0;i<expression.length;i++){var _group=buildGroup(expression[i],options);if(_group instanceof MathNode&&lastGroup instanceof MathNode){if("mtext"===_group.type&&"mtext"===lastGroup.type&&_group.getAttribute("mathvariant")===lastGroup.getAttribute("mathvariant")){lastGroup.children.push(..._group.children);continue}if("mn"===_group.type&&"mn"===lastGroup.type){lastGroup.children.push(..._group.children);continue}if("mi"===_group.type&&1===_group.children.length&&"mn"===lastGroup.type){var child=_group.children[0];if(child instanceof TextNode&&"."===child.text){lastGroup.children.push(..._group.children);continue}}else if("mi"===lastGroup.type&&1===lastGroup.children.length){var lastChild=lastGroup.children[0];if(lastChild instanceof TextNode&&"̸"===lastChild.text&&("mo"===_group.type||"mi"===_group.type||"mn"===_group.type)){var _child=_group.children[0];_child instanceof TextNode&&_child.text.length>0&&(_child.text=_child.text.slice(0,1)+"̸"+_child.text.slice(1),groups.pop())}}}groups.push(_group),lastGroup=_group}return groups},buildExpressionRow=function buildExpressionRow(expression,options,isOrdgroup){return makeRow(buildExpression(expression,options,isOrdgroup))},buildGroup=function buildGroup(group,options){if(!group)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[group.type])return _mathmlGroupBuilders[group.type](group,options);throw new ParseError("Got group of unknown type: '"+group.type+"'")};function buildMathML(tree,texExpression,options,isDisplayMode,forMathmlOnly){var wrapper,expression=buildExpression(tree,options);wrapper=1===expression.length&&expression[0]instanceof MathNode&&utils.contains(["mrow","mtable"],expression[0].type)?expression[0]:new mathMLTree.MathNode("mrow",expression);var annotation=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(texExpression)]);annotation.setAttribute("encoding","application/x-tex");var semantics=new mathMLTree.MathNode("semantics",[wrapper,annotation]),math=new mathMLTree.MathNode("math",[semantics]);math.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),isDisplayMode&&math.setAttribute("display","block");var wrapperClass=forMathmlOnly?"katex":"katex-mathml";return buildCommon.makeSpan([wrapperClass],[math])}var optionsFromSettings=function optionsFromSettings(settings){return new Options({style:settings.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:settings.maxSize,minRuleThickness:settings.minRuleThickness})},displayWrap=function displayWrap(node,settings){if(settings.displayMode){var classes=["katex-display"];settings.leqno&&classes.push("leqno"),settings.fleqn&&classes.push("fleqn"),node=buildCommon.makeSpan(classes,[node])}return node},stretchyCodePoint={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},stretchy_encloseSpan=function encloseSpan(inner,label,topPad,bottomPad,options){var img,totalHeight=inner.height+inner.depth+topPad+bottomPad;if(/fbox|color|angl/.test(label)){if(img=buildCommon.makeSpan(["stretchy",label],[],options),"fbox"===label){var color=options.color&&options.getColor();color&&(img.style.borderColor=color)}}else{var lines=[];/^[bx]cancel$/.test(label)&&lines.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(label)&&lines.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var svgNode=new SvgNode(lines,{width:"100%",height:makeEm(totalHeight)});img=buildCommon.makeSvgSpan([],[svgNode],options)}return img.height=totalHeight,img.style.height=makeEm(totalHeight),img},stretchy_mathMLnode=function mathMLnode(label){var node=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[label.replace(/^\\/,"")])]);return node.setAttribute("stretchy","true"),node},stretchy_svgSpan=function svgSpan(group,options){var{span,minWidth,height}=function buildSvgSpan_(){var viewBoxWidth=4e5,label=group.label.slice(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],label)){var viewBoxHeight,pathName,_height,numChars=function groupLength(arg){return"ordgroup"===arg.type?arg.body.length:1}(group.base);if(numChars>5)"widehat"===label||"widecheck"===label?(viewBoxHeight=420,viewBoxWidth=2364,_height=.42,pathName=label+"4"):(viewBoxHeight=312,viewBoxWidth=2340,_height=.34,pathName="tilde4");else{var imgIndex=[1,1,2,2,3,3][numChars];"widehat"===label||"widecheck"===label?(viewBoxWidth=[0,1062,2364,2364,2364][imgIndex],viewBoxHeight=[0,239,300,360,420][imgIndex],_height=[0,.24,.3,.3,.36,.42][imgIndex],pathName=label+imgIndex):(viewBoxWidth=[0,600,1033,2339,2340][imgIndex],viewBoxHeight=[0,260,286,306,312][imgIndex],_height=[0,.26,.286,.3,.306,.34][imgIndex],pathName="tilde"+imgIndex)}var path=new PathNode(pathName),svgNode=new SvgNode([path],{width:"100%",height:makeEm(_height),viewBox:"0 0 "+viewBoxWidth+" "+viewBoxHeight,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[svgNode],options),minWidth:0,height:_height}}var widthClasses,aligns,spans=[],data=katexImagesData[label],[paths,_minWidth,_viewBoxHeight]=data,_height2=_viewBoxHeight/1e3,numSvgChildren=paths.length;if(1===numSvgChildren)widthClasses=["hide-tail"],aligns=[data[3]];else if(2===numSvgChildren)widthClasses=["halfarrow-left","halfarrow-right"],aligns=["xMinYMin","xMaxYMin"];else{if(3!==numSvgChildren)throw new Error("Correct katexImagesData or update code here to support\n                    "+numSvgChildren+" children.");widthClasses=["brace-left","brace-center","brace-right"],aligns=["xMinYMin","xMidYMin","xMaxYMin"]}for(var i=0;i<numSvgChildren;i++){var _path=new PathNode(paths[i]),_svgNode=new SvgNode([_path],{width:"400em",height:makeEm(_height2),viewBox:"0 0 "+viewBoxWidth+" "+_viewBoxHeight,preserveAspectRatio:aligns[i]+" slice"}),_span=buildCommon.makeSvgSpan([widthClasses[i]],[_svgNode],options);if(1===numSvgChildren)return{span:_span,minWidth:_minWidth,height:_height2};_span.style.height=makeEm(_height2),spans.push(_span)}return{span:buildCommon.makeSpan(["stretchy"],spans,options),minWidth:_minWidth,height:_height2}}();return span.height=height,span.style.height=makeEm(height),minWidth>0&&(span.style.minWidth=makeEm(minWidth)),span};function assertNodeType(node,type){if(!node||node.type!==type)throw new Error("Expected node of type "+type+", but got "+(node?"node of type "+node.type:String(node)));return node}function assertSymbolNodeType(node){var typedNode=checkSymbolNodeType(node);if(!typedNode)throw new Error("Expected node of symbol group type, but got "+(node?"node of type "+node.type:String(node)));return typedNode}function checkSymbolNodeType(node){return node&&("atom"===node.type||NON_ATOMS.hasOwnProperty(node.type))?node:null}var htmlBuilder$a=(grp,options)=>{var base,group,supSubGroup;grp&&"supsub"===grp.type?(base=(group=assertNodeType(grp.base,"accent")).base,grp.base=base,supSubGroup=function assertSpan(group){if(group instanceof Span)return group;throw new Error("Expected span<HtmlDomNode> but got "+String(group)+".")}(buildGroup$1(grp,options)),grp.base=group):base=(group=assertNodeType(grp,"accent")).base;var body=buildGroup$1(base,options.havingCrampedStyle()),skew=0;if(group.isShifty&&utils.isCharacterBox(base)){var baseChar=utils.getBaseElem(base);skew=assertSymbolDomNode(buildGroup$1(baseChar,options.havingCrampedStyle())).skew}var accentBody,accentBelow="\\c"===group.label,clearance=accentBelow?body.height+body.depth:Math.min(body.height,options.fontMetrics().xHeight);if(group.isStretchy)accentBody=stretchy_svgSpan(group,options),accentBody=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"elem",elem:accentBody,wrapperClasses:["svg-align"],wrapperStyle:skew>0?{width:"calc(100% - "+makeEm(2*skew)+")",marginLeft:makeEm(2*skew)}:void 0}]},options);else{var accent,width;"\\vec"===group.label?(accent=buildCommon.staticSvg("vec",options),width=buildCommon.svgData.vec[1]):((accent=assertSymbolDomNode(accent=buildCommon.makeOrd({mode:group.mode,text:group.label},options,"textord"))).italic=0,width=accent.width,accentBelow&&(clearance+=accent.depth)),accentBody=buildCommon.makeSpan(["accent-body"],[accent]);var accentFull="\\textcircled"===group.label;accentFull&&(accentBody.classes.push("accent-full"),clearance=body.height);var left=skew;accentFull||(left-=width/2),accentBody.style.left=makeEm(left),"\\textcircled"===group.label&&(accentBody.style.top=".2em"),accentBody=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"kern",size:-clearance},{type:"elem",elem:accentBody}]},options)}var accentWrap=buildCommon.makeSpan(["mord","accent"],[accentBody],options);return supSubGroup?(supSubGroup.children[0]=accentWrap,supSubGroup.height=Math.max(accentWrap.height,supSubGroup.height),supSubGroup.classes[0]="mord",supSubGroup):accentWrap},mathmlBuilder$9=(group,options)=>{var accentNode=group.isStretchy?stretchy_mathMLnode(group.label):new mathMLTree.MathNode("mo",[makeText(group.label,group.mode)]),node=new mathMLTree.MathNode("mover",[buildGroup(group.base,options),accentNode]);return node.setAttribute("accent","true"),node},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((accent=>"\\"+accent)).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(context,args)=>{var base=normalizeArgument(args[0]),isStretchy=!NON_STRETCHY_ACCENT_REGEX.test(context.funcName),isShifty=!isStretchy||"\\widehat"===context.funcName||"\\widetilde"===context.funcName||"\\widecheck"===context.funcName;return{type:"accent",mode:context.parser.mode,label:context.funcName,isStretchy,isShifty,base}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(context,args)=>{var base=args[0],mode=context.parser.mode;return"math"===mode&&(context.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+context.funcName+" works only in text mode"),mode="text"),{type:"accent",mode,label:context.funcName,isStretchy:!1,isShifty:!0,base}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9}),defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(_ref,args)=>{var{parser,funcName}=_ref,base=args[0];return{type:"accentUnder",mode:parser.mode,label:funcName,base}},htmlBuilder:(group,options)=>{var innerGroup=buildGroup$1(group.base,options),accentBody=stretchy_svgSpan(group,options),kern="\\utilde"===group.label?.12:0,vlist=buildCommon.makeVList({positionType:"top",positionData:innerGroup.height,children:[{type:"elem",elem:accentBody,wrapperClasses:["svg-align"]},{type:"kern",size:kern},{type:"elem",elem:innerGroup}]},options);return buildCommon.makeSpan(["mord","accentunder"],[vlist],options)},mathmlBuilder:(group,options)=>{var accentNode=stretchy_mathMLnode(group.label),node=new mathMLTree.MathNode("munder",[buildGroup(group.base,options),accentNode]);return node.setAttribute("accentunder","true"),node}});var paddedNode=group=>{var node=new mathMLTree.MathNode("mpadded",group?[group]:[]);return node.setAttribute("width","+0.6em"),node.setAttribute("lspace","0.3em"),node};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(_ref,args,optArgs){var{parser,funcName}=_ref;return{type:"xArrow",mode:parser.mode,label:funcName,body:args[0],below:optArgs[0]}},htmlBuilder(group,options){var lowerGroup,style=options.style,newOptions=options.havingStyle(style.sup()),upperGroup=buildCommon.wrapFragment(buildGroup$1(group.body,newOptions,options),options),arrowPrefix="\\x"===group.label.slice(0,2)?"x":"cd";upperGroup.classes.push(arrowPrefix+"-arrow-pad"),group.below&&(newOptions=options.havingStyle(style.sub()),(lowerGroup=buildCommon.wrapFragment(buildGroup$1(group.below,newOptions,options),options)).classes.push(arrowPrefix+"-arrow-pad"));var vlist,arrowBody=stretchy_svgSpan(group,options),arrowShift=-options.fontMetrics().axisHeight+.5*arrowBody.height,upperShift=-options.fontMetrics().axisHeight-.5*arrowBody.height-.111;if((upperGroup.depth>.25||"\\xleftequilibrium"===group.label)&&(upperShift-=upperGroup.depth),lowerGroup){var lowerShift=-options.fontMetrics().axisHeight+lowerGroup.height+.5*arrowBody.height+.111;vlist=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:upperGroup,shift:upperShift},{type:"elem",elem:arrowBody,shift:arrowShift},{type:"elem",elem:lowerGroup,shift:lowerShift}]},options)}else vlist=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:upperGroup,shift:upperShift},{type:"elem",elem:arrowBody,shift:arrowShift}]},options);return vlist.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[vlist],options)},mathmlBuilder(group,options){var node,arrowNode=stretchy_mathMLnode(group.label);if(arrowNode.setAttribute("minsize","x"===group.label.charAt(0)?"1.75em":"3.0em"),group.body){var upperNode=paddedNode(buildGroup(group.body,options));if(group.below){var lowerNode=paddedNode(buildGroup(group.below,options));node=new mathMLTree.MathNode("munderover",[arrowNode,lowerNode,upperNode])}else node=new mathMLTree.MathNode("mover",[arrowNode,upperNode])}else if(group.below){var _lowerNode=paddedNode(buildGroup(group.below,options));node=new mathMLTree.MathNode("munder",[arrowNode,_lowerNode])}else node=paddedNode(),node=new mathMLTree.MathNode("mover",[arrowNode,node]);return node}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(group,options){var elements=buildExpression$1(group.body,options,!0);return makeSpan([group.mclass],elements,options)}function mathmlBuilder$8(group,options){var node,inner=buildExpression(group.body,options);return"minner"===group.mclass?node=new mathMLTree.MathNode("mpadded",inner):"mord"===group.mclass?group.isCharacterBox?(node=inner[0]).type="mi":node=new mathMLTree.MathNode("mi",inner):(group.isCharacterBox?(node=inner[0]).type="mo":node=new mathMLTree.MathNode("mo",inner),"mbin"===group.mclass?(node.attributes.lspace="0.22em",node.attributes.rspace="0.22em"):"mpunct"===group.mclass?(node.attributes.lspace="0em",node.attributes.rspace="0.17em"):"mopen"===group.mclass||"mclose"===group.mclass?(node.attributes.lspace="0em",node.attributes.rspace="0em"):"minner"===group.mclass&&(node.attributes.lspace="0.0556em",node.attributes.width="+0.1111em")),node}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(_ref,args){var{parser,funcName}=_ref,body=args[0];return{type:"mclass",mode:parser.mode,mclass:"m"+funcName.slice(5),body:ordargument(body),isCharacterBox:utils.isCharacterBox(body)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=arg=>{var atom="ordgroup"===arg.type&&arg.body.length?arg.body[0]:arg;return"atom"!==atom.type||"bin"!==atom.family&&"rel"!==atom.family?"mord":"m"+atom.family};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(_ref2,args){var{parser}=_ref2;return{type:"mclass",mode:parser.mode,mclass:binrelClass(args[0]),body:ordargument(args[1]),isCharacterBox:utils.isCharacterBox(args[1])}}}),defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(_ref3,args){var mclass,{parser,funcName}=_ref3,baseArg=args[1],shiftedArg=args[0];mclass="\\stackrel"!==funcName?binrelClass(baseArg):"mrel";var baseOp={type:"op",mode:baseArg.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==funcName,body:ordargument(baseArg)},supsub={type:"supsub",mode:shiftedArg.mode,base:baseOp,sup:"\\underset"===funcName?null:shiftedArg,sub:"\\underset"===funcName?shiftedArg:null};return{type:"mclass",mode:parser.mode,mclass,body:[supsub],isCharacterBox:utils.isCharacterBox(supsub)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8}),defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(_ref,args){var{parser}=_ref;return{type:"pmb",mode:parser.mode,mclass:binrelClass(args[0]),body:ordargument(args[0])}},htmlBuilder(group,options){var elements=buildExpression$1(group.body,options,!0),node=buildCommon.makeSpan([group.mclass],elements,options);return node.style.textShadow="0.02em 0.01em 0.04px",node},mathmlBuilder(group,style){var inner=buildExpression(group.body,style),node=new mathMLTree.MathNode("mstyle",inner);return node.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),node}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},isStartOfArrow=node=>"textord"===node.type&&"@"===node.text;function cdArrow(arrowChar,labels,parser){var funcName=cdArrowFunctionName[arrowChar];switch(funcName){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return parser.callFunction(funcName,[labels[0]],[labels[1]]);case"\\uparrow":case"\\downarrow":var bareArrow={type:"atom",text:funcName,mode:"math",family:"rel"},arrowGroup={type:"ordgroup",mode:"math",body:[parser.callFunction("\\\\cdleft",[labels[0]],[]),parser.callFunction("\\Big",[bareArrow],[]),parser.callFunction("\\\\cdright",[labels[1]],[])]};return parser.callFunction("\\\\cdparent",[arrowGroup],[]);case"\\\\cdlongequal":return parser.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return parser.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(_ref,args){var{parser,funcName}=_ref;return{type:"cdlabel",mode:parser.mode,side:funcName.slice(4),label:args[0]}},htmlBuilder(group,options){var newOptions=options.havingStyle(options.style.sup()),label=buildCommon.wrapFragment(buildGroup$1(group.label,newOptions,options),options);return label.classes.push("cd-label-"+group.side),label.style.bottom=makeEm(.8-label.depth),label.height=0,label.depth=0,label},mathmlBuilder(group,options){var label=new mathMLTree.MathNode("mrow",[buildGroup(group.label,options)]);return(label=new mathMLTree.MathNode("mpadded",[label])).setAttribute("width","0"),"left"===group.side&&label.setAttribute("lspace","-1width"),label.setAttribute("voffset","0.7em"),(label=new mathMLTree.MathNode("mstyle",[label])).setAttribute("displaystyle","false"),label.setAttribute("scriptlevel","1"),label}}),defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(_ref2,args){var{parser}=_ref2;return{type:"cdlabelparent",mode:parser.mode,fragment:args[0]}},htmlBuilder(group,options){var parent=buildCommon.wrapFragment(buildGroup$1(group.fragment,options),options);return parent.classes.push("cd-vert-arrow"),parent},mathmlBuilder:(group,options)=>new mathMLTree.MathNode("mrow",[buildGroup(group.fragment,options)])}),defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(_ref,args){for(var{parser}=_ref,group=assertNodeType(args[0],"ordgroup").body,number="",i=0;i<group.length;i++){number+=assertNodeType(group[i],"textord").text}var text,code=parseInt(number);if(isNaN(code))throw new ParseError("\\@char has non-numeric argument "+number);if(code<0||code>=1114111)throw new ParseError("\\@char with invalid code point "+number);return code<=65535?text=String.fromCharCode(code):(code-=65536,text=String.fromCharCode(55296+(code>>10),56320+(1023&code))),{type:"textord",mode:parser.mode,text}}});var htmlBuilder$8=(group,options)=>{var elements=buildExpression$1(group.body,options.withColor(group.color),!1);return buildCommon.makeFragment(elements)},mathmlBuilder$7=(group,options)=>{var inner=buildExpression(group.body,options.withColor(group.color)),node=new mathMLTree.MathNode("mstyle",inner);return node.setAttribute("mathcolor",group.color),node};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(_ref,args){var{parser}=_ref,color=assertNodeType(args[0],"color-token").color,body=args[1];return{type:"color",mode:parser.mode,color,body:ordargument(body)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(_ref2,args){var{parser,breakOnTokenText}=_ref2,color=assertNodeType(args[0],"color-token").color;parser.gullet.macros.set("\\current@color",color);var body=parser.parseExpression(!0,breakOnTokenText);return{type:"color",mode:parser.mode,color,body}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7}),defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(_ref,args,optArgs){var{parser}=_ref,size="["===parser.gullet.future().text?parser.parseSizeGroup(!0):null,newLine=!parser.settings.displayMode||!parser.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:parser.mode,newLine,size:size&&assertNodeType(size,"size").value}},htmlBuilder(group,options){var span=buildCommon.makeSpan(["mspace"],[],options);return group.newLine&&(span.classes.push("newline"),group.size&&(span.style.marginTop=makeEm(calculateSize(group.size,options)))),span},mathmlBuilder(group,options){var node=new mathMLTree.MathNode("mspace");return group.newLine&&(node.setAttribute("linebreak","newline"),group.size&&node.setAttribute("height",makeEm(calculateSize(group.size,options)))),node}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=tok=>{var name=tok.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(name))throw new ParseError("Expected a control sequence",tok);return name},letCommand=(parser,name,tok,global)=>{var macro=parser.gullet.macros.get(tok.text);null==macro&&(tok.noexpand=!0,macro={tokens:[tok],numArgs:0,unexpandable:!parser.gullet.isExpandable(tok.text)}),parser.gullet.macros.set(name,macro,global)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(_ref){var{parser,funcName}=_ref;parser.consumeSpaces();var token=parser.fetch();if(globalMap[token.text])return"\\global"!==funcName&&"\\\\globallong"!==funcName||(token.text=globalMap[token.text]),assertNodeType(parser.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",token)}}),defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_ref2){var{parser,funcName}=_ref2,tok=parser.gullet.popToken(),name=tok.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(name))throw new ParseError("Expected a control sequence",tok);for(var insert,numArgs=0,delimiters=[[]];"{"!==parser.gullet.future().text;)if("#"===(tok=parser.gullet.popToken()).text){if("{"===parser.gullet.future().text){insert=parser.gullet.future(),delimiters[numArgs].push("{");break}if(tok=parser.gullet.popToken(),!/^[1-9]$/.test(tok.text))throw new ParseError('Invalid argument number "'+tok.text+'"');if(parseInt(tok.text)!==numArgs+1)throw new ParseError('Argument number "'+tok.text+'" out of order');numArgs++,delimiters.push([])}else{if("EOF"===tok.text)throw new ParseError("Expected a macro definition");delimiters[numArgs].push(tok.text)}var{tokens}=parser.gullet.consumeArg();return insert&&tokens.unshift(insert),"\\edef"!==funcName&&"\\xdef"!==funcName||(tokens=parser.gullet.expandTokens(tokens)).reverse(),parser.gullet.macros.set(name,{tokens,numArgs,delimiters},funcName===globalMap[funcName]),{type:"internal",mode:parser.mode}}}),defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_ref3){var{parser,funcName}=_ref3,name=checkControlSequence(parser.gullet.popToken());parser.gullet.consumeSpaces();var tok=(parser=>{var tok=parser.gullet.popToken();return"="===tok.text&&" "===(tok=parser.gullet.popToken()).text&&(tok=parser.gullet.popToken()),tok})(parser);return letCommand(parser,name,tok,"\\\\globallet"===funcName),{type:"internal",mode:parser.mode}}}),defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_ref4){var{parser,funcName}=_ref4,name=checkControlSequence(parser.gullet.popToken()),middle=parser.gullet.popToken(),tok=parser.gullet.popToken();return letCommand(parser,name,tok,"\\\\globalfuture"===funcName),parser.gullet.pushToken(tok),parser.gullet.pushToken(middle),{type:"internal",mode:parser.mode}}});var getMetrics=function getMetrics(symbol,font,mode){var metrics=getCharacterMetrics(symbols.math[symbol]&&symbols.math[symbol].replace||symbol,font,mode);if(!metrics)throw new Error("Unsupported symbol "+symbol+" and font size "+font+".");return metrics},styleWrap=function styleWrap(delim,toStyle,options,classes){var newOptions=options.havingBaseStyle(toStyle),span=buildCommon.makeSpan(classes.concat(newOptions.sizingClasses(options)),[delim],options),delimSizeMultiplier=newOptions.sizeMultiplier/options.sizeMultiplier;return span.height*=delimSizeMultiplier,span.depth*=delimSizeMultiplier,span.maxFontSize=newOptions.sizeMultiplier,span},centerSpan=function centerSpan(span,options,style){var newOptions=options.havingBaseStyle(style),shift=(1-options.sizeMultiplier/newOptions.sizeMultiplier)*options.fontMetrics().axisHeight;span.classes.push("delimcenter"),span.style.top=makeEm(shift),span.height-=shift,span.depth+=shift},makeLargeDelim=function makeLargeDelim(delim,size,center,options,mode,classes){var inner=function mathrmSize(value,size,mode,options){return buildCommon.makeSymbol(value,"Size"+size+"-Regular",mode,options)}(delim,size,mode,options),span=styleWrap(buildCommon.makeSpan(["delimsizing","size"+size],[inner],options),Style$1.TEXT,options,classes);return center&&centerSpan(span,options,Style$1.TEXT),span},makeGlyphSpan=function makeGlyphSpan(symbol,font,mode){var sizeClass;return sizeClass="Size1-Regular"===font?"delim-size1":"delim-size4",{type:"elem",elem:buildCommon.makeSpan(["delimsizinginner",sizeClass],[buildCommon.makeSpan([],[buildCommon.makeSymbol(symbol,font,mode)])])}},makeInner=function makeInner(ch,height,options){var width=fontMetricsData["Size4-Regular"][ch.charCodeAt(0)]?fontMetricsData["Size4-Regular"][ch.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][ch.charCodeAt(0)][4],path=new PathNode("inner",function innerPath(name,height){switch(name){case"⎜":return"M291 0 H417 V"+height+" H291z M291 0 H417 V"+height+" H291z";case"∣":return"M145 0 H188 V"+height+" H145z M145 0 H188 V"+height+" H145z";case"∥":return"M145 0 H188 V"+height+" H145z M145 0 H188 V"+height+" H145zM367 0 H410 V"+height+" H367z M367 0 H410 V"+height+" H367z";case"⎟":return"M457 0 H583 V"+height+" H457z M457 0 H583 V"+height+" H457z";case"⎢":return"M319 0 H403 V"+height+" H319z M319 0 H403 V"+height+" H319z";case"⎥":return"M263 0 H347 V"+height+" H263z M263 0 H347 V"+height+" H263z";case"⎪":return"M384 0 H504 V"+height+" H384z M384 0 H504 V"+height+" H384z";case"⏐":return"M312 0 H355 V"+height+" H312z M312 0 H355 V"+height+" H312z";case"‖":return"M257 0 H300 V"+height+" H257z M257 0 H300 V"+height+" H257zM478 0 H521 V"+height+" H478z M478 0 H521 V"+height+" H478z";default:return""}}(ch,Math.round(1e3*height))),svgNode=new SvgNode([path],{width:makeEm(width),height:makeEm(height),style:"width:"+makeEm(width),viewBox:"0 0 "+1e3*width+" "+Math.round(1e3*height),preserveAspectRatio:"xMinYMin"}),span=buildCommon.makeSvgSpan([],[svgNode],options);return span.height=height,span.style.height=makeEm(height),span.style.width=makeEm(width),{type:"elem",elem:span}},lap={type:"kern",size:-.008},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function makeStackedDelim(delim,heightTotal,center,options,mode,classes){var top,middle,repeat,bottom,svgLabel="",viewBoxWidth=0;top=repeat=bottom=delim,middle=null;var font="Size1-Regular";"\\uparrow"===delim?repeat=bottom="⏐":"\\Uparrow"===delim?repeat=bottom="‖":"\\downarrow"===delim?top=repeat="⏐":"\\Downarrow"===delim?top=repeat="‖":"\\updownarrow"===delim?(top="\\uparrow",repeat="⏐",bottom="\\downarrow"):"\\Updownarrow"===delim?(top="\\Uparrow",repeat="‖",bottom="\\Downarrow"):utils.contains(verts,delim)?(repeat="∣",svgLabel="vert",viewBoxWidth=333):utils.contains(doubleVerts,delim)?(repeat="∥",svgLabel="doublevert",viewBoxWidth=556):"["===delim||"\\lbrack"===delim?(top="⎡",repeat="⎢",bottom="⎣",font="Size4-Regular",svgLabel="lbrack",viewBoxWidth=667):"]"===delim||"\\rbrack"===delim?(top="⎤",repeat="⎥",bottom="⎦",font="Size4-Regular",svgLabel="rbrack",viewBoxWidth=667):"\\lfloor"===delim||"⌊"===delim?(repeat=top="⎢",bottom="⎣",font="Size4-Regular",svgLabel="lfloor",viewBoxWidth=667):"\\lceil"===delim||"⌈"===delim?(top="⎡",repeat=bottom="⎢",font="Size4-Regular",svgLabel="lceil",viewBoxWidth=667):"\\rfloor"===delim||"⌋"===delim?(repeat=top="⎥",bottom="⎦",font="Size4-Regular",svgLabel="rfloor",viewBoxWidth=667):"\\rceil"===delim||"⌉"===delim?(top="⎤",repeat=bottom="⎥",font="Size4-Regular",svgLabel="rceil",viewBoxWidth=667):"("===delim||"\\lparen"===delim?(top="⎛",repeat="⎜",bottom="⎝",font="Size4-Regular",svgLabel="lparen",viewBoxWidth=875):")"===delim||"\\rparen"===delim?(top="⎞",repeat="⎟",bottom="⎠",font="Size4-Regular",svgLabel="rparen",viewBoxWidth=875):"\\{"===delim||"\\lbrace"===delim?(top="⎧",middle="⎨",bottom="⎩",repeat="⎪",font="Size4-Regular"):"\\}"===delim||"\\rbrace"===delim?(top="⎫",middle="⎬",bottom="⎭",repeat="⎪",font="Size4-Regular"):"\\lgroup"===delim||"⟮"===delim?(top="⎧",bottom="⎩",repeat="⎪",font="Size4-Regular"):"\\rgroup"===delim||"⟯"===delim?(top="⎫",bottom="⎭",repeat="⎪",font="Size4-Regular"):"\\lmoustache"===delim||"⎰"===delim?(top="⎧",bottom="⎭",repeat="⎪",font="Size4-Regular"):"\\rmoustache"!==delim&&"⎱"!==delim||(top="⎫",bottom="⎩",repeat="⎪",font="Size4-Regular");var topMetrics=getMetrics(top,font,mode),topHeightTotal=topMetrics.height+topMetrics.depth,repeatMetrics=getMetrics(repeat,font,mode),repeatHeightTotal=repeatMetrics.height+repeatMetrics.depth,bottomMetrics=getMetrics(bottom,font,mode),bottomHeightTotal=bottomMetrics.height+bottomMetrics.depth,middleHeightTotal=0,middleFactor=1;if(null!==middle){var middleMetrics=getMetrics(middle,font,mode);middleHeightTotal=middleMetrics.height+middleMetrics.depth,middleFactor=2}var minHeight=topHeightTotal+bottomHeightTotal+middleHeightTotal,realHeightTotal=minHeight+Math.max(0,Math.ceil((heightTotal-minHeight)/(middleFactor*repeatHeightTotal)))*middleFactor*repeatHeightTotal,axisHeight=options.fontMetrics().axisHeight;center&&(axisHeight*=options.sizeMultiplier);var depth=realHeightTotal/2-axisHeight,stack=[];if(svgLabel.length>0){var midHeight=realHeightTotal-topHeightTotal-bottomHeightTotal,viewBoxHeight=Math.round(1e3*realHeightTotal),pathStr=function tallDelim(label,midHeight){switch(label){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+midHeight+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+midHeight+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+midHeight+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+midHeight+" v1759 h84z";case"vert":return"M145 15 v585 v"+midHeight+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-midHeight+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+midHeight+" v585 h43z";case"doublevert":return"M145 15 v585 v"+midHeight+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-midHeight+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+midHeight+" v585 h43z\nM367 15 v585 v"+midHeight+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-midHeight+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+midHeight+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+midHeight+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+midHeight+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+midHeight+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+midHeight+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+midHeight+" v602 h84z\nM403 1759 V0 H319 V1759 v"+midHeight+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+midHeight+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+midHeight+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(midHeight+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(midHeight+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(midHeight+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(midHeight+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(svgLabel,Math.round(1e3*midHeight)),path=new PathNode(svgLabel,pathStr),width=(viewBoxWidth/1e3).toFixed(3)+"em",height=(viewBoxHeight/1e3).toFixed(3)+"em",svg=new SvgNode([path],{width,height,viewBox:"0 0 "+viewBoxWidth+" "+viewBoxHeight}),wrapper=buildCommon.makeSvgSpan([],[svg],options);wrapper.height=viewBoxHeight/1e3,wrapper.style.width=width,wrapper.style.height=height,stack.push({type:"elem",elem:wrapper})}else{if(stack.push(makeGlyphSpan(bottom,font,mode)),stack.push(lap),null===middle){var innerHeight=realHeightTotal-topHeightTotal-bottomHeightTotal+.016;stack.push(makeInner(repeat,innerHeight,options))}else{var _innerHeight=(realHeightTotal-topHeightTotal-bottomHeightTotal-middleHeightTotal)/2+.016;stack.push(makeInner(repeat,_innerHeight,options)),stack.push(lap),stack.push(makeGlyphSpan(middle,font,mode)),stack.push(lap),stack.push(makeInner(repeat,_innerHeight,options))}stack.push(lap),stack.push(makeGlyphSpan(top,font,mode))}var newOptions=options.havingBaseStyle(Style$1.TEXT),inner=buildCommon.makeVList({positionType:"bottom",positionData:depth,children:stack},newOptions);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[inner],newOptions),Style$1.TEXT,options,classes)},sqrtSvg=function sqrtSvg(sqrtName,height,viewBoxHeight,extraVinculum,options){var path=function sqrtPath(size,extraVinculum,viewBoxHeight){extraVinculum*=1e3;var path="";switch(size){case"sqrtMain":path=function sqrtMain(extraVinculum,hLinePad){return"M95,"+(622+extraVinculum+hLinePad)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+extraVinculum/2.075+" -"+extraVinculum+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+extraVinculum)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+extraVinculum)+" "+hLinePad+"h400000v"+(40+extraVinculum)+"h-400000z"}(extraVinculum,80);break;case"sqrtSize1":path=function sqrtSize1(extraVinculum,hLinePad){return"M263,"+(601+extraVinculum+hLinePad)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+extraVinculum/2.084+" -"+extraVinculum+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+extraVinculum)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+extraVinculum)+" "+hLinePad+"h400000v"+(40+extraVinculum)+"h-400000z"}(extraVinculum,80);break;case"sqrtSize2":path=function sqrtSize2(extraVinculum,hLinePad){return"M983 "+(10+extraVinculum+hLinePad)+"\nl"+extraVinculum/3.13+" -"+extraVinculum+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+extraVinculum)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+extraVinculum)+" "+hLinePad+"h400000v"+(40+extraVinculum)+"h-400000z"}(extraVinculum,80);break;case"sqrtSize3":path=function sqrtSize3(extraVinculum,hLinePad){return"M424,"+(2398+extraVinculum+hLinePad)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+extraVinculum/4.223+" -"+extraVinculum+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+extraVinculum)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+extraVinculum)+" "+hLinePad+"\nh400000v"+(40+extraVinculum)+"h-400000z"}(extraVinculum,80);break;case"sqrtSize4":path=function sqrtSize4(extraVinculum,hLinePad){return"M473,"+(2713+extraVinculum+hLinePad)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+extraVinculum/5.298+" -"+extraVinculum+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+extraVinculum)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+extraVinculum)+" "+hLinePad+"h400000v"+(40+extraVinculum)+"H1017.7z"}(extraVinculum,80);break;case"sqrtTall":path=function sqrtTall(extraVinculum,hLinePad,viewBoxHeight){return"M702 "+(extraVinculum+hLinePad)+"H400000"+(40+extraVinculum)+"\nH742v"+(viewBoxHeight-54-hLinePad-extraVinculum)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+hLinePad+"H400000v"+(40+extraVinculum)+"H742z"}(extraVinculum,80,viewBoxHeight)}return path}(sqrtName,extraVinculum,viewBoxHeight),pathNode=new PathNode(sqrtName,path),svg=new SvgNode([pathNode],{width:"400em",height:makeEm(height),viewBox:"0 0 400000 "+viewBoxHeight,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[svg],options)},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function delimTypeToFont(type){if("small"===type.type)return"Main-Regular";if("large"===type.type)return"Size"+type.size+"-Regular";if("stack"===type.type)return"Size4-Regular";throw new Error("Add support for delim type '"+type.type+"' here.")},traverseSequence=function traverseSequence(delim,height,sequence,options){for(var i=Math.min(2,3-options.style.size);i<sequence.length&&"stack"!==sequence[i].type;i++){var metrics=getMetrics(delim,delimTypeToFont(sequence[i]),"math"),heightDepth=metrics.height+metrics.depth;if("small"===sequence[i].type&&(heightDepth*=options.havingBaseStyle(sequence[i].style).sizeMultiplier),heightDepth>height)return sequence[i]}return sequence[sequence.length-1]},makeCustomSizedDelim=function makeCustomSizedDelim(delim,height,center,options,mode,classes){var sequence;"<"===delim||"\\lt"===delim||"⟨"===delim?delim="\\langle":">"!==delim&&"\\gt"!==delim&&"⟩"!==delim||(delim="\\rangle"),sequence=utils.contains(stackNeverDelimiters,delim)?stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,delim)?stackLargeDelimiterSequence:stackAlwaysDelimiterSequence;var delimType=traverseSequence(delim,height,sequence,options);return"small"===delimType.type?function makeSmallDelim(delim,style,center,options,mode,classes){var text=buildCommon.makeSymbol(delim,"Main-Regular",mode,options),span=styleWrap(text,style,options,classes);return center&&centerSpan(span,options,style),span}(delim,delimType.style,center,options,mode,classes):"large"===delimType.type?makeLargeDelim(delim,delimType.size,center,options,mode,classes):makeStackedDelim(delim,height,center,options,mode,classes)},delimiter={sqrtImage:function makeSqrtImage(height,options){var span,advanceWidth,newOptions=options.havingBaseSizing(),delim=traverseSequence("\\surd",height*newOptions.sizeMultiplier,stackLargeDelimiterSequence,newOptions),sizeMultiplier=newOptions.sizeMultiplier,extraVinculum=Math.max(0,options.minRuleThickness-options.fontMetrics().sqrtRuleThickness),spanHeight=0,texHeight=0,viewBoxHeight=0;return"small"===delim.type?(height<1?sizeMultiplier=1:height<1.4&&(sizeMultiplier=.7),texHeight=(1+extraVinculum)/sizeMultiplier,(span=sqrtSvg("sqrtMain",spanHeight=(1+extraVinculum+.08)/sizeMultiplier,viewBoxHeight=1e3+1e3*extraVinculum+80,extraVinculum,options)).style.minWidth="0.853em",advanceWidth=.833/sizeMultiplier):"large"===delim.type?(viewBoxHeight=1080*sizeToMaxHeight[delim.size],texHeight=(sizeToMaxHeight[delim.size]+extraVinculum)/sizeMultiplier,spanHeight=(sizeToMaxHeight[delim.size]+extraVinculum+.08)/sizeMultiplier,(span=sqrtSvg("sqrtSize"+delim.size,spanHeight,viewBoxHeight,extraVinculum,options)).style.minWidth="1.02em",advanceWidth=1/sizeMultiplier):(spanHeight=height+extraVinculum+.08,texHeight=height+extraVinculum,viewBoxHeight=Math.floor(1e3*height+extraVinculum)+80,(span=sqrtSvg("sqrtTall",spanHeight,viewBoxHeight,extraVinculum,options)).style.minWidth="0.742em",advanceWidth=1.056),span.height=texHeight,span.style.height=makeEm(spanHeight),{span,advanceWidth,ruleWidth:(options.fontMetrics().sqrtRuleThickness+extraVinculum)*sizeMultiplier}},sizedDelim:function makeSizedDelim(delim,size,options,mode,classes){if("<"===delim||"\\lt"===delim||"⟨"===delim?delim="\\langle":">"!==delim&&"\\gt"!==delim&&"⟩"!==delim||(delim="\\rangle"),utils.contains(stackLargeDelimiters,delim)||utils.contains(stackNeverDelimiters,delim))return makeLargeDelim(delim,size,!1,options,mode,classes);if(utils.contains(stackAlwaysDelimiters,delim))return makeStackedDelim(delim,sizeToMaxHeight[size],!1,options,mode,classes);throw new ParseError("Illegal delimiter: '"+delim+"'")},sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:function makeLeftRightDelim(delim,height,depth,options,mode,classes){var axisHeight=options.fontMetrics().axisHeight*options.sizeMultiplier,delimiterExtend=5/options.fontMetrics().ptPerEm,maxDistFromAxis=Math.max(height-axisHeight,depth+axisHeight),totalHeight=Math.max(maxDistFromAxis/500*901,2*maxDistFromAxis-delimiterExtend);return makeCustomSizedDelim(delim,totalHeight,!0,options,mode,classes)}},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(delim,context){var symDelim=checkSymbolNodeType(delim);if(symDelim&&utils.contains(delimiters,symDelim.text))return symDelim;throw new ParseError(symDelim?"Invalid delimiter '"+symDelim.text+"' after '"+context.funcName+"'":"Invalid delimiter type '"+delim.type+"'",delim)}function assertParsed(group){if(!group.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(context,args)=>{var delim=checkDelimiter(args[0],context);return{type:"delimsizing",mode:context.parser.mode,size:delimiterSizes[context.funcName].size,mclass:delimiterSizes[context.funcName].mclass,delim:delim.text}},htmlBuilder:(group,options)=>"."===group.delim?buildCommon.makeSpan([group.mclass]):delimiter.sizedDelim(group.delim,group.size,options,group.mode,[group.mclass]),mathmlBuilder:group=>{var children=[];"."!==group.delim&&children.push(makeText(group.delim,group.mode));var node=new mathMLTree.MathNode("mo",children);"mopen"===group.mclass||"mclose"===group.mclass?node.setAttribute("fence","true"):node.setAttribute("fence","false"),node.setAttribute("stretchy","true");var size=makeEm(delimiter.sizeToMaxHeight[group.size]);return node.setAttribute("minsize",size),node.setAttribute("maxsize",size),node}}),defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(context,args)=>{var color=context.parser.gullet.macros.get("\\current@color");if(color&&"string"!=typeof color)throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:context.parser.mode,delim:checkDelimiter(args[0],context).text,color}}}),defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(context,args)=>{var delim=checkDelimiter(args[0],context),parser=context.parser;++parser.leftrightDepth;var body=parser.parseExpression(!1);--parser.leftrightDepth,parser.expect("\\right",!1);var right=assertNodeType(parser.parseFunction(),"leftright-right");return{type:"leftright",mode:parser.mode,body,left:delim.text,right:right.delim,rightColor:right.color}},htmlBuilder:(group,options)=>{assertParsed(group);for(var leftDelim,rightDelim,inner=buildExpression$1(group.body,options,!0,["mopen","mclose"]),innerHeight=0,innerDepth=0,hadMiddle=!1,i=0;i<inner.length;i++)inner[i].isMiddle?hadMiddle=!0:(innerHeight=Math.max(inner[i].height,innerHeight),innerDepth=Math.max(inner[i].depth,innerDepth));if(innerHeight*=options.sizeMultiplier,innerDepth*=options.sizeMultiplier,leftDelim="."===group.left?makeNullDelimiter(options,["mopen"]):delimiter.leftRightDelim(group.left,innerHeight,innerDepth,options,group.mode,["mopen"]),inner.unshift(leftDelim),hadMiddle)for(var _i=1;_i<inner.length;_i++){var isMiddle=inner[_i].isMiddle;isMiddle&&(inner[_i]=delimiter.leftRightDelim(isMiddle.delim,innerHeight,innerDepth,isMiddle.options,group.mode,[]))}if("."===group.right)rightDelim=makeNullDelimiter(options,["mclose"]);else{var colorOptions=group.rightColor?options.withColor(group.rightColor):options;rightDelim=delimiter.leftRightDelim(group.right,innerHeight,innerDepth,colorOptions,group.mode,["mclose"])}return inner.push(rightDelim),buildCommon.makeSpan(["minner"],inner,options)},mathmlBuilder:(group,options)=>{assertParsed(group);var inner=buildExpression(group.body,options);if("."!==group.left){var leftNode=new mathMLTree.MathNode("mo",[makeText(group.left,group.mode)]);leftNode.setAttribute("fence","true"),inner.unshift(leftNode)}if("."!==group.right){var rightNode=new mathMLTree.MathNode("mo",[makeText(group.right,group.mode)]);rightNode.setAttribute("fence","true"),group.rightColor&&rightNode.setAttribute("mathcolor",group.rightColor),inner.push(rightNode)}return makeRow(inner)}}),defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(context,args)=>{var delim=checkDelimiter(args[0],context);if(!context.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",delim);return{type:"middle",mode:context.parser.mode,delim:delim.text}},htmlBuilder:(group,options)=>{var middleDelim;if("."===group.delim)middleDelim=makeNullDelimiter(options,[]);else{middleDelim=delimiter.sizedDelim(group.delim,1,options,group.mode,[]);var isMiddle={delim:group.delim,options};middleDelim.isMiddle=isMiddle}return middleDelim},mathmlBuilder:(group,options)=>{var textNode="\\vert"===group.delim||"|"===group.delim?makeText("|","text"):makeText(group.delim,group.mode),middleNode=new mathMLTree.MathNode("mo",[textNode]);return middleNode.setAttribute("fence","true"),middleNode.setAttribute("lspace","0.05em"),middleNode.setAttribute("rspace","0.05em"),middleNode}});var htmlBuilder$7=(group,options)=>{var img,vlist,inner=buildCommon.wrapFragment(buildGroup$1(group.body,options),options),label=group.label.slice(1),scale=options.sizeMultiplier,imgShift=0,isSingleChar=utils.isCharacterBox(group.body);if("sout"===label)(img=buildCommon.makeSpan(["stretchy","sout"])).height=options.fontMetrics().defaultRuleThickness/scale,imgShift=-.5*options.fontMetrics().xHeight;else if("phase"===label){var lineWeight=calculateSize({number:.6,unit:"pt"},options),clearance=calculateSize({number:.35,unit:"ex"},options);scale/=options.havingBaseSizing().sizeMultiplier;var angleHeight=inner.height+inner.depth+lineWeight+clearance;inner.style.paddingLeft=makeEm(angleHeight/2+lineWeight);var viewBoxHeight=Math.floor(1e3*angleHeight*scale),path=function phasePath(y){return"M400000 "+y+" H0 L"+y/2+" 0 l65 45 L145 "+(y-80)+" H400000z"}(viewBoxHeight),svgNode=new SvgNode([new PathNode("phase",path)],{width:"400em",height:makeEm(viewBoxHeight/1e3),viewBox:"0 0 400000 "+viewBoxHeight,preserveAspectRatio:"xMinYMin slice"});(img=buildCommon.makeSvgSpan(["hide-tail"],[svgNode],options)).style.height=makeEm(angleHeight),imgShift=inner.depth+lineWeight+clearance}else{/cancel/.test(label)?isSingleChar||inner.classes.push("cancel-pad"):"angl"===label?inner.classes.push("anglpad"):inner.classes.push("boxpad");var topPad=0,bottomPad=0,ruleThickness=0;/box/.test(label)?(ruleThickness=Math.max(options.fontMetrics().fboxrule,options.minRuleThickness),bottomPad=topPad=options.fontMetrics().fboxsep+("colorbox"===label?0:ruleThickness)):"angl"===label?(topPad=4*(ruleThickness=Math.max(options.fontMetrics().defaultRuleThickness,options.minRuleThickness)),bottomPad=Math.max(0,.25-inner.depth)):bottomPad=topPad=isSingleChar?.2:0,img=stretchy_encloseSpan(inner,label,topPad,bottomPad,options),/fbox|boxed|fcolorbox/.test(label)?(img.style.borderStyle="solid",img.style.borderWidth=makeEm(ruleThickness)):"angl"===label&&.049!==ruleThickness&&(img.style.borderTopWidth=makeEm(ruleThickness),img.style.borderRightWidth=makeEm(ruleThickness)),imgShift=inner.depth+bottomPad,group.backgroundColor&&(img.style.backgroundColor=group.backgroundColor,group.borderColor&&(img.style.borderColor=group.borderColor))}if(group.backgroundColor)vlist=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:img,shift:imgShift},{type:"elem",elem:inner,shift:0}]},options);else{var classes=/cancel|phase/.test(label)?["svg-align"]:[];vlist=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:inner,shift:0},{type:"elem",elem:img,shift:imgShift,wrapperClasses:classes}]},options)}return/cancel/.test(label)&&(vlist.height=inner.height,vlist.depth=inner.depth),/cancel/.test(label)&&!isSingleChar?buildCommon.makeSpan(["mord","cancel-lap"],[vlist],options):buildCommon.makeSpan(["mord"],[vlist],options)},mathmlBuilder$6=(group,options)=>{var fboxsep=0,node=new mathMLTree.MathNode(group.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(group.body,options)]);switch(group.label){case"\\cancel":node.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":node.setAttribute("notation","downdiagonalstrike");break;case"\\phase":node.setAttribute("notation","phasorangle");break;case"\\sout":node.setAttribute("notation","horizontalstrike");break;case"\\fbox":node.setAttribute("notation","box");break;case"\\angl":node.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(fboxsep=options.fontMetrics().fboxsep*options.fontMetrics().ptPerEm,node.setAttribute("width","+"+2*fboxsep+"pt"),node.setAttribute("height","+"+2*fboxsep+"pt"),node.setAttribute("lspace",fboxsep+"pt"),node.setAttribute("voffset",fboxsep+"pt"),"\\fcolorbox"===group.label){var thk=Math.max(options.fontMetrics().fboxrule,options.minRuleThickness);node.setAttribute("style","border: "+thk+"em solid "+String(group.borderColor))}break;case"\\xcancel":node.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return group.backgroundColor&&node.setAttribute("mathbackground",group.backgroundColor),node};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(_ref,args,optArgs){var{parser,funcName}=_ref,color=assertNodeType(args[0],"color-token").color,body=args[1];return{type:"enclose",mode:parser.mode,label:funcName,backgroundColor:color,body}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(_ref2,args,optArgs){var{parser,funcName}=_ref2,borderColor=assertNodeType(args[0],"color-token").color,backgroundColor=assertNodeType(args[1],"color-token").color,body=args[2];return{type:"enclose",mode:parser.mode,label:funcName,backgroundColor,borderColor,body}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(_ref3,args){var{parser}=_ref3;return{type:"enclose",mode:parser.mode,label:"\\fbox",body:args[0]}}}),defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(_ref4,args){var{parser,funcName}=_ref4,body=args[0];return{type:"enclose",mode:parser.mode,label:funcName,body}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6}),defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(_ref5,args){var{parser}=_ref5;return{type:"enclose",mode:parser.mode,label:"\\angl",body:args[0]}}});var _environments={};function defineEnvironment(_ref){for(var{type,names,props,handler,htmlBuilder,mathmlBuilder}=_ref,data={type,numArgs:props.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler},i=0;i<names.length;++i)_environments[names[i]]=data;htmlBuilder&&(_htmlGroupBuilders[type]=htmlBuilder),mathmlBuilder&&(_mathmlGroupBuilders[type]=mathmlBuilder)}var _macros={};function defineMacro(name,body){_macros[name]=body}function getHLines(parser){var hlineInfo=[];parser.consumeSpaces();var nxt=parser.fetch().text;for("\\relax"===nxt&&(parser.consume(),parser.consumeSpaces(),nxt=parser.fetch().text);"\\hline"===nxt||"\\hdashline"===nxt;)parser.consume(),hlineInfo.push("\\hdashline"===nxt),parser.consumeSpaces(),nxt=parser.fetch().text;return hlineInfo}var validateAmsEnvironmentContext=context=>{if(!context.parser.settings.displayMode)throw new ParseError("{"+context.envName+"} can be used only in display mode.")};function getAutoTag(name){if(-1===name.indexOf("ed"))return-1===name.indexOf("*")}function parseArray(parser,_ref,style){var{hskipBeforeAndAfter,addJot,cols,arraystretch,colSeparationType,autoTag,singleRow,emptySingleRow,maxNumCols,leqno}=_ref;if(parser.gullet.beginGroup(),singleRow||parser.gullet.macros.set("\\cr","\\\\\\relax"),!arraystretch){var stretch=parser.gullet.expandMacroAsText("\\arraystretch");if(null==stretch)arraystretch=1;else if(!(arraystretch=parseFloat(stretch))||arraystretch<0)throw new ParseError("Invalid \\arraystretch: "+stretch)}parser.gullet.beginGroup();var row=[],body=[row],rowGaps=[],hLinesBeforeRow=[],tags=null!=autoTag?[]:void 0;function beginRow(){autoTag&&parser.gullet.macros.set("\\@eqnsw","1",!0)}function endRow(){tags&&(parser.gullet.macros.get("\\df@tag")?(tags.push(parser.subparse([new Token("\\df@tag")])),parser.gullet.macros.set("\\df@tag",void 0,!0)):tags.push(Boolean(autoTag)&&"1"===parser.gullet.macros.get("\\@eqnsw")))}for(beginRow(),hLinesBeforeRow.push(getHLines(parser));;){var cell=parser.parseExpression(!1,singleRow?"\\end":"\\\\");parser.gullet.endGroup(),parser.gullet.beginGroup(),cell={type:"ordgroup",mode:parser.mode,body:cell},style&&(cell={type:"styling",mode:parser.mode,style,body:[cell]}),row.push(cell);var next=parser.fetch().text;if("&"===next){if(maxNumCols&&row.length===maxNumCols){if(singleRow||colSeparationType)throw new ParseError("Too many tab characters: &",parser.nextToken);parser.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}parser.consume()}else{if("\\end"===next){endRow(),1===row.length&&"styling"===cell.type&&0===cell.body[0].body.length&&(body.length>1||!emptySingleRow)&&body.pop(),hLinesBeforeRow.length<body.length+1&&hLinesBeforeRow.push([]);break}if("\\\\"!==next)throw new ParseError("Expected & or \\\\ or \\cr or \\end",parser.nextToken);parser.consume();var size=void 0;" "!==parser.gullet.future().text&&(size=parser.parseSizeGroup(!0)),rowGaps.push(size?size.value:null),endRow(),hLinesBeforeRow.push(getHLines(parser)),row=[],body.push(row),beginRow()}}return parser.gullet.endGroup(),parser.gullet.endGroup(),{type:"array",mode:parser.mode,addJot,arraystretch,body,cols,rowGaps,hskipBeforeAndAfter,hLinesBeforeRow,colSeparationType,tags,leqno}}function dCellStyle(envName){return"d"===envName.slice(0,1)?"display":"text"}var htmlBuilder$6=function htmlBuilder(group,options){var r,c,nr=group.body.length,hLinesBeforeRow=group.hLinesBeforeRow,nc=0,body=new Array(nr),hlines=[],ruleThickness=Math.max(options.fontMetrics().arrayRuleWidth,options.minRuleThickness),pt=1/options.fontMetrics().ptPerEm,arraycolsep=5*pt;group.colSeparationType&&"small"===group.colSeparationType&&(arraycolsep=options.havingStyle(Style$1.SCRIPT).sizeMultiplier/options.sizeMultiplier*.2778);var baselineskip="CD"===group.colSeparationType?calculateSize({number:3,unit:"ex"},options):12*pt,jot=3*pt,arrayskip=group.arraystretch*baselineskip,arstrutHeight=.7*arrayskip,arstrutDepth=.3*arrayskip,totalHeight=0;function setHLinePos(hlinesInGap){for(var i=0;i<hlinesInGap.length;++i)i>0&&(totalHeight+=.25),hlines.push({pos:totalHeight,isDashed:hlinesInGap[i]})}for(setHLinePos(hLinesBeforeRow[0]),r=0;r<group.body.length;++r){var inrow=group.body[r],height=arstrutHeight,depth=arstrutDepth;nc<inrow.length&&(nc=inrow.length);var outrow=new Array(inrow.length);for(c=0;c<inrow.length;++c){var elt=buildGroup$1(inrow[c],options);depth<elt.depth&&(depth=elt.depth),height<elt.height&&(height=elt.height),outrow[c]=elt}var rowGap=group.rowGaps[r],gap=0;rowGap&&(gap=calculateSize(rowGap,options))>0&&(depth<(gap+=arstrutDepth)&&(depth=gap),gap=0),group.addJot&&(depth+=jot),outrow.height=height,outrow.depth=depth,totalHeight+=height,outrow.pos=totalHeight,totalHeight+=depth+gap,body[r]=outrow,setHLinePos(hLinesBeforeRow[r+1])}var colSep,colDescrNum,offset=totalHeight/2+options.fontMetrics().axisHeight,colDescriptions=group.cols||[],cols=[],tagSpans=[];if(group.tags&&group.tags.some((tag=>tag)))for(r=0;r<nr;++r){var rw=body[r],shift=rw.pos-offset,tag=group.tags[r],tagSpan=void 0;(tagSpan=!0===tag?buildCommon.makeSpan(["eqn-num"],[],options):!1===tag?buildCommon.makeSpan([],[],options):buildCommon.makeSpan([],buildExpression$1(tag,options,!0),options)).depth=rw.depth,tagSpan.height=rw.height,tagSpans.push({type:"elem",elem:tagSpan,shift})}for(c=0,colDescrNum=0;c<nc||colDescrNum<colDescriptions.length;++c,++colDescrNum){for(var colDescr=colDescriptions[colDescrNum]||{},firstSeparator=!0;"separator"===colDescr.type;){if(firstSeparator||((colSep=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(options.fontMetrics().doubleRuleSep),cols.push(colSep)),"|"!==colDescr.separator&&":"!==colDescr.separator)throw new ParseError("Invalid separator type: "+colDescr.separator);var lineType="|"===colDescr.separator?"solid":"dashed",separator=buildCommon.makeSpan(["vertical-separator"],[],options);separator.style.height=makeEm(totalHeight),separator.style.borderRightWidth=makeEm(ruleThickness),separator.style.borderRightStyle=lineType,separator.style.margin="0 "+makeEm(-ruleThickness/2);var _shift=totalHeight-offset;_shift&&(separator.style.verticalAlign=makeEm(-_shift)),cols.push(separator),colDescr=colDescriptions[++colDescrNum]||{},firstSeparator=!1}if(!(c>=nc)){var sepwidth=void 0;(c>0||group.hskipBeforeAndAfter)&&0!==(sepwidth=utils.deflt(colDescr.pregap,arraycolsep))&&((colSep=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(sepwidth),cols.push(colSep));var col=[];for(r=0;r<nr;++r){var row=body[r],elem=row[c];if(elem){var _shift2=row.pos-offset;elem.depth=row.depth,elem.height=row.height,col.push({type:"elem",elem,shift:_shift2})}}col=buildCommon.makeVList({positionType:"individualShift",children:col},options),col=buildCommon.makeSpan(["col-align-"+(colDescr.align||"c")],[col]),cols.push(col),(c<nc-1||group.hskipBeforeAndAfter)&&0!==(sepwidth=utils.deflt(colDescr.postgap,arraycolsep))&&((colSep=buildCommon.makeSpan(["arraycolsep"],[])).style.width=makeEm(sepwidth),cols.push(colSep))}}if(body=buildCommon.makeSpan(["mtable"],cols),hlines.length>0){for(var line=buildCommon.makeLineSpan("hline",options,ruleThickness),dashes=buildCommon.makeLineSpan("hdashline",options,ruleThickness),vListElems=[{type:"elem",elem:body,shift:0}];hlines.length>0;){var hline=hlines.pop(),lineShift=hline.pos-offset;hline.isDashed?vListElems.push({type:"elem",elem:dashes,shift:lineShift}):vListElems.push({type:"elem",elem:line,shift:lineShift})}body=buildCommon.makeVList({positionType:"individualShift",children:vListElems},options)}if(0===tagSpans.length)return buildCommon.makeSpan(["mord"],[body],options);var eqnNumCol=buildCommon.makeVList({positionType:"individualShift",children:tagSpans},options);return eqnNumCol=buildCommon.makeSpan(["tag"],[eqnNumCol],options),buildCommon.makeFragment([body,eqnNumCol])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function mathmlBuilder(group,options){for(var tbl=[],glue=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),tag=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),i=0;i<group.body.length;i++){for(var rw=group.body[i],row=[],j=0;j<rw.length;j++)row.push(new mathMLTree.MathNode("mtd",[buildGroup(rw[j],options)]));group.tags&&group.tags[i]&&(row.unshift(glue),row.push(glue),group.leqno?row.unshift(tag):row.push(tag)),tbl.push(new mathMLTree.MathNode("mtr",row))}var table=new mathMLTree.MathNode("mtable",tbl),gap=.5===group.arraystretch?.1:.16+group.arraystretch-1+(group.addJot?.09:0);table.setAttribute("rowspacing",makeEm(gap));var menclose="",align="";if(group.cols&&group.cols.length>0){var cols=group.cols,columnLines="",prevTypeWasAlign=!1,iStart=0,iEnd=cols.length;"separator"===cols[0].type&&(menclose+="top ",iStart=1),"separator"===cols[cols.length-1].type&&(menclose+="bottom ",iEnd-=1);for(var _i=iStart;_i<iEnd;_i++)"align"===cols[_i].type?(align+=alignMap[cols[_i].align],prevTypeWasAlign&&(columnLines+="none "),prevTypeWasAlign=!0):"separator"===cols[_i].type&&prevTypeWasAlign&&(columnLines+="|"===cols[_i].separator?"solid ":"dashed ",prevTypeWasAlign=!1);table.setAttribute("columnalign",align.trim()),/[sd]/.test(columnLines)&&table.setAttribute("columnlines",columnLines.trim())}if("align"===group.colSeparationType){for(var _cols=group.cols||[],spacing="",_i2=1;_i2<_cols.length;_i2++)spacing+=_i2%2?"0em ":"1em ";table.setAttribute("columnspacing",spacing.trim())}else"alignat"===group.colSeparationType||"gather"===group.colSeparationType?table.setAttribute("columnspacing","0em"):"small"===group.colSeparationType?table.setAttribute("columnspacing","0.2778em"):"CD"===group.colSeparationType?table.setAttribute("columnspacing","0.5em"):table.setAttribute("columnspacing","1em");var rowLines="",hlines=group.hLinesBeforeRow;menclose+=hlines[0].length>0?"left ":"",menclose+=hlines[hlines.length-1].length>0?"right ":"";for(var _i3=1;_i3<hlines.length-1;_i3++)rowLines+=0===hlines[_i3].length?"none ":hlines[_i3][0]?"dashed ":"solid ";return/[sd]/.test(rowLines)&&table.setAttribute("rowlines",rowLines.trim()),""!==menclose&&(table=new mathMLTree.MathNode("menclose",[table])).setAttribute("notation",menclose.trim()),group.arraystretch&&group.arraystretch<1&&(table=new mathMLTree.MathNode("mstyle",[table])).setAttribute("scriptlevel","1"),table},alignedHandler=function alignedHandler(context,args){-1===context.envName.indexOf("ed")&&validateAmsEnvironmentContext(context);var numMaths,cols=[],separationType=context.envName.indexOf("at")>-1?"alignat":"align",isSplit="split"===context.envName,res=parseArray(context.parser,{cols,addJot:!0,autoTag:isSplit?void 0:getAutoTag(context.envName),emptySingleRow:!0,colSeparationType:separationType,maxNumCols:isSplit?2:void 0,leqno:context.parser.settings.leqno},"display"),numCols=0,emptyGroup={type:"ordgroup",mode:context.mode,body:[]};if(args[0]&&"ordgroup"===args[0].type){for(var arg0="",i=0;i<args[0].body.length;i++){arg0+=assertNodeType(args[0].body[i],"textord").text}numMaths=Number(arg0),numCols=2*numMaths}var isAligned=!numCols;res.body.forEach((function(row){for(var _i4=1;_i4<row.length;_i4+=2){var styling=assertNodeType(row[_i4],"styling");assertNodeType(styling.body[0],"ordgroup").body.unshift(emptyGroup)}if(isAligned)numCols<row.length&&(numCols=row.length);else{var curMaths=row.length/2;if(numMaths<curMaths)throw new ParseError("Too many math in a row: expected "+numMaths+", but got "+curMaths,row[0])}}));for(var _i5=0;_i5<numCols;++_i5){var align="r",pregap=0;_i5%2==1?align="l":_i5>0&&isAligned&&(pregap=1),cols[_i5]={type:"align",align,pregap,postgap:0}}return res.colSeparationType=isAligned?"align":"alignat",res};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(context,args){var cols=(checkSymbolNodeType(args[0])?[args[0]]:assertNodeType(args[0],"ordgroup").body).map((function(nde){var ca=assertSymbolNodeType(nde).text;if(-1!=="lcr".indexOf(ca))return{type:"align",align:ca};if("|"===ca)return{type:"separator",separator:"|"};if(":"===ca)return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+ca,nde)})),res={cols,hskipBeforeAndAfter:!0,maxNumCols:cols.length};return parseArray(context.parser,res,dCellStyle(context.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(context){var delimiters={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[context.envName.replace("*","")],colAlign="c",payload={hskipBeforeAndAfter:!1,cols:[{type:"align",align:colAlign}]};if("*"===context.envName.charAt(context.envName.length-1)){var parser=context.parser;if(parser.consumeSpaces(),"["===parser.fetch().text){if(parser.consume(),parser.consumeSpaces(),colAlign=parser.fetch().text,-1==="lcr".indexOf(colAlign))throw new ParseError("Expected l or c or r",parser.nextToken);parser.consume(),parser.consumeSpaces(),parser.expect("]"),parser.consume(),payload.cols=[{type:"align",align:colAlign}]}}var res=parseArray(context.parser,payload,dCellStyle(context.envName)),numCols=Math.max(0,...res.body.map((row=>row.length)));return res.cols=new Array(numCols).fill({type:"align",align:colAlign}),delimiters?{type:"leftright",mode:context.mode,body:[res],left:delimiters[0],right:delimiters[1],rightColor:void 0}:res},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(context){var res=parseArray(context.parser,{arraystretch:.5},"script");return res.colSeparationType="small",res},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(context,args){var cols=(checkSymbolNodeType(args[0])?[args[0]]:assertNodeType(args[0],"ordgroup").body).map((function(nde){var ca=assertSymbolNodeType(nde).text;if(-1!=="lc".indexOf(ca))return{type:"align",align:ca};throw new ParseError("Unknown column alignment: "+ca,nde)}));if(cols.length>1)throw new ParseError("{subarray} can contain only one column");var res={cols,hskipBeforeAndAfter:!1,arraystretch:.5};if((res=parseArray(context.parser,res,"script")).body.length>0&&res.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return res},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(context){var res=parseArray(context.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},dCellStyle(context.envName));return{type:"leftright",mode:context.mode,body:[res],left:context.envName.indexOf("r")>-1?".":"\\{",right:context.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(context){utils.contains(["gather","gather*"],context.envName)&&validateAmsEnvironmentContext(context);var res={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(context.envName),emptySingleRow:!0,leqno:context.parser.settings.leqno};return parseArray(context.parser,res,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(context){validateAmsEnvironmentContext(context);var res={autoTag:getAutoTag(context.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:context.parser.settings.leqno};return parseArray(context.parser,res,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler:context=>(validateAmsEnvironmentContext(context),function parseCD(parser){var parsedRows=[];for(parser.gullet.beginGroup(),parser.gullet.macros.set("\\cr","\\\\\\relax"),parser.gullet.beginGroup();;){parsedRows.push(parser.parseExpression(!1,"\\\\")),parser.gullet.endGroup(),parser.gullet.beginGroup();var next=parser.fetch().text;if("&"!==next&&"\\\\"!==next){if("\\end"===next){0===parsedRows[parsedRows.length-1].length&&parsedRows.pop();break}throw new ParseError("Expected \\\\ or \\cr or \\end",parser.nextToken)}parser.consume()}for(var node,endChar,row=[],body=[row],i=0;i<parsedRows.length;i++){for(var rowNodes=parsedRows[i],cell={type:"styling",body:[],mode:"math",style:"display"},j=0;j<rowNodes.length;j++)if(isStartOfArrow(rowNodes[j])){row.push(cell);var arrowChar=assertSymbolNodeType(rowNodes[j+=1]).text,labels=new Array(2);if(labels[0]={type:"ordgroup",mode:"math",body:[]},labels[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(arrowChar)>-1);else{if(!("<>AV".indexOf(arrowChar)>-1))throw new ParseError('Expected one of "<>AV=|." after @',rowNodes[j]);for(var labelNum=0;labelNum<2;labelNum++){for(var inLabel=!0,k=j+1;k<rowNodes.length;k++){if(endChar=arrowChar,("mathord"===(node=rowNodes[k]).type||"atom"===node.type)&&node.text===endChar){inLabel=!1,j=k;break}if(isStartOfArrow(rowNodes[k]))throw new ParseError("Missing a "+arrowChar+" character to complete a CD arrow.",rowNodes[k]);labels[labelNum].body.push(rowNodes[k])}if(inLabel)throw new ParseError("Missing a "+arrowChar+" character to complete a CD arrow.",rowNodes[j])}}var wrappedArrow={type:"styling",body:[cdArrow(arrowChar,labels,parser)],mode:"math",style:"display"};row.push(wrappedArrow),cell={type:"styling",body:[],mode:"math",style:"display"}}else cell.body.push(rowNodes[j]);i%2==0?row.push(cell):row.shift(),row=[],body.push(row)}return parser.gullet.endGroup(),parser.gullet.endGroup(),{type:"array",mode:"math",body,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(body[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(body.length+1).fill([])}}(context.parser)),htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5}),defineMacro("\\nonumber","\\gdef\\@eqnsw{0}"),defineMacro("\\notag","\\nonumber"),defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(context,args){throw new ParseError(context.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(_ref,args){var{parser,funcName}=_ref,nameGroup=args[0];if("ordgroup"!==nameGroup.type)throw new ParseError("Invalid environment name",nameGroup);for(var envName="",i=0;i<nameGroup.body.length;++i)envName+=assertNodeType(nameGroup.body[i],"textord").text;if("\\begin"===funcName){if(!environments.hasOwnProperty(envName))throw new ParseError("No such environment: "+envName,nameGroup);var env=environments[envName],{args:_args,optArgs}=parser.parseArguments("\\begin{"+envName+"}",env),context={mode:parser.mode,envName,parser},result=env.handler(context,_args,optArgs);parser.expect("\\end",!1);var endNameToken=parser.nextToken,end=assertNodeType(parser.parseFunction(),"environment");if(end.name!==envName)throw new ParseError("Mismatch: \\begin{"+envName+"} matched by \\end{"+end.name+"}",endNameToken);return result}return{type:"environment",mode:parser.mode,name:envName,nameGroup}}});var htmlBuilder$5=(group,options)=>{var font=group.font,newOptions=options.withFont(font);return buildGroup$1(group.body,newOptions)},mathmlBuilder$4=(group,options)=>{var font=group.font,newOptions=options.withFont(font);return buildGroup(group.body,newOptions)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(_ref,args)=>{var{parser,funcName}=_ref,body=normalizeArgument(args[0]),func=funcName;return func in fontAliases&&(func=fontAliases[func]),{type:"font",mode:parser.mode,font:func.slice(1),body}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4}),defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(_ref2,args)=>{var{parser}=_ref2,body=args[0],isCharacterBox=utils.isCharacterBox(body);return{type:"mclass",mode:parser.mode,mclass:binrelClass(body),body:[{type:"font",mode:parser.mode,font:"boldsymbol",body}],isCharacterBox}}}),defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(_ref3,args)=>{var{parser,funcName,breakOnTokenText}=_ref3,{mode}=parser,body=parser.parseExpression(!0,breakOnTokenText);return{type:"font",mode,font:"math"+funcName.slice(1),body:{type:"ordgroup",mode:parser.mode,body}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(size,originalStyle)=>{var style=originalStyle;return"display"===size?style=style.id>=Style$1.SCRIPT.id?style.text():Style$1.DISPLAY:"text"===size&&style.size===Style$1.DISPLAY.size?style=Style$1.TEXT:"script"===size?style=Style$1.SCRIPT:"scriptscript"===size&&(style=Style$1.SCRIPTSCRIPT),style},htmlBuilder$4=(group,options)=>{var newOptions,style=adjustStyle(group.size,options.style),nstyle=style.fracNum(),dstyle=style.fracDen();newOptions=options.havingStyle(nstyle);var numerm=buildGroup$1(group.numer,newOptions,options);if(group.continued){var hStrut=8.5/options.fontMetrics().ptPerEm,dStrut=3.5/options.fontMetrics().ptPerEm;numerm.height=numerm.height<hStrut?hStrut:numerm.height,numerm.depth=numerm.depth<dStrut?dStrut:numerm.depth}newOptions=options.havingStyle(dstyle);var rule,ruleWidth,ruleSpacing,numShift,clearance,denomShift,frac,delimSize,leftDelim,rightDelim,denomm=buildGroup$1(group.denom,newOptions,options);if(group.hasBarLine?(group.barSize?(ruleWidth=calculateSize(group.barSize,options),rule=buildCommon.makeLineSpan("frac-line",options,ruleWidth)):rule=buildCommon.makeLineSpan("frac-line",options),ruleWidth=rule.height,ruleSpacing=rule.height):(rule=null,ruleWidth=0,ruleSpacing=options.fontMetrics().defaultRuleThickness),style.size===Style$1.DISPLAY.size||"display"===group.size?(numShift=options.fontMetrics().num1,clearance=ruleWidth>0?3*ruleSpacing:7*ruleSpacing,denomShift=options.fontMetrics().denom1):(ruleWidth>0?(numShift=options.fontMetrics().num2,clearance=ruleSpacing):(numShift=options.fontMetrics().num3,clearance=3*ruleSpacing),denomShift=options.fontMetrics().denom2),rule){var axisHeight=options.fontMetrics().axisHeight;numShift-numerm.depth-(axisHeight+.5*ruleWidth)<clearance&&(numShift+=clearance-(numShift-numerm.depth-(axisHeight+.5*ruleWidth))),axisHeight-.5*ruleWidth-(denomm.height-denomShift)<clearance&&(denomShift+=clearance-(axisHeight-.5*ruleWidth-(denomm.height-denomShift)));var midShift=-(axisHeight-.5*ruleWidth);frac=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:denomm,shift:denomShift},{type:"elem",elem:rule,shift:midShift},{type:"elem",elem:numerm,shift:-numShift}]},options)}else{var candidateClearance=numShift-numerm.depth-(denomm.height-denomShift);candidateClearance<clearance&&(numShift+=.5*(clearance-candidateClearance),denomShift+=.5*(clearance-candidateClearance)),frac=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:denomm,shift:denomShift},{type:"elem",elem:numerm,shift:-numShift}]},options)}return newOptions=options.havingStyle(style),frac.height*=newOptions.sizeMultiplier/options.sizeMultiplier,frac.depth*=newOptions.sizeMultiplier/options.sizeMultiplier,delimSize=style.size===Style$1.DISPLAY.size?options.fontMetrics().delim1:style.size===Style$1.SCRIPTSCRIPT.size?options.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:options.fontMetrics().delim2,leftDelim=null==group.leftDelim?makeNullDelimiter(options,["mopen"]):delimiter.customSizedDelim(group.leftDelim,delimSize,!0,options.havingStyle(style),group.mode,["mopen"]),rightDelim=group.continued?buildCommon.makeSpan([]):null==group.rightDelim?makeNullDelimiter(options,["mclose"]):delimiter.customSizedDelim(group.rightDelim,delimSize,!0,options.havingStyle(style),group.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(newOptions.sizingClasses(options)),[leftDelim,buildCommon.makeSpan(["mfrac"],[frac]),rightDelim],options)},mathmlBuilder$3=(group,options)=>{var node=new mathMLTree.MathNode("mfrac",[buildGroup(group.numer,options),buildGroup(group.denom,options)]);if(group.hasBarLine){if(group.barSize){var ruleWidth=calculateSize(group.barSize,options);node.setAttribute("linethickness",makeEm(ruleWidth))}}else node.setAttribute("linethickness","0px");var style=adjustStyle(group.size,options.style);if(style.size!==options.style.size){node=new mathMLTree.MathNode("mstyle",[node]);var isDisplay=style.size===Style$1.DISPLAY.size?"true":"false";node.setAttribute("displaystyle",isDisplay),node.setAttribute("scriptlevel","0")}if(null!=group.leftDelim||null!=group.rightDelim){var withDelims=[];if(null!=group.leftDelim){var leftOp=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(group.leftDelim.replace("\\",""))]);leftOp.setAttribute("fence","true"),withDelims.push(leftOp)}if(withDelims.push(node),null!=group.rightDelim){var rightOp=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(group.rightDelim.replace("\\",""))]);rightOp.setAttribute("fence","true"),withDelims.push(rightOp)}return makeRow(withDelims)}return node};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(_ref,args)=>{var hasBarLine,{parser,funcName}=_ref,numer=args[0],denom=args[1],leftDelim=null,rightDelim=null,size="auto";switch(funcName){case"\\dfrac":case"\\frac":case"\\tfrac":hasBarLine=!0;break;case"\\\\atopfrac":hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":hasBarLine=!1,leftDelim="(",rightDelim=")";break;case"\\\\bracefrac":hasBarLine=!1,leftDelim="\\{",rightDelim="\\}";break;case"\\\\brackfrac":hasBarLine=!1,leftDelim="[",rightDelim="]";break;default:throw new Error("Unrecognized genfrac command")}switch(funcName){case"\\dfrac":case"\\dbinom":size="display";break;case"\\tfrac":case"\\tbinom":size="text"}return{type:"genfrac",mode:parser.mode,continued:!1,numer,denom,hasBarLine,leftDelim,rightDelim,size,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(_ref2,args)=>{var{parser,funcName}=_ref2,numer=args[0],denom=args[1];return{type:"genfrac",mode:parser.mode,continued:!0,numer,denom,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(_ref3){var replaceWith,{parser,funcName,token}=_ref3;switch(funcName){case"\\over":replaceWith="\\frac";break;case"\\choose":replaceWith="\\binom";break;case"\\atop":replaceWith="\\\\atopfrac";break;case"\\brace":replaceWith="\\\\bracefrac";break;case"\\brack":replaceWith="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:parser.mode,replaceWith,token}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function delimFromValue(delimString){var delim=null;return delimString.length>0&&(delim="."===(delim=delimString)?null:delim),delim};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(_ref4,args){var hasBarLine,{parser}=_ref4,numer=args[4],denom=args[5],leftNode=normalizeArgument(args[0]),leftDelim="atom"===leftNode.type&&"open"===leftNode.family?delimFromValue(leftNode.text):null,rightNode=normalizeArgument(args[1]),rightDelim="atom"===rightNode.type&&"close"===rightNode.family?delimFromValue(rightNode.text):null,barNode=assertNodeType(args[2],"size"),barSize=null;hasBarLine=!!barNode.isBlank||(barSize=barNode.value).number>0;var size="auto",styl=args[3];if("ordgroup"===styl.type){if(styl.body.length>0){var textOrd=assertNodeType(styl.body[0],"textord");size=stylArray[Number(textOrd.text)]}}else styl=assertNodeType(styl,"textord"),size=stylArray[Number(styl.text)];return{type:"genfrac",mode:parser.mode,numer,denom,continued:!1,hasBarLine,barSize,leftDelim,rightDelim,size}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3}),defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(_ref5,args){var{parser,funcName,token}=_ref5;return{type:"infix",mode:parser.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(args[0],"size").value,token}}}),defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(_ref6,args)=>{var{parser,funcName}=_ref6,numer=args[0],barSize=function assert(value){if(!value)throw new Error("Expected non-null, but got "+String(value));return value}(assertNodeType(args[1],"infix").size),denom=args[2],hasBarLine=barSize.number>0;return{type:"genfrac",mode:parser.mode,numer,denom,continued:!1,hasBarLine,barSize,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(grp,options)=>{var supSubGroup,group,style=options.style;"supsub"===grp.type?(supSubGroup=grp.sup?buildGroup$1(grp.sup,options.havingStyle(style.sup()),options):buildGroup$1(grp.sub,options.havingStyle(style.sub()),options),group=assertNodeType(grp.base,"horizBrace")):group=assertNodeType(grp,"horizBrace");var vlist,body=buildGroup$1(group.base,options.havingBaseStyle(Style$1.DISPLAY)),braceBody=stretchy_svgSpan(group,options);if(group.isOver?(vlist=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:body},{type:"kern",size:.1},{type:"elem",elem:braceBody}]},options)).children[0].children[0].children[1].classes.push("svg-align"):(vlist=buildCommon.makeVList({positionType:"bottom",positionData:body.depth+.1+braceBody.height,children:[{type:"elem",elem:braceBody},{type:"kern",size:.1},{type:"elem",elem:body}]},options)).children[0].children[0].children[0].classes.push("svg-align"),supSubGroup){var vSpan=buildCommon.makeSpan(["mord",group.isOver?"mover":"munder"],[vlist],options);vlist=group.isOver?buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:vSpan},{type:"kern",size:.2},{type:"elem",elem:supSubGroup}]},options):buildCommon.makeVList({positionType:"bottom",positionData:vSpan.depth+.2+supSubGroup.height+supSubGroup.depth,children:[{type:"elem",elem:supSubGroup},{type:"kern",size:.2},{type:"elem",elem:vSpan}]},options)}return buildCommon.makeSpan(["mord",group.isOver?"mover":"munder"],[vlist],options)};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(_ref,args){var{parser,funcName}=_ref;return{type:"horizBrace",mode:parser.mode,label:funcName,isOver:/^\\over/.test(funcName),base:args[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:(group,options)=>{var accentNode=stretchy_mathMLnode(group.label);return new mathMLTree.MathNode(group.isOver?"mover":"munder",[buildGroup(group.base,options),accentNode])}}),defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(_ref,args)=>{var{parser}=_ref,body=args[1],href=assertNodeType(args[0],"url").url;return parser.settings.isTrusted({command:"\\href",url:href})?{type:"href",mode:parser.mode,href,body:ordargument(body)}:parser.formatUnsupportedCmd("\\href")},htmlBuilder:(group,options)=>{var elements=buildExpression$1(group.body,options,!1);return buildCommon.makeAnchor(group.href,[],elements,options)},mathmlBuilder:(group,options)=>{var math=buildExpressionRow(group.body,options);return math instanceof MathNode||(math=new MathNode("mrow",[math])),math.setAttribute("href",group.href),math}}),defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(_ref2,args)=>{var{parser}=_ref2,href=assertNodeType(args[0],"url").url;if(!parser.settings.isTrusted({command:"\\url",url:href}))return parser.formatUnsupportedCmd("\\url");for(var chars=[],i=0;i<href.length;i++){var c=href[i];"~"===c&&(c="\\textasciitilde"),chars.push({type:"textord",mode:"text",text:c})}var body={type:"text",mode:parser.mode,font:"\\texttt",body:chars};return{type:"href",mode:parser.mode,href,body:ordargument(body)}}}),defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(_ref,args){var{parser}=_ref;return{type:"hbox",mode:parser.mode,body:ordargument(args[0])}},htmlBuilder(group,options){var elements=buildExpression$1(group.body,options,!1);return buildCommon.makeFragment(elements)},mathmlBuilder:(group,options)=>new mathMLTree.MathNode("mrow",buildExpression(group.body,options))}),defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(_ref,args)=>{var trustContext,{parser,funcName,token}=_ref,value=assertNodeType(args[0],"raw").string,body=args[1];parser.settings.strict&&parser.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var attributes={};switch(funcName){case"\\htmlClass":attributes.class=value,trustContext={command:"\\htmlClass",class:value};break;case"\\htmlId":attributes.id=value,trustContext={command:"\\htmlId",id:value};break;case"\\htmlStyle":attributes.style=value,trustContext={command:"\\htmlStyle",style:value};break;case"\\htmlData":for(var data=value.split(","),i=0;i<data.length;i++){var keyVal=data[i].split("=");if(2!==keyVal.length)throw new ParseError("Error parsing key-value for \\htmlData");attributes["data-"+keyVal[0].trim()]=keyVal[1].trim()}trustContext={command:"\\htmlData",attributes};break;default:throw new Error("Unrecognized html command")}return parser.settings.isTrusted(trustContext)?{type:"html",mode:parser.mode,attributes,body:ordargument(body)}:parser.formatUnsupportedCmd(funcName)},htmlBuilder:(group,options)=>{var elements=buildExpression$1(group.body,options,!1),classes=["enclosing"];group.attributes.class&&classes.push(...group.attributes.class.trim().split(/\s+/));var span=buildCommon.makeSpan(classes,elements,options);for(var attr in group.attributes)"class"!==attr&&group.attributes.hasOwnProperty(attr)&&span.setAttribute(attr,group.attributes[attr]);return span},mathmlBuilder:(group,options)=>buildExpressionRow(group.body,options)}),defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(_ref,args)=>{var{parser}=_ref;return{type:"htmlmathml",mode:parser.mode,html:ordargument(args[0]),mathml:ordargument(args[1])}},htmlBuilder:(group,options)=>{var elements=buildExpression$1(group.html,options,!1);return buildCommon.makeFragment(elements)},mathmlBuilder:(group,options)=>buildExpressionRow(group.mathml,options)});var sizeData=function sizeData(str){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(str))return{number:+str,unit:"bp"};var match=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(str);if(!match)throw new ParseError("Invalid size: '"+str+"' in \\includegraphics");var data={number:+(match[1]+match[2]),unit:match[3]};if(!validUnit(data))throw new ParseError("Invalid unit: '"+data.unit+"' in \\includegraphics.");return data};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(_ref,args,optArgs)=>{var{parser}=_ref,width={number:0,unit:"em"},height={number:.9,unit:"em"},totalheight={number:0,unit:"em"},alt="";if(optArgs[0])for(var attributes=assertNodeType(optArgs[0],"raw").string.split(","),i=0;i<attributes.length;i++){var keyVal=attributes[i].split("=");if(2===keyVal.length){var str=keyVal[1].trim();switch(keyVal[0].trim()){case"alt":alt=str;break;case"width":width=sizeData(str);break;case"height":height=sizeData(str);break;case"totalheight":totalheight=sizeData(str);break;default:throw new ParseError("Invalid key: '"+keyVal[0]+"' in \\includegraphics.")}}}var src=assertNodeType(args[0],"url").url;return""===alt&&(alt=(alt=(alt=src).replace(/^.*[\\/]/,"")).substring(0,alt.lastIndexOf("."))),parser.settings.isTrusted({command:"\\includegraphics",url:src})?{type:"includegraphics",mode:parser.mode,alt,width,height,totalheight,src}:parser.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(group,options)=>{var height=calculateSize(group.height,options),depth=0;group.totalheight.number>0&&(depth=calculateSize(group.totalheight,options)-height);var width=0;group.width.number>0&&(width=calculateSize(group.width,options));var style={height:makeEm(height+depth)};width>0&&(style.width=makeEm(width)),depth>0&&(style.verticalAlign=makeEm(-depth));var node=new Img(group.src,group.alt,style);return node.height=height,node.depth=depth,node},mathmlBuilder:(group,options)=>{var node=new mathMLTree.MathNode("mglyph",[]);node.setAttribute("alt",group.alt);var height=calculateSize(group.height,options),depth=0;if(group.totalheight.number>0&&(depth=calculateSize(group.totalheight,options)-height,node.setAttribute("valign",makeEm(-depth))),node.setAttribute("height",makeEm(height+depth)),group.width.number>0){var width=calculateSize(group.width,options);node.setAttribute("width",makeEm(width))}return node.setAttribute("src",group.src),node}}),defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(_ref,args){var{parser,funcName}=_ref,size=assertNodeType(args[0],"size");if(parser.settings.strict){var mathFunction="m"===funcName[1],muUnit="mu"===size.value.unit;mathFunction?(muUnit||parser.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+funcName+" supports only mu units, not "+size.value.unit+" units"),"math"!==parser.mode&&parser.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+funcName+" works only in math mode")):muUnit&&parser.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+funcName+" doesn't support mu units")}return{type:"kern",mode:parser.mode,dimension:size.value}},htmlBuilder:(group,options)=>buildCommon.makeGlue(group.dimension,options),mathmlBuilder(group,options){var dimension=calculateSize(group.dimension,options);return new mathMLTree.SpaceNode(dimension)}}),defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(_ref,args)=>{var{parser,funcName}=_ref,body=args[0];return{type:"lap",mode:parser.mode,alignment:funcName.slice(5),body}},htmlBuilder:(group,options)=>{var inner;"clap"===group.alignment?(inner=buildCommon.makeSpan([],[buildGroup$1(group.body,options)]),inner=buildCommon.makeSpan(["inner"],[inner],options)):inner=buildCommon.makeSpan(["inner"],[buildGroup$1(group.body,options)]);var fix=buildCommon.makeSpan(["fix"],[]),node=buildCommon.makeSpan([group.alignment],[inner,fix],options),strut=buildCommon.makeSpan(["strut"]);return strut.style.height=makeEm(node.height+node.depth),node.depth&&(strut.style.verticalAlign=makeEm(-node.depth)),node.children.unshift(strut),node=buildCommon.makeSpan(["thinbox"],[node],options),buildCommon.makeSpan(["mord","vbox"],[node],options)},mathmlBuilder:(group,options)=>{var node=new mathMLTree.MathNode("mpadded",[buildGroup(group.body,options)]);if("rlap"!==group.alignment){var offset="llap"===group.alignment?"-1":"-0.5";node.setAttribute("lspace",offset+"width")}return node.setAttribute("width","0px"),node}}),defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(_ref,args){var{funcName,parser}=_ref,outerMode=parser.mode;parser.switchMode("math");var close="\\("===funcName?"\\)":"$",body=parser.parseExpression(!1,close);return parser.expect(close),parser.switchMode(outerMode),{type:"styling",mode:parser.mode,style:"text",body}}}),defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(context,args){throw new ParseError("Mismatched "+context.funcName)}});var chooseMathStyle=(group,options)=>{switch(options.style.size){case Style$1.DISPLAY.size:return group.display;case Style$1.TEXT.size:return group.text;case Style$1.SCRIPT.size:return group.script;case Style$1.SCRIPTSCRIPT.size:return group.scriptscript;default:return group.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(_ref,args)=>{var{parser}=_ref;return{type:"mathchoice",mode:parser.mode,display:ordargument(args[0]),text:ordargument(args[1]),script:ordargument(args[2]),scriptscript:ordargument(args[3])}},htmlBuilder:(group,options)=>{var body=chooseMathStyle(group,options),elements=buildExpression$1(body,options,!1);return buildCommon.makeFragment(elements)},mathmlBuilder:(group,options)=>{var body=chooseMathStyle(group,options);return buildExpressionRow(body,options)}});var assembleSupSub=(base,supGroup,subGroup,options,style,slant,baseShift)=>{base=buildCommon.makeSpan([],[base]);var sub,sup,finalGroup,subIsSingleCharacter=subGroup&&utils.isCharacterBox(subGroup);if(supGroup){var elem=buildGroup$1(supGroup,options.havingStyle(style.sup()),options);sup={elem,kern:Math.max(options.fontMetrics().bigOpSpacing1,options.fontMetrics().bigOpSpacing3-elem.depth)}}if(subGroup){var _elem=buildGroup$1(subGroup,options.havingStyle(style.sub()),options);sub={elem:_elem,kern:Math.max(options.fontMetrics().bigOpSpacing2,options.fontMetrics().bigOpSpacing4-_elem.height)}}if(sup&&sub){var bottom=options.fontMetrics().bigOpSpacing5+sub.elem.height+sub.elem.depth+sub.kern+base.depth+baseShift;finalGroup=buildCommon.makeVList({positionType:"bottom",positionData:bottom,children:[{type:"kern",size:options.fontMetrics().bigOpSpacing5},{type:"elem",elem:sub.elem,marginLeft:makeEm(-slant)},{type:"kern",size:sub.kern},{type:"elem",elem:base},{type:"kern",size:sup.kern},{type:"elem",elem:sup.elem,marginLeft:makeEm(slant)},{type:"kern",size:options.fontMetrics().bigOpSpacing5}]},options)}else if(sub){var top=base.height-baseShift;finalGroup=buildCommon.makeVList({positionType:"top",positionData:top,children:[{type:"kern",size:options.fontMetrics().bigOpSpacing5},{type:"elem",elem:sub.elem,marginLeft:makeEm(-slant)},{type:"kern",size:sub.kern},{type:"elem",elem:base}]},options)}else{if(!sup)return base;var _bottom=base.depth+baseShift;finalGroup=buildCommon.makeVList({positionType:"bottom",positionData:_bottom,children:[{type:"elem",elem:base},{type:"kern",size:sup.kern},{type:"elem",elem:sup.elem,marginLeft:makeEm(slant)},{type:"kern",size:options.fontMetrics().bigOpSpacing5}]},options)}var parts=[finalGroup];if(sub&&0!==slant&&!subIsSingleCharacter){var spacer=buildCommon.makeSpan(["mspace"],[],options);spacer.style.marginRight=makeEm(slant),parts.unshift(spacer)}return buildCommon.makeSpan(["mop","op-limits"],parts,options)},noSuccessor=["\\smallint"],htmlBuilder$2=(grp,options)=>{var supGroup,subGroup,group,hasLimits=!1;"supsub"===grp.type?(supGroup=grp.sup,subGroup=grp.sub,group=assertNodeType(grp.base,"op"),hasLimits=!0):group=assertNodeType(grp,"op");var base,style=options.style,large=!1;if(style.size===Style$1.DISPLAY.size&&group.symbol&&!utils.contains(noSuccessor,group.name)&&(large=!0),group.symbol){var fontName=large?"Size2-Regular":"Size1-Regular",stash="";if("\\oiint"!==group.name&&"\\oiiint"!==group.name||(stash=group.name.slice(1),group.name="oiint"===stash?"\\iint":"\\iiint"),base=buildCommon.makeSymbol(group.name,fontName,"math",options,["mop","op-symbol",large?"large-op":"small-op"]),stash.length>0){var italic=base.italic,oval=buildCommon.staticSvg(stash+"Size"+(large?"2":"1"),options);base=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:base,shift:0},{type:"elem",elem:oval,shift:large?.08:0}]},options),group.name="\\"+stash,base.classes.unshift("mop"),base.italic=italic}}else if(group.body){var inner=buildExpression$1(group.body,options,!0);1===inner.length&&inner[0]instanceof SymbolNode?(base=inner[0]).classes[0]="mop":base=buildCommon.makeSpan(["mop"],inner,options)}else{for(var output=[],i=1;i<group.name.length;i++)output.push(buildCommon.mathsym(group.name[i],group.mode,options));base=buildCommon.makeSpan(["mop"],output,options)}var baseShift=0,slant=0;return(base instanceof SymbolNode||"\\oiint"===group.name||"\\oiiint"===group.name)&&!group.suppressBaseShift&&(baseShift=(base.height-base.depth)/2-options.fontMetrics().axisHeight,slant=base.italic),hasLimits?assembleSupSub(base,supGroup,subGroup,options,style,slant,baseShift):(baseShift&&(base.style.position="relative",base.style.top=makeEm(baseShift)),base)},mathmlBuilder$1=(group,options)=>{var node;if(group.symbol)node=new MathNode("mo",[makeText(group.name,group.mode)]),utils.contains(noSuccessor,group.name)&&node.setAttribute("largeop","false");else if(group.body)node=new MathNode("mo",buildExpression(group.body,options));else{node=new MathNode("mi",[new TextNode(group.name.slice(1))]);var operator=new MathNode("mo",[makeText("⁡","text")]);node=group.parentIsSupSub?new MathNode("mrow",[node,operator]):newDocumentFragment([node,operator])}return node},singleCharBigOps={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(_ref,args)=>{var{parser,funcName}=_ref,fName=funcName;return 1===fName.length&&(fName=singleCharBigOps[fName]),{type:"op",mode:parser.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:fName}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(_ref2,args)=>{var{parser}=_ref2,body=args[0];return{type:"op",mode:parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(body)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(_ref3){var{parser,funcName}=_ref3;return{type:"op",mode:parser.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:funcName}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(_ref4){var{parser,funcName}=_ref4;return{type:"op",mode:parser.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:funcName}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1}),defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(_ref5){var{parser,funcName}=_ref5,fName=funcName;return 1===fName.length&&(fName=singleCharIntegrals[fName]),{type:"op",mode:parser.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:fName}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(grp,options)=>{var supGroup,subGroup,group,base,hasLimits=!1;if("supsub"===grp.type?(supGroup=grp.sup,subGroup=grp.sub,group=assertNodeType(grp.base,"operatorname"),hasLimits=!0):group=assertNodeType(grp,"operatorname"),group.body.length>0){for(var body=group.body.map((child=>{var childText=child.text;return"string"==typeof childText?{type:"textord",mode:child.mode,text:childText}:child})),expression=buildExpression$1(body,options.withFont("mathrm"),!0),i=0;i<expression.length;i++){var child=expression[i];child instanceof SymbolNode&&(child.text=child.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}base=buildCommon.makeSpan(["mop"],expression,options)}else base=buildCommon.makeSpan(["mop"],[],options);return hasLimits?assembleSupSub(base,supGroup,subGroup,options,options.style,0,0):base};function sizingGroup(value,options,baseOptions){for(var inner=buildExpression$1(value,options,!1),multiplier=options.sizeMultiplier/baseOptions.sizeMultiplier,i=0;i<inner.length;i++){var pos=inner[i].classes.indexOf("sizing");pos<0?Array.prototype.push.apply(inner[i].classes,options.sizingClasses(baseOptions)):inner[i].classes[pos+1]==="reset-size"+options.size&&(inner[i].classes[pos+1]="reset-size"+baseOptions.size),inner[i].height*=multiplier,inner[i].depth*=multiplier}return buildCommon.makeFragment(inner)}defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(_ref,args)=>{var{parser,funcName}=_ref,body=args[0];return{type:"operatorname",mode:parser.mode,body:ordargument(body),alwaysHandleSupSub:"\\operatornamewithlimits"===funcName,limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder:(group,options)=>{for(var expression=buildExpression(group.body,options.withFont("mathrm")),isAllString=!0,i=0;i<expression.length;i++){var node=expression[i];if(node instanceof mathMLTree.SpaceNode);else if(node instanceof mathMLTree.MathNode)switch(node.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var child=node.children[0];1===node.children.length&&child instanceof mathMLTree.TextNode?child.text=child.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):isAllString=!1;break;default:isAllString=!1}else isAllString=!1}if(isAllString){var word=expression.map((node=>node.toText())).join("");expression=[new mathMLTree.TextNode(word)]}var identifier=new mathMLTree.MathNode("mi",expression);identifier.setAttribute("mathvariant","normal");var operator=new mathMLTree.MathNode("mo",[makeText("⁡","text")]);return group.parentIsSupSub?new mathMLTree.MathNode("mrow",[identifier,operator]):mathMLTree.newDocumentFragment([identifier,operator])}}),defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),defineFunctionBuilders({type:"ordgroup",htmlBuilder:(group,options)=>group.semisimple?buildCommon.makeFragment(buildExpression$1(group.body,options,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(group.body,options,!0),options),mathmlBuilder:(group,options)=>buildExpressionRow(group.body,options,!0)}),defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(_ref,args){var{parser}=_ref,body=args[0];return{type:"overline",mode:parser.mode,body}},htmlBuilder(group,options){var innerGroup=buildGroup$1(group.body,options.havingCrampedStyle()),line=buildCommon.makeLineSpan("overline-line",options),defaultRuleThickness=options.fontMetrics().defaultRuleThickness,vlist=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:innerGroup},{type:"kern",size:3*defaultRuleThickness},{type:"elem",elem:line},{type:"kern",size:defaultRuleThickness}]},options);return buildCommon.makeSpan(["mord","overline"],[vlist],options)},mathmlBuilder(group,options){var operator=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);operator.setAttribute("stretchy","true");var node=new mathMLTree.MathNode("mover",[buildGroup(group.body,options),operator]);return node.setAttribute("accent","true"),node}}),defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(_ref,args)=>{var{parser}=_ref,body=args[0];return{type:"phantom",mode:parser.mode,body:ordargument(body)}},htmlBuilder:(group,options)=>{var elements=buildExpression$1(group.body,options.withPhantom(),!1);return buildCommon.makeFragment(elements)},mathmlBuilder:(group,options)=>{var inner=buildExpression(group.body,options);return new mathMLTree.MathNode("mphantom",inner)}}),defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(_ref2,args)=>{var{parser}=_ref2,body=args[0];return{type:"hphantom",mode:parser.mode,body}},htmlBuilder:(group,options)=>{var node=buildCommon.makeSpan([],[buildGroup$1(group.body,options.withPhantom())]);if(node.height=0,node.depth=0,node.children)for(var i=0;i<node.children.length;i++)node.children[i].height=0,node.children[i].depth=0;return node=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:node}]},options),buildCommon.makeSpan(["mord"],[node],options)},mathmlBuilder:(group,options)=>{var inner=buildExpression(ordargument(group.body),options),phantom=new mathMLTree.MathNode("mphantom",inner),node=new mathMLTree.MathNode("mpadded",[phantom]);return node.setAttribute("height","0px"),node.setAttribute("depth","0px"),node}}),defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(_ref3,args)=>{var{parser}=_ref3,body=args[0];return{type:"vphantom",mode:parser.mode,body}},htmlBuilder:(group,options)=>{var inner=buildCommon.makeSpan(["inner"],[buildGroup$1(group.body,options.withPhantom())]),fix=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[inner,fix],options)},mathmlBuilder:(group,options)=>{var inner=buildExpression(ordargument(group.body),options),phantom=new mathMLTree.MathNode("mphantom",inner),node=new mathMLTree.MathNode("mpadded",[phantom]);return node.setAttribute("width","0px"),node}}),defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(_ref,args){var{parser}=_ref,amount=assertNodeType(args[0],"size").value,body=args[1];return{type:"raisebox",mode:parser.mode,dy:amount,body}},htmlBuilder(group,options){var body=buildGroup$1(group.body,options),dy=calculateSize(group.dy,options);return buildCommon.makeVList({positionType:"shift",positionData:-dy,children:[{type:"elem",elem:body}]},options)},mathmlBuilder(group,options){var node=new mathMLTree.MathNode("mpadded",[buildGroup(group.body,options)]),dy=group.dy.number+group.dy.unit;return node.setAttribute("voffset",dy),node}}),defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(_ref){var{parser}=_ref;return{type:"internal",mode:parser.mode}}}),defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(_ref,args,optArgs){var{parser}=_ref,shift=optArgs[0],width=assertNodeType(args[0],"size"),height=assertNodeType(args[1],"size");return{type:"rule",mode:parser.mode,shift:shift&&assertNodeType(shift,"size").value,width:width.value,height:height.value}},htmlBuilder(group,options){var rule=buildCommon.makeSpan(["mord","rule"],[],options),width=calculateSize(group.width,options),height=calculateSize(group.height,options),shift=group.shift?calculateSize(group.shift,options):0;return rule.style.borderRightWidth=makeEm(width),rule.style.borderTopWidth=makeEm(height),rule.style.bottom=makeEm(shift),rule.width=width,rule.height=height+shift,rule.depth=-shift,rule.maxFontSize=1.125*height*options.sizeMultiplier,rule},mathmlBuilder(group,options){var width=calculateSize(group.width,options),height=calculateSize(group.height,options),shift=group.shift?calculateSize(group.shift,options):0,color=options.color&&options.getColor()||"black",rule=new mathMLTree.MathNode("mspace");rule.setAttribute("mathbackground",color),rule.setAttribute("width",makeEm(width)),rule.setAttribute("height",makeEm(height));var wrapper=new mathMLTree.MathNode("mpadded",[rule]);return shift>=0?wrapper.setAttribute("height",makeEm(shift)):(wrapper.setAttribute("height",makeEm(shift)),wrapper.setAttribute("depth",makeEm(-shift))),wrapper.setAttribute("voffset",makeEm(shift)),wrapper}});var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(_ref,args)=>{var{breakOnTokenText,funcName,parser}=_ref,body=parser.parseExpression(!1,breakOnTokenText);return{type:"sizing",mode:parser.mode,size:sizeFuncs.indexOf(funcName)+1,body}},htmlBuilder:(group,options)=>{var newOptions=options.havingSize(group.size);return sizingGroup(group.body,newOptions,options)},mathmlBuilder:(group,options)=>{var newOptions=options.havingSize(group.size),inner=buildExpression(group.body,newOptions),node=new mathMLTree.MathNode("mstyle",inner);return node.setAttribute("mathsize",makeEm(newOptions.sizeMultiplier)),node}}),defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(_ref,args,optArgs)=>{var{parser}=_ref,smashHeight=!1,smashDepth=!1,tbArg=optArgs[0]&&assertNodeType(optArgs[0],"ordgroup");if(tbArg)for(var letter="",i=0;i<tbArg.body.length;++i){if("t"===(letter=tbArg.body[i].text))smashHeight=!0;else{if("b"!==letter){smashHeight=!1,smashDepth=!1;break}smashDepth=!0}}else smashHeight=!0,smashDepth=!0;var body=args[0];return{type:"smash",mode:parser.mode,body,smashHeight,smashDepth}},htmlBuilder:(group,options)=>{var node=buildCommon.makeSpan([],[buildGroup$1(group.body,options)]);if(!group.smashHeight&&!group.smashDepth)return node;if(group.smashHeight&&(node.height=0,node.children))for(var i=0;i<node.children.length;i++)node.children[i].height=0;if(group.smashDepth&&(node.depth=0,node.children))for(var _i=0;_i<node.children.length;_i++)node.children[_i].depth=0;var smashedNode=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:node}]},options);return buildCommon.makeSpan(["mord"],[smashedNode],options)},mathmlBuilder:(group,options)=>{var node=new mathMLTree.MathNode("mpadded",[buildGroup(group.body,options)]);return group.smashHeight&&node.setAttribute("height","0px"),group.smashDepth&&node.setAttribute("depth","0px"),node}}),defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(_ref,args,optArgs){var{parser}=_ref,index=optArgs[0],body=args[0];return{type:"sqrt",mode:parser.mode,body,index}},htmlBuilder(group,options){var inner=buildGroup$1(group.body,options.havingCrampedStyle());0===inner.height&&(inner.height=options.fontMetrics().xHeight),inner=buildCommon.wrapFragment(inner,options);var theta=options.fontMetrics().defaultRuleThickness,phi=theta;options.style.id<Style$1.TEXT.id&&(phi=options.fontMetrics().xHeight);var lineClearance=theta+phi/4,minDelimiterHeight=inner.height+inner.depth+lineClearance+theta,{span:img,ruleWidth,advanceWidth}=delimiter.sqrtImage(minDelimiterHeight,options),delimDepth=img.height-ruleWidth;delimDepth>inner.height+inner.depth+lineClearance&&(lineClearance=(lineClearance+delimDepth-inner.height-inner.depth)/2);var imgShift=img.height-inner.height-lineClearance-ruleWidth;inner.style.paddingLeft=makeEm(advanceWidth);var body=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:inner,wrapperClasses:["svg-align"]},{type:"kern",size:-(inner.height+imgShift)},{type:"elem",elem:img},{type:"kern",size:ruleWidth}]},options);if(group.index){var newOptions=options.havingStyle(Style$1.SCRIPTSCRIPT),rootm=buildGroup$1(group.index,newOptions,options),toShift=.6*(body.height-body.depth),rootVList=buildCommon.makeVList({positionType:"shift",positionData:-toShift,children:[{type:"elem",elem:rootm}]},options),rootVListWrap=buildCommon.makeSpan(["root"],[rootVList]);return buildCommon.makeSpan(["mord","sqrt"],[rootVListWrap,body],options)}return buildCommon.makeSpan(["mord","sqrt"],[body],options)},mathmlBuilder(group,options){var{body,index}=group;return index?new mathMLTree.MathNode("mroot",[buildGroup(body,options),buildGroup(index,options)]):new mathMLTree.MathNode("msqrt",[buildGroup(body,options)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(_ref,args){var{breakOnTokenText,funcName,parser}=_ref,body=parser.parseExpression(!0,breakOnTokenText),style=funcName.slice(1,funcName.length-5);return{type:"styling",mode:parser.mode,style,body}},htmlBuilder(group,options){var newStyle=styleMap[group.style],newOptions=options.havingStyle(newStyle).withFont("");return sizingGroup(group.body,newOptions,options)},mathmlBuilder(group,options){var newStyle=styleMap[group.style],newOptions=options.havingStyle(newStyle),inner=buildExpression(group.body,newOptions),node=new mathMLTree.MathNode("mstyle",inner),attr={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[group.style];return node.setAttribute("scriptlevel",attr[0]),node.setAttribute("displaystyle",attr[1]),node}});defineFunctionBuilders({type:"supsub",htmlBuilder(group,options){var builderDelegate=function htmlBuilderDelegate(group,options){var base=group.base;return base?"op"===base.type?base.limits&&(options.style.size===Style$1.DISPLAY.size||base.alwaysHandleSupSub)?htmlBuilder$2:null:"operatorname"===base.type?base.alwaysHandleSupSub&&(options.style.size===Style$1.DISPLAY.size||base.limits)?htmlBuilder$1:null:"accent"===base.type?utils.isCharacterBox(base.base)?htmlBuilder$a:null:"horizBrace"===base.type&&!group.sub===base.isOver?htmlBuilder$3:null:null}(group,options);if(builderDelegate)return builderDelegate(group,options);var supm,subm,minSupShift,{base:valueBase,sup:valueSup,sub:valueSub}=group,base=buildGroup$1(valueBase,options),metrics=options.fontMetrics(),supShift=0,subShift=0,isCharacterBox=valueBase&&utils.isCharacterBox(valueBase);if(valueSup){var newOptions=options.havingStyle(options.style.sup());supm=buildGroup$1(valueSup,newOptions,options),isCharacterBox||(supShift=base.height-newOptions.fontMetrics().supDrop*newOptions.sizeMultiplier/options.sizeMultiplier)}if(valueSub){var _newOptions=options.havingStyle(options.style.sub());subm=buildGroup$1(valueSub,_newOptions,options),isCharacterBox||(subShift=base.depth+_newOptions.fontMetrics().subDrop*_newOptions.sizeMultiplier/options.sizeMultiplier)}minSupShift=options.style===Style$1.DISPLAY?metrics.sup1:options.style.cramped?metrics.sup3:metrics.sup2;var supsub,multiplier=options.sizeMultiplier,marginRight=makeEm(.5/metrics.ptPerEm/multiplier),marginLeft=null;if(subm){var isOiint=group.base&&"op"===group.base.type&&group.base.name&&("\\oiint"===group.base.name||"\\oiiint"===group.base.name);(base instanceof SymbolNode||isOiint)&&(marginLeft=makeEm(-base.italic))}if(supm&&subm){supShift=Math.max(supShift,minSupShift,supm.depth+.25*metrics.xHeight),subShift=Math.max(subShift,metrics.sub2);var maxWidth=4*metrics.defaultRuleThickness;if(supShift-supm.depth-(subm.height-subShift)<maxWidth){subShift=maxWidth-(supShift-supm.depth)+subm.height;var psi=.8*metrics.xHeight-(supShift-supm.depth);psi>0&&(supShift+=psi,subShift-=psi)}var vlistElem=[{type:"elem",elem:subm,shift:subShift,marginRight,marginLeft},{type:"elem",elem:supm,shift:-supShift,marginRight}];supsub=buildCommon.makeVList({positionType:"individualShift",children:vlistElem},options)}else if(subm){subShift=Math.max(subShift,metrics.sub1,subm.height-.8*metrics.xHeight);var _vlistElem=[{type:"elem",elem:subm,marginLeft,marginRight}];supsub=buildCommon.makeVList({positionType:"shift",positionData:subShift,children:_vlistElem},options)}else{if(!supm)throw new Error("supsub must have either sup or sub.");supShift=Math.max(supShift,minSupShift,supm.depth+.25*metrics.xHeight),supsub=buildCommon.makeVList({positionType:"shift",positionData:-supShift,children:[{type:"elem",elem:supm,marginRight}]},options)}var mclass=getTypeOfDomTree(base,"right")||"mord";return buildCommon.makeSpan([mclass],[base,buildCommon.makeSpan(["msupsub"],[supsub])],options)},mathmlBuilder(group,options){var isOver,isBrace=!1;group.base&&"horizBrace"===group.base.type&&!!group.sup===group.base.isOver&&(isBrace=!0,isOver=group.base.isOver),!group.base||"op"!==group.base.type&&"operatorname"!==group.base.type||(group.base.parentIsSupSub=!0);var nodeType,children=[buildGroup(group.base,options)];if(group.sub&&children.push(buildGroup(group.sub,options)),group.sup&&children.push(buildGroup(group.sup,options)),isBrace)nodeType=isOver?"mover":"munder";else if(group.sub)if(group.sup){var _base2=group.base;nodeType=_base2&&"op"===_base2.type&&_base2.limits&&options.style===Style$1.DISPLAY||_base2&&"operatorname"===_base2.type&&_base2.alwaysHandleSupSub&&(options.style===Style$1.DISPLAY||_base2.limits)?"munderover":"msubsup"}else{var _base=group.base;nodeType=_base&&"op"===_base.type&&_base.limits&&(options.style===Style$1.DISPLAY||_base.alwaysHandleSupSub)||_base&&"operatorname"===_base.type&&_base.alwaysHandleSupSub&&(_base.limits||options.style===Style$1.DISPLAY)?"munder":"msub"}else{var base=group.base;nodeType=base&&"op"===base.type&&base.limits&&(options.style===Style$1.DISPLAY||base.alwaysHandleSupSub)||base&&"operatorname"===base.type&&base.alwaysHandleSupSub&&(base.limits||options.style===Style$1.DISPLAY)?"mover":"msup"}return new mathMLTree.MathNode(nodeType,children)}}),defineFunctionBuilders({type:"atom",htmlBuilder:(group,options)=>buildCommon.mathsym(group.text,group.mode,options,["m"+group.family]),mathmlBuilder(group,options){var node=new mathMLTree.MathNode("mo",[makeText(group.text,group.mode)]);if("bin"===group.family){var variant=getVariant(group,options);"bold-italic"===variant&&node.setAttribute("mathvariant",variant)}else"punct"===group.family?node.setAttribute("separator","true"):"open"!==group.family&&"close"!==group.family||node.setAttribute("stretchy","false");return node}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder:(group,options)=>buildCommon.makeOrd(group,options,"mathord"),mathmlBuilder(group,options){var node=new mathMLTree.MathNode("mi",[makeText(group.text,group.mode,options)]),variant=getVariant(group,options)||"italic";return variant!==defaultVariant[node.type]&&node.setAttribute("mathvariant",variant),node}}),defineFunctionBuilders({type:"textord",htmlBuilder:(group,options)=>buildCommon.makeOrd(group,options,"textord"),mathmlBuilder(group,options){var node,text=makeText(group.text,group.mode,options),variant=getVariant(group,options)||"normal";return node="text"===group.mode?new mathMLTree.MathNode("mtext",[text]):/[0-9]/.test(group.text)?new mathMLTree.MathNode("mn",[text]):"\\prime"===group.text?new mathMLTree.MathNode("mo",[text]):new mathMLTree.MathNode("mi",[text]),variant!==defaultVariant[node.type]&&node.setAttribute("mathvariant",variant),node}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(group,options){if(regularSpace.hasOwnProperty(group.text)){var className=regularSpace[group.text].className||"";if("text"===group.mode){var ord=buildCommon.makeOrd(group,options,"textord");return ord.classes.push(className),ord}return buildCommon.makeSpan(["mspace",className],[buildCommon.mathsym(group.text,group.mode,options)],options)}if(cssSpace.hasOwnProperty(group.text))return buildCommon.makeSpan(["mspace",cssSpace[group.text]],[],options);throw new ParseError('Unknown type of space "'+group.text+'"')},mathmlBuilder(group,options){if(!regularSpace.hasOwnProperty(group.text)){if(cssSpace.hasOwnProperty(group.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+group.text+'"')}return new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode(" ")])}});var pad=()=>{var padNode=new mathMLTree.MathNode("mtd",[]);return padNode.setAttribute("width","50%"),padNode};defineFunctionBuilders({type:"tag",mathmlBuilder(group,options){var table=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(group.body,options)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(group.tag,options)])])]);return table.setAttribute("width","100%"),table}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(group,options)=>{var font=group.font;return font?textFontFamilies[font]?options.withTextFontFamily(textFontFamilies[font]):textFontWeights[font]?options.withTextFontWeight(textFontWeights[font]):options.withTextFontShape(textFontShapes[font]):options};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(_ref,args){var{parser,funcName}=_ref,body=args[0];return{type:"text",mode:parser.mode,body:ordargument(body),font:funcName}},htmlBuilder(group,options){var newOptions=optionsWithFont(group,options),inner=buildExpression$1(group.body,newOptions,!0);return buildCommon.makeSpan(["mord","text"],inner,newOptions)},mathmlBuilder(group,options){var newOptions=optionsWithFont(group,options);return buildExpressionRow(group.body,newOptions)}}),defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(_ref,args){var{parser}=_ref;return{type:"underline",mode:parser.mode,body:args[0]}},htmlBuilder(group,options){var innerGroup=buildGroup$1(group.body,options),line=buildCommon.makeLineSpan("underline-line",options),defaultRuleThickness=options.fontMetrics().defaultRuleThickness,vlist=buildCommon.makeVList({positionType:"top",positionData:innerGroup.height,children:[{type:"kern",size:defaultRuleThickness},{type:"elem",elem:line},{type:"kern",size:3*defaultRuleThickness},{type:"elem",elem:innerGroup}]},options);return buildCommon.makeSpan(["mord","underline"],[vlist],options)},mathmlBuilder(group,options){var operator=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("‾")]);operator.setAttribute("stretchy","true");var node=new mathMLTree.MathNode("munder",[buildGroup(group.body,options),operator]);return node.setAttribute("accentunder","true"),node}}),defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(_ref,args){var{parser}=_ref;return{type:"vcenter",mode:parser.mode,body:args[0]}},htmlBuilder(group,options){var body=buildGroup$1(group.body,options),axisHeight=options.fontMetrics().axisHeight,dy=.5*(body.height-axisHeight-(body.depth+axisHeight));return buildCommon.makeVList({positionType:"shift",positionData:dy,children:[{type:"elem",elem:body}]},options)},mathmlBuilder:(group,options)=>new mathMLTree.MathNode("mpadded",[buildGroup(group.body,options)],["vcenter"])}),defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(context,args,optArgs){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(group,options){for(var text=makeVerb(group),body=[],newOptions=options.havingStyle(options.style.text()),i=0;i<text.length;i++){var c=text[i];"~"===c&&(c="\\textasciitilde"),body.push(buildCommon.makeSymbol(c,"Typewriter-Regular",group.mode,newOptions,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(newOptions.sizingClasses(options)),buildCommon.tryCombineChars(body),newOptions)},mathmlBuilder(group,options){var text=new mathMLTree.TextNode(makeVerb(group)),node=new mathMLTree.MathNode("mtext",[text]);return node.setAttribute("mathvariant","monospace"),node}});var makeVerb=group=>group.body.replace(/ /g,group.star?"␣":" "),functions=_functions,combiningDiacriticalMarksEndRegex=new RegExp("[̀-ͯ]+$");class Lexer{constructor(input,settings){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=input,this.settings=settings,this.tokenRegex=new RegExp("([ \r\n\t]+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿][̀-ͯ]*|[\ud800-\udbff][\udc00-\udfff][̀-ͯ]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r\n\t]*|\\\\[^\ud800-\udfff])","g"),this.catcodes={"%":14,"~":13}}setCatcode(char,code){this.catcodes[char]=code}lex(){var input=this.input,pos=this.tokenRegex.lastIndex;if(pos===input.length)return new Token("EOF",new SourceLocation(this,pos,pos));var match=this.tokenRegex.exec(input);if(null===match||match.index!==pos)throw new ParseError("Unexpected character: '"+input[pos]+"'",new Token(input[pos],new SourceLocation(this,pos,pos+1)));var text=match[6]||match[3]||(match[2]?"\\ ":" ");if(14===this.catcodes[text]){var nlIndex=input.indexOf("\n",this.tokenRegex.lastIndex);return-1===nlIndex?(this.tokenRegex.lastIndex=input.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=nlIndex+1,this.lex()}return new Token(text,new SourceLocation(this,pos,this.tokenRegex.lastIndex))}}class Namespace{constructor(builtins,globalMacros){void 0===builtins&&(builtins={}),void 0===globalMacros&&(globalMacros={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=globalMacros,this.builtins=builtins,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var undefs=this.undefStack.pop();for(var undef in undefs)undefs.hasOwnProperty(undef)&&(null==undefs[undef]?delete this.current[undef]:this.current[undef]=undefs[undef])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(name){return this.current.hasOwnProperty(name)||this.builtins.hasOwnProperty(name)}get(name){return this.current.hasOwnProperty(name)?this.current[name]:this.builtins[name]}set(name,value,global){if(void 0===global&&(global=!1),global){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][name];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][name]=value)}else{var top=this.undefStack[this.undefStack.length-1];top&&!top.hasOwnProperty(name)&&(top[name]=this.current[name])}null==value?delete this.current[name]:this.current[name]=value}}var macros=_macros;defineMacro("\\noexpand",(function(context){var t=context.popToken();return context.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),defineMacro("\\expandafter",(function(context){var t=context.popToken();return context.expandOnce(!0),{tokens:[t],numArgs:0}})),defineMacro("\\@firstoftwo",(function(context){return{tokens:context.consumeArgs(2)[0],numArgs:0}})),defineMacro("\\@secondoftwo",(function(context){return{tokens:context.consumeArgs(2)[1],numArgs:0}})),defineMacro("\\@ifnextchar",(function(context){var args=context.consumeArgs(3);context.consumeSpaces();var nextToken=context.future();return 1===args[0].length&&args[0][0].text===nextToken.text?{tokens:args[1],numArgs:0}:{tokens:args[2],numArgs:0}})),defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),defineMacro("\\TextOrMath",(function(context){var args=context.consumeArgs(2);return"text"===context.mode?{tokens:args[0],numArgs:0}:{tokens:args[1],numArgs:0}}));var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",(function(context){var base,token=context.popToken(),number="";if("'"===token.text)base=8,token=context.popToken();else if('"'===token.text)base=16,token=context.popToken();else if("`"===token.text)if("\\"===(token=context.popToken()).text[0])number=token.text.charCodeAt(1);else{if("EOF"===token.text)throw new ParseError("\\char` missing argument");number=token.text.charCodeAt(0)}else base=10;if(base){if(null==(number=digitToNumber[token.text])||number>=base)throw new ParseError("Invalid base-"+base+" digit "+token.text);for(var digit;null!=(digit=digitToNumber[context.future().text])&&digit<base;)number*=base,number+=digit,context.popToken()}return"\\@char{"+number+"}"}));var newcommand=(context,existsOK,nonexistsOK)=>{var arg=context.consumeArg().tokens;if(1!==arg.length)throw new ParseError("\\newcommand's first argument must be a macro name");var name=arg[0].text,exists=context.isDefined(name);if(exists&&!existsOK)throw new ParseError("\\newcommand{"+name+"} attempting to redefine "+name+"; use \\renewcommand");if(!exists&&!nonexistsOK)throw new ParseError("\\renewcommand{"+name+"} when command "+name+" does not yet exist; use \\newcommand");var numArgs=0;if(1===(arg=context.consumeArg().tokens).length&&"["===arg[0].text){for(var argText="",token=context.expandNextToken();"]"!==token.text&&"EOF"!==token.text;)argText+=token.text,token=context.expandNextToken();if(!argText.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+argText);numArgs=parseInt(argText),arg=context.consumeArg().tokens}return context.macros.set(name,{tokens:arg,numArgs}),""};defineMacro("\\newcommand",(context=>newcommand(context,!1,!0))),defineMacro("\\renewcommand",(context=>newcommand(context,!0,!1))),defineMacro("\\providecommand",(context=>newcommand(context,!0,!0))),defineMacro("\\message",(context=>{var arg=context.consumeArgs(1)[0];return console.log(arg.reverse().map((token=>token.text)).join("")),""})),defineMacro("\\errmessage",(context=>{var arg=context.consumeArgs(1)[0];return console.error(arg.reverse().map((token=>token.text)).join("")),""})),defineMacro("\\show",(context=>{var tok=context.popToken(),name=tok.text;return console.log(tok,context.macros.get(name),functions[name],symbols.math[name],symbols.text[name]),""})),defineMacro("\\bgroup","{"),defineMacro("\\egroup","}"),defineMacro("~","\\nobreakspace"),defineMacro("\\lq","`"),defineMacro("\\rq","'"),defineMacro("\\aa","\\r a"),defineMacro("\\AA","\\r A"),defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),defineMacro("ℬ","\\mathscr{B}"),defineMacro("ℰ","\\mathscr{E}"),defineMacro("ℱ","\\mathscr{F}"),defineMacro("ℋ","\\mathscr{H}"),defineMacro("ℐ","\\mathscr{I}"),defineMacro("ℒ","\\mathscr{L}"),defineMacro("ℳ","\\mathscr{M}"),defineMacro("ℛ","\\mathscr{R}"),defineMacro("ℭ","\\mathfrak{C}"),defineMacro("ℌ","\\mathfrak{H}"),defineMacro("ℨ","\\mathfrak{Z}"),defineMacro("\\Bbbk","\\Bbb{k}"),defineMacro("·","\\cdotp"),defineMacro("\\llap","\\mathllap{\\textrm{#1}}"),defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}"),defineMacro("\\clap","\\mathclap{\\textrm{#1}}"),defineMacro("\\mathstrut","\\vphantom{(}"),defineMacro("\\underbar","\\underline{\\text{#1}}"),defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),defineMacro("\\ne","\\neq"),defineMacro("≠","\\neq"),defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),defineMacro("∉","\\notin"),defineMacro("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),defineMacro("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),defineMacro("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),defineMacro("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),defineMacro("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),defineMacro("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),defineMacro("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),defineMacro("⟂","\\perp"),defineMacro("‼","\\mathclose{!\\mkern-0.8mu!}"),defineMacro("∌","\\notni"),defineMacro("⌜","\\ulcorner"),defineMacro("⌝","\\urcorner"),defineMacro("⌞","\\llcorner"),defineMacro("⌟","\\lrcorner"),defineMacro("©","\\copyright"),defineMacro("®","\\textregistered"),defineMacro("️","\\textregistered"),defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),defineMacro("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),defineMacro("⋮","\\vdots"),defineMacro("\\varGamma","\\mathit{\\Gamma}"),defineMacro("\\varDelta","\\mathit{\\Delta}"),defineMacro("\\varTheta","\\mathit{\\Theta}"),defineMacro("\\varLambda","\\mathit{\\Lambda}"),defineMacro("\\varXi","\\mathit{\\Xi}"),defineMacro("\\varPi","\\mathit{\\Pi}"),defineMacro("\\varSigma","\\mathit{\\Sigma}"),defineMacro("\\varUpsilon","\\mathit{\\Upsilon}"),defineMacro("\\varPhi","\\mathit{\\Phi}"),defineMacro("\\varPsi","\\mathit{\\Psi}"),defineMacro("\\varOmega","\\mathit{\\Omega}"),defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}"),defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",(function(context){var thedots="\\dotso",next=context.expandAfterFuture().text;return next in dotsByToken?thedots=dotsByToken[next]:("\\not"===next.slice(0,4)||next in symbols.math&&utils.contains(["bin","rel"],symbols.math[next].group))&&(thedots="\\dotsb"),thedots}));var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",(function(context){return context.future().text in spaceAfterDots?"\\ldots\\,":"\\ldots"})),defineMacro("\\dotsc",(function(context){var next=context.future().text;return next in spaceAfterDots&&","!==next?"\\ldots\\,":"\\ldots"})),defineMacro("\\cdots",(function(context){return context.future().text in spaceAfterDots?"\\@cdots\\,":"\\@cdots"})),defineMacro("\\dotsb","\\cdots"),defineMacro("\\dotsm","\\cdots"),defineMacro("\\dotsi","\\!\\cdots"),defineMacro("\\dotsx","\\ldots\\,"),defineMacro("\\DOTSI","\\relax"),defineMacro("\\DOTSB","\\relax"),defineMacro("\\DOTSX","\\relax"),defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),defineMacro("\\,","\\tmspace+{3mu}{.1667em}"),defineMacro("\\thinspace","\\,"),defineMacro("\\>","\\mskip{4mu}"),defineMacro("\\:","\\tmspace+{4mu}{.2222em}"),defineMacro("\\medspace","\\:"),defineMacro("\\;","\\tmspace+{5mu}{.2777em}"),defineMacro("\\thickspace","\\;"),defineMacro("\\!","\\tmspace-{3mu}{.1667em}"),defineMacro("\\negthinspace","\\!"),defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}"),defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}"),defineMacro("\\enspace","\\kern.5em "),defineMacro("\\enskip","\\hskip.5em\\relax"),defineMacro("\\quad","\\hskip1em\\relax"),defineMacro("\\qquad","\\hskip2em\\relax"),defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren"),defineMacro("\\tag@paren","\\tag@literal{({#1})}"),defineMacro("\\tag@literal",(context=>{if(context.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),defineMacro("\\newline","\\\\\\relax"),defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"]["T".charCodeAt(0)][1]-.7*fontMetricsData["Main-Regular"]["A".charCodeAt(0)][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),defineMacro("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace"),defineMacro("\\@hspace","\\hskip #1\\relax"),defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),defineMacro("\\ordinarycolon",":"),defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),defineMacro("∷","\\dblcolon"),defineMacro("∹","\\eqcolon"),defineMacro("≔","\\coloneqq"),defineMacro("≕","\\eqqcolon"),defineMacro("⩴","\\Coloneqq"),defineMacro("\\ratio","\\vcentcolon"),defineMacro("\\coloncolon","\\dblcolon"),defineMacro("\\colonequals","\\coloneqq"),defineMacro("\\coloncolonequals","\\Coloneqq"),defineMacro("\\equalscolon","\\eqqcolon"),defineMacro("\\equalscoloncolon","\\Eqqcolon"),defineMacro("\\colonminus","\\coloneq"),defineMacro("\\coloncolonminus","\\Coloneq"),defineMacro("\\minuscolon","\\eqcolon"),defineMacro("\\minuscoloncolon","\\Eqcolon"),defineMacro("\\coloncolonapprox","\\Colonapprox"),defineMacro("\\coloncolonsim","\\Colonsim"),defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),defineMacro("\\imath","\\html@mathml{\\@imath}{ı}"),defineMacro("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),defineMacro("⟦","\\llbracket"),defineMacro("⟧","\\rrbracket"),defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),defineMacro("⦃","\\lBrace"),defineMacro("⦄","\\rBrace"),defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),defineMacro("⦵","\\minuso"),defineMacro("\\darr","\\downarrow"),defineMacro("\\dArr","\\Downarrow"),defineMacro("\\Darr","\\Downarrow"),defineMacro("\\lang","\\langle"),defineMacro("\\rang","\\rangle"),defineMacro("\\uarr","\\uparrow"),defineMacro("\\uArr","\\Uparrow"),defineMacro("\\Uarr","\\Uparrow"),defineMacro("\\N","\\mathbb{N}"),defineMacro("\\R","\\mathbb{R}"),defineMacro("\\Z","\\mathbb{Z}"),defineMacro("\\alef","\\aleph"),defineMacro("\\alefsym","\\aleph"),defineMacro("\\Alpha","\\mathrm{A}"),defineMacro("\\Beta","\\mathrm{B}"),defineMacro("\\bull","\\bullet"),defineMacro("\\Chi","\\mathrm{X}"),defineMacro("\\clubs","\\clubsuit"),defineMacro("\\cnums","\\mathbb{C}"),defineMacro("\\Complex","\\mathbb{C}"),defineMacro("\\Dagger","\\ddagger"),defineMacro("\\diamonds","\\diamondsuit"),defineMacro("\\empty","\\emptyset"),defineMacro("\\Epsilon","\\mathrm{E}"),defineMacro("\\Eta","\\mathrm{H}"),defineMacro("\\exist","\\exists"),defineMacro("\\harr","\\leftrightarrow"),defineMacro("\\hArr","\\Leftrightarrow"),defineMacro("\\Harr","\\Leftrightarrow"),defineMacro("\\hearts","\\heartsuit"),defineMacro("\\image","\\Im"),defineMacro("\\infin","\\infty"),defineMacro("\\Iota","\\mathrm{I}"),defineMacro("\\isin","\\in"),defineMacro("\\Kappa","\\mathrm{K}"),defineMacro("\\larr","\\leftarrow"),defineMacro("\\lArr","\\Leftarrow"),defineMacro("\\Larr","\\Leftarrow"),defineMacro("\\lrarr","\\leftrightarrow"),defineMacro("\\lrArr","\\Leftrightarrow"),defineMacro("\\Lrarr","\\Leftrightarrow"),defineMacro("\\Mu","\\mathrm{M}"),defineMacro("\\natnums","\\mathbb{N}"),defineMacro("\\Nu","\\mathrm{N}"),defineMacro("\\Omicron","\\mathrm{O}"),defineMacro("\\plusmn","\\pm"),defineMacro("\\rarr","\\rightarrow"),defineMacro("\\rArr","\\Rightarrow"),defineMacro("\\Rarr","\\Rightarrow"),defineMacro("\\real","\\Re"),defineMacro("\\reals","\\mathbb{R}"),defineMacro("\\Reals","\\mathbb{R}"),defineMacro("\\Rho","\\mathrm{P}"),defineMacro("\\sdot","\\cdot"),defineMacro("\\sect","\\S"),defineMacro("\\spades","\\spadesuit"),defineMacro("\\sub","\\subset"),defineMacro("\\sube","\\subseteq"),defineMacro("\\supe","\\supseteq"),defineMacro("\\Tau","\\mathrm{T}"),defineMacro("\\thetasym","\\vartheta"),defineMacro("\\weierp","\\wp"),defineMacro("\\Zeta","\\mathrm{Z}"),defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),defineMacro("\\bra","\\mathinner{\\langle{#1}|}"),defineMacro("\\ket","\\mathinner{|{#1}\\rangle}"),defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}"),defineMacro("\\Bra","\\left\\langle#1\\right|"),defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=one=>context=>{var left=context.consumeArg().tokens,middle=context.consumeArg().tokens,middleDouble=context.consumeArg().tokens,right=context.consumeArg().tokens,oldMiddle=context.macros.get("|"),oldMiddleDouble=context.macros.get("\\|");context.macros.beginGroup();var midMacro=double=>context=>{one&&(context.macros.set("|",oldMiddle),middleDouble.length&&context.macros.set("\\|",oldMiddleDouble));var doubled=double;!double&&middleDouble.length&&("|"===context.future().text&&(context.popToken(),doubled=!0));return{tokens:doubled?middleDouble:middle,numArgs:0}};context.macros.set("|",midMacro(!1)),middleDouble.length&&context.macros.set("\\|",midMacro(!0));var arg=context.consumeArg().tokens,expanded=context.expandTokens([...right,...arg,...left]);return context.macros.endGroup(),{tokens:expanded.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1)),defineMacro("\\bra@set",braketHelper(!0)),defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),defineMacro("\\angln","{\\angl n}"),defineMacro("\\blue","\\textcolor{##6495ed}{#1}"),defineMacro("\\orange","\\textcolor{##ffa500}{#1}"),defineMacro("\\pink","\\textcolor{##ff00af}{#1}"),defineMacro("\\red","\\textcolor{##df0030}{#1}"),defineMacro("\\green","\\textcolor{##28ae7b}{#1}"),defineMacro("\\gray","\\textcolor{gray}{#1}"),defineMacro("\\purple","\\textcolor{##9d38bd}{#1}"),defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}"),defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}"),defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}"),defineMacro("\\blueD","\\textcolor{##11accd}{#1}"),defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}"),defineMacro("\\tealA","\\textcolor{##94fff5}{#1}"),defineMacro("\\tealB","\\textcolor{##26edd5}{#1}"),defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}"),defineMacro("\\tealD","\\textcolor{##01a995}{#1}"),defineMacro("\\tealE","\\textcolor{##208170}{#1}"),defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}"),defineMacro("\\greenB","\\textcolor{##8af281}{#1}"),defineMacro("\\greenC","\\textcolor{##74cf70}{#1}"),defineMacro("\\greenD","\\textcolor{##1fab54}{#1}"),defineMacro("\\greenE","\\textcolor{##0d923f}{#1}"),defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}"),defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}"),defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}"),defineMacro("\\goldD","\\textcolor{##e07d10}{#1}"),defineMacro("\\goldE","\\textcolor{##a75a05}{#1}"),defineMacro("\\redA","\\textcolor{##fca9a9}{#1}"),defineMacro("\\redB","\\textcolor{##ff8482}{#1}"),defineMacro("\\redC","\\textcolor{##f9685d}{#1}"),defineMacro("\\redD","\\textcolor{##e84d39}{#1}"),defineMacro("\\redE","\\textcolor{##bc2612}{#1}"),defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}"),defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}"),defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}"),defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}"),defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}"),defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}"),defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}"),defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}"),defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}"),defineMacro("\\purpleE","\\textcolor{##543b78}{#1}"),defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}"),defineMacro("\\mintB","\\textcolor{##edf2df}{#1}"),defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}"),defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}"),defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}"),defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}"),defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}"),defineMacro("\\grayE","\\textcolor{##babec2}{#1}"),defineMacro("\\grayF","\\textcolor{##888d93}{#1}"),defineMacro("\\grayG","\\textcolor{##626569}{#1}"),defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}"),defineMacro("\\grayI","\\textcolor{##21242c}{#1}"),defineMacro("\\kaBlue","\\textcolor{##314453}{#1}"),defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(input,settings,mode){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=settings,this.expansionCount=0,this.feed(input),this.macros=new Namespace(macros,settings.macros),this.mode=mode,this.stack=[]}feed(input){this.lexer=new Lexer(input,this.settings)}switchMode(newMode){this.mode=newMode}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(token){this.stack.push(token)}pushTokens(tokens){this.stack.push(...tokens)}scanArgument(isOptional){var start,end,tokens;if(isOptional){if(this.consumeSpaces(),"["!==this.future().text)return null;start=this.popToken(),({tokens,end}=this.consumeArg(["]"]))}else({tokens,start,end}=this.consumeArg());return this.pushToken(new Token("EOF",end.loc)),this.pushTokens(tokens),start.range(end,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(delims){var tokens=[],isDelimited=delims&&delims.length>0;isDelimited||this.consumeSpaces();var tok,start=this.future(),depth=0,match=0;do{if(tok=this.popToken(),tokens.push(tok),"{"===tok.text)++depth;else if("}"===tok.text){if(-1===--depth)throw new ParseError("Extra }",tok)}else if("EOF"===tok.text)throw new ParseError("Unexpected end of input in a macro argument, expected '"+(delims&&isDelimited?delims[match]:"}")+"'",tok);if(delims&&isDelimited)if((0===depth||1===depth&&"{"===delims[match])&&tok.text===delims[match]){if(++match===delims.length){tokens.splice(-match,match);break}}else match=0}while(0!==depth||isDelimited);return"{"===start.text&&"}"===tokens[tokens.length-1].text&&(tokens.pop(),tokens.shift()),tokens.reverse(),{tokens,start,end:tok}}consumeArgs(numArgs,delimiters){if(delimiters){if(delimiters.length!==numArgs+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var delims=delimiters[0],i=0;i<delims.length;i++){var tok=this.popToken();if(delims[i]!==tok.text)throw new ParseError("Use of the macro doesn't match its definition",tok)}}for(var args=[],_i=0;_i<numArgs;_i++)args.push(this.consumeArg(delimiters&&delimiters[_i+1]).tokens);return args}countExpansion(amount){if(this.expansionCount+=amount,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(expandableOnly){var topToken=this.popToken(),name=topToken.text,expansion=topToken.noexpand?null:this._getExpansion(name);if(null==expansion||expandableOnly&&expansion.unexpandable){if(expandableOnly&&null==expansion&&"\\"===name[0]&&!this.isDefined(name))throw new ParseError("Undefined control sequence: "+name);return this.pushToken(topToken),!1}this.countExpansion(1);var tokens=expansion.tokens,args=this.consumeArgs(expansion.numArgs,expansion.delimiters);if(expansion.numArgs)for(var i=(tokens=tokens.slice()).length-1;i>=0;--i){var tok=tokens[i];if("#"===tok.text){if(0===i)throw new ParseError("Incomplete placeholder at end of macro body",tok);if("#"===(tok=tokens[--i]).text)tokens.splice(i+1,1);else{if(!/^[1-9]$/.test(tok.text))throw new ParseError("Not a valid argument number",tok);tokens.splice(i,2,...args[+tok.text-1])}}}return this.pushTokens(tokens),tokens.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var token=this.stack.pop();return token.treatAsRelax&&(token.text="\\relax"),token}throw new Error}expandMacro(name){return this.macros.has(name)?this.expandTokens([new Token(name)]):void 0}expandTokens(tokens){var output=[],oldStackLength=this.stack.length;for(this.pushTokens(tokens);this.stack.length>oldStackLength;)if(!1===this.expandOnce(!0)){var token=this.stack.pop();token.treatAsRelax&&(token.noexpand=!1,token.treatAsRelax=!1),output.push(token)}return this.countExpansion(output.length),output}expandMacroAsText(name){var tokens=this.expandMacro(name);return tokens?tokens.map((token=>token.text)).join(""):tokens}_getExpansion(name){var definition=this.macros.get(name);if(null==definition)return definition;if(1===name.length){var catcode=this.lexer.catcodes[name];if(null!=catcode&&13!==catcode)return}var expansion="function"==typeof definition?definition(this):definition;if("string"==typeof expansion){var numArgs=0;if(-1!==expansion.indexOf("#"))for(var stripped=expansion.replace(/##/g,"");-1!==stripped.indexOf("#"+(numArgs+1));)++numArgs;for(var bodyLexer=new Lexer(expansion,this.settings),tokens=[],tok=bodyLexer.lex();"EOF"!==tok.text;)tokens.push(tok),tok=bodyLexer.lex();return tokens.reverse(),{tokens,numArgs}}return expansion}isDefined(name){return this.macros.has(name)||functions.hasOwnProperty(name)||symbols.math.hasOwnProperty(name)||symbols.text.hasOwnProperty(name)||implicitCommands.hasOwnProperty(name)}isExpandable(name){var macro=this.macros.get(name);return null!=macro?"string"==typeof macro||"function"==typeof macro||!macro.unexpandable:functions.hasOwnProperty(name)&&!functions[name].primitive}}var unicodeSubRegEx=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,uSubsAndSups=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9",ₐ:"a",ₑ:"e",ₕ:"h",ᵢ:"i",ⱼ:"j",ₖ:"k",ₗ:"l",ₘ:"m",ₙ:"n",ₒ:"o",ₚ:"p",ᵣ:"r",ₛ:"s",ₜ:"t",ᵤ:"u",ᵥ:"v",ₓ:"x",ᵦ:"β",ᵧ:"γ",ᵨ:"ρ",ᵩ:"ϕ",ᵪ:"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9",ᴬ:"A",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ⱽ:"V",ᵂ:"W",ᵃ:"a",ᵇ:"b",ᶜ:"c",ᵈ:"d",ᵉ:"e",ᶠ:"f",ᵍ:"g",ʰ:"h",ⁱ:"i",ʲ:"j",ᵏ:"k",ˡ:"l",ᵐ:"m",ⁿ:"n",ᵒ:"o",ᵖ:"p",ʳ:"r",ˢ:"s",ᵗ:"t",ᵘ:"u",ᵛ:"v",ʷ:"w",ˣ:"x",ʸ:"y",ᶻ:"z",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"ϕ",ᵡ:"χ",ᶿ:"θ"}),unicodeAccents={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},unicodeSymbols={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Parser{constructor(input,settings){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(input,settings,this.mode),this.settings=settings,this.leftrightDepth=0}expect(text,consume){if(void 0===consume&&(consume=!0),this.fetch().text!==text)throw new ParseError("Expected '"+text+"', got '"+this.fetch().text+"'",this.fetch());consume&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(newMode){this.mode=newMode,this.gullet.switchMode(newMode)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var parse=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),parse}finally{this.gullet.endGroups()}}subparse(tokens){var oldToken=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(tokens);var parse=this.parseExpression(!1);return this.expect("}"),this.nextToken=oldToken,parse}parseExpression(breakOnInfix,breakOnTokenText){for(var body=[];;){"math"===this.mode&&this.consumeSpaces();var lex=this.fetch();if(-1!==Parser.endOfExpression.indexOf(lex.text))break;if(breakOnTokenText&&lex.text===breakOnTokenText)break;if(breakOnInfix&&functions[lex.text]&&functions[lex.text].infix)break;var atom=this.parseAtom(breakOnTokenText);if(!atom)break;"internal"!==atom.type&&body.push(atom)}return"text"===this.mode&&this.formLigatures(body),this.handleInfixNodes(body)}handleInfixNodes(body){for(var funcName,overIndex=-1,i=0;i<body.length;i++)if("infix"===body[i].type){if(-1!==overIndex)throw new ParseError("only one infix operator per group",body[i].token);overIndex=i,funcName=body[i].replaceWith}if(-1!==overIndex&&funcName){var numerNode,denomNode,numerBody=body.slice(0,overIndex),denomBody=body.slice(overIndex+1);return numerNode=1===numerBody.length&&"ordgroup"===numerBody[0].type?numerBody[0]:{type:"ordgroup",mode:this.mode,body:numerBody},denomNode=1===denomBody.length&&"ordgroup"===denomBody[0].type?denomBody[0]:{type:"ordgroup",mode:this.mode,body:denomBody},["\\\\abovefrac"===funcName?this.callFunction(funcName,[numerNode,body[overIndex],denomNode],[]):this.callFunction(funcName,[numerNode,denomNode],[])]}return body}handleSupSubscript(name){var symbolToken=this.fetch(),symbol=symbolToken.text;this.consume(),this.consumeSpaces();var group=this.parseGroup(name);if(!group)throw new ParseError("Expected group after '"+symbol+"'",symbolToken);return group}formatUnsupportedCmd(text){for(var textordArray=[],i=0;i<text.length;i++)textordArray.push({type:"textord",mode:"text",text:text[i]});var textNode={type:"text",mode:this.mode,body:textordArray};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[textNode]}}parseAtom(breakOnTokenText){var superscript,subscript,base=this.parseGroup("atom",breakOnTokenText);if("text"===this.mode)return base;for(;;){this.consumeSpaces();var lex=this.fetch();if("\\limits"===lex.text||"\\nolimits"===lex.text){if(base&&"op"===base.type){var limits="\\limits"===lex.text;base.limits=limits,base.alwaysHandleSupSub=!0}else{if(!base||"operatorname"!==base.type)throw new ParseError("Limit controls must follow a math operator",lex);base.alwaysHandleSupSub&&(base.limits="\\limits"===lex.text)}this.consume()}else if("^"===lex.text){if(superscript)throw new ParseError("Double superscript",lex);superscript=this.handleSupSubscript("superscript")}else if("_"===lex.text){if(subscript)throw new ParseError("Double subscript",lex);subscript=this.handleSupSubscript("subscript")}else if("'"===lex.text){if(superscript)throw new ParseError("Double superscript",lex);var prime={type:"textord",mode:this.mode,text:"\\prime"},primes=[prime];for(this.consume();"'"===this.fetch().text;)primes.push(prime),this.consume();"^"===this.fetch().text&&primes.push(this.handleSupSubscript("superscript")),superscript={type:"ordgroup",mode:this.mode,body:primes}}else{if(!uSubsAndSups[lex.text])break;var isSub=unicodeSubRegEx.test(lex.text),subsupTokens=[];for(subsupTokens.push(new Token(uSubsAndSups[lex.text])),this.consume();;){var token=this.fetch().text;if(!uSubsAndSups[token])break;if(unicodeSubRegEx.test(token)!==isSub)break;subsupTokens.unshift(new Token(uSubsAndSups[token])),this.consume()}var body=this.subparse(subsupTokens);isSub?subscript={type:"ordgroup",mode:"math",body}:superscript={type:"ordgroup",mode:"math",body}}}return superscript||subscript?{type:"supsub",mode:this.mode,base,sup:superscript,sub:subscript}:base}parseFunction(breakOnTokenText,name){var token=this.fetch(),func=token.text,funcData=functions[func];if(!funcData)return null;if(this.consume(),name&&"atom"!==name&&!funcData.allowedInArgument)throw new ParseError("Got function '"+func+"' with no arguments"+(name?" as "+name:""),token);if("text"===this.mode&&!funcData.allowedInText)throw new ParseError("Can't use function '"+func+"' in text mode",token);if("math"===this.mode&&!1===funcData.allowedInMath)throw new ParseError("Can't use function '"+func+"' in math mode",token);var{args,optArgs}=this.parseArguments(func,funcData);return this.callFunction(func,args,optArgs,token,breakOnTokenText)}callFunction(name,args,optArgs,token,breakOnTokenText){var context={funcName:name,parser:this,token,breakOnTokenText},func=functions[name];if(func&&func.handler)return func.handler(context,args,optArgs);throw new ParseError("No function handler for "+name)}parseArguments(func,funcData){var totalArgs=funcData.numArgs+funcData.numOptionalArgs;if(0===totalArgs)return{args:[],optArgs:[]};for(var args=[],optArgs=[],i=0;i<totalArgs;i++){var argType=funcData.argTypes&&funcData.argTypes[i],isOptional=i<funcData.numOptionalArgs;(funcData.primitive&&null==argType||"sqrt"===funcData.type&&1===i&&null==optArgs[0])&&(argType="primitive");var arg=this.parseGroupOfType("argument to '"+func+"'",argType,isOptional);if(isOptional)optArgs.push(arg);else{if(null==arg)throw new ParseError("Null argument, please report this as a bug");args.push(arg)}}return{args,optArgs}}parseGroupOfType(name,type,optional){switch(type){case"color":return this.parseColorGroup(optional);case"size":return this.parseSizeGroup(optional);case"url":return this.parseUrlGroup(optional);case"math":case"text":return this.parseArgumentGroup(optional,type);case"hbox":var group=this.parseArgumentGroup(optional,"text");return null!=group?{type:"styling",mode:group.mode,body:[group],style:"text"}:null;case"raw":var token=this.parseStringGroup("raw",optional);return null!=token?{type:"raw",mode:"text",string:token.text}:null;case"primitive":if(optional)throw new ParseError("A primitive argument cannot be optional");var _group=this.parseGroup(name);if(null==_group)throw new ParseError("Expected group as "+name,this.fetch());return _group;case"original":case null:case void 0:return this.parseArgumentGroup(optional);default:throw new ParseError("Unknown group type as "+name,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(modeName,optional){var argToken=this.gullet.scanArgument(optional);if(null==argToken)return null;for(var nextToken,str="";"EOF"!==(nextToken=this.fetch()).text;)str+=nextToken.text,this.consume();return this.consume(),argToken.text=str,argToken}parseRegexGroup(regex,modeName){for(var nextToken,firstToken=this.fetch(),lastToken=firstToken,str="";"EOF"!==(nextToken=this.fetch()).text&&regex.test(str+nextToken.text);)str+=(lastToken=nextToken).text,this.consume();if(""===str)throw new ParseError("Invalid "+modeName+": '"+firstToken.text+"'",firstToken);return firstToken.range(lastToken,str)}parseColorGroup(optional){var res=this.parseStringGroup("color",optional);if(null==res)return null;var match=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(res.text);if(!match)throw new ParseError("Invalid color: '"+res.text+"'",res);var color=match[0];return/^[0-9a-f]{6}$/i.test(color)&&(color="#"+color),{type:"color-token",mode:this.mode,color}}parseSizeGroup(optional){var res,isBlank=!1;if(this.gullet.consumeSpaces(),!(res=optional||"{"===this.gullet.future().text?this.parseStringGroup("size",optional):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;optional||0!==res.text.length||(res.text="0pt",isBlank=!0);var match=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(res.text);if(!match)throw new ParseError("Invalid size: '"+res.text+"'",res);var data={number:+(match[1]+match[2]),unit:match[3]};if(!validUnit(data))throw new ParseError("Invalid unit: '"+data.unit+"'",res);return{type:"size",mode:this.mode,value:data,isBlank}}parseUrlGroup(optional){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var res=this.parseStringGroup("url",optional);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==res)return null;var url=res.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url}}parseArgumentGroup(optional,mode){var argToken=this.gullet.scanArgument(optional);if(null==argToken)return null;var outerMode=this.mode;mode&&this.switchMode(mode),this.gullet.beginGroup();var expression=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var result={type:"ordgroup",mode:this.mode,loc:argToken.loc,body:expression};return mode&&this.switchMode(outerMode),result}parseGroup(name,breakOnTokenText){var result,firstToken=this.fetch(),text=firstToken.text;if("{"===text||"\\begingroup"===text){this.consume();var groupEnd="{"===text?"}":"\\endgroup";this.gullet.beginGroup();var expression=this.parseExpression(!1,groupEnd),lastToken=this.fetch();this.expect(groupEnd),this.gullet.endGroup(),result={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(firstToken,lastToken),body:expression,semisimple:"\\begingroup"===text||void 0}}else if(null==(result=this.parseFunction(breakOnTokenText,name)||this.parseSymbol())&&"\\"===text[0]&&!implicitCommands.hasOwnProperty(text)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+text,firstToken);result=this.formatUnsupportedCmd(text),this.consume()}return result}formLigatures(group){for(var n=group.length-1,i=0;i<n;++i){var a=group[i],v=a.text;"-"===v&&"-"===group[i+1].text&&(i+1<n&&"-"===group[i+2].text?(group.splice(i,3,{type:"textord",mode:"text",loc:SourceLocation.range(a,group[i+2]),text:"---"}),n-=2):(group.splice(i,2,{type:"textord",mode:"text",loc:SourceLocation.range(a,group[i+1]),text:"--"}),n-=1)),"'"!==v&&"`"!==v||group[i+1].text!==v||(group.splice(i,2,{type:"textord",mode:"text",loc:SourceLocation.range(a,group[i+1]),text:v+v}),n-=1)}}parseSymbol(){var nucleus=this.fetch(),text=nucleus.text;if(/^\\verb[^a-zA-Z]/.test(text)){this.consume();var arg=text.slice(5),star="*"===arg.charAt(0);if(star&&(arg=arg.slice(1)),arg.length<2||arg.charAt(0)!==arg.slice(-1))throw new ParseError("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:arg=arg.slice(1,-1),star}}unicodeSymbols.hasOwnProperty(text[0])&&!symbols[this.mode][text[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+text[0]+'" used in math mode',nucleus),text=unicodeSymbols[text[0]]+text.slice(1));var symbol,match=combiningDiacriticalMarksEndRegex.exec(text);if(match&&("i"===(text=text.substring(0,match.index))?text="ı":"j"===text&&(text="ȷ")),symbols[this.mode][text]){this.settings.strict&&"math"===this.mode&&"ÐÞþ".indexOf(text)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+text[0]+'" used in math mode',nucleus);var s,group=symbols[this.mode][text].group,loc=SourceLocation.range(nucleus);if(ATOMS.hasOwnProperty(group)){var family=group;s={type:"atom",mode:this.mode,family,loc,text}}else s={type:group,mode:this.mode,loc,text};symbol=s}else{if(!(text.charCodeAt(0)>=128))return null;this.settings.strict&&(supportedCodepoint(text.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+text[0]+'" used in math mode',nucleus):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+text[0]+'" ('+text.charCodeAt(0)+")",nucleus)),symbol={type:"textord",mode:"text",loc:SourceLocation.range(nucleus),text}}if(this.consume(),match)for(var i=0;i<match[0].length;i++){var accent=match[0][i];if(!unicodeAccents[accent])throw new ParseError("Unknown accent ' "+accent+"'",nucleus);var command=unicodeAccents[accent][this.mode]||unicodeAccents[accent].text;if(!command)throw new ParseError("Accent "+accent+" unsupported in "+this.mode+" mode",nucleus);symbol={type:"accent",mode:this.mode,loc:SourceLocation.range(nucleus),label:command,isStretchy:!1,isShifty:!0,base:symbol}}return symbol}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function parseTree(toParse,settings){if(!("string"==typeof toParse||toParse instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var parser=new Parser(toParse,settings);delete parser.gullet.macros.current["\\df@tag"];var tree=parser.parse();if(delete parser.gullet.macros.current["\\current@color"],delete parser.gullet.macros.current["\\color"],parser.gullet.macros.get("\\df@tag")){if(!settings.displayMode)throw new ParseError("\\tag works only in display equations");tree=[{type:"tag",mode:"text",body:tree,tag:parser.subparse([new Token("\\df@tag")])}]}return tree},render=function render(expression,baseNode,options){baseNode.textContent="";var node=renderToDomTree(expression,options).toNode();baseNode.appendChild(node)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function render(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderError=function renderError(error,expression,options){if(options.throwOnError||!(error instanceof ParseError))throw error;var node=buildCommon.makeSpan(["katex-error"],[new SymbolNode(expression)]);return node.setAttribute("title",error.toString()),node.setAttribute("style","color:"+options.errorColor),node},renderToDomTree=function renderToDomTree(expression,options){var settings=new Settings(options);try{return function buildTree(tree,expression,settings){var katexNode,options=optionsFromSettings(settings);if("mathml"===settings.output)return buildMathML(tree,expression,options,settings.displayMode,!0);if("html"===settings.output){var htmlNode=buildHTML(tree,options);katexNode=buildCommon.makeSpan(["katex"],[htmlNode])}else{var mathMLNode=buildMathML(tree,expression,options,settings.displayMode,!1),_htmlNode=buildHTML(tree,options);katexNode=buildCommon.makeSpan(["katex"],[mathMLNode,_htmlNode])}return displayWrap(katexNode,settings)}(parseTree(expression,settings),expression,settings)}catch(error){return renderError(error,expression,settings)}},katex={version:"0.16.10",render,renderToString:function renderToString(expression,options){return renderToDomTree(expression,options).toMarkup()},ParseError,SETTINGS_SCHEMA,__parse:function generateParseTree(expression,options){var settings=new Settings(options);return parseTree(expression,settings)},__renderToDomTree:renderToDomTree,__renderToHTMLTree:function renderToHTMLTree(expression,options){var settings=new Settings(options);try{return function buildHTMLTree(tree,expression,settings){var htmlNode=buildHTML(tree,optionsFromSettings(settings)),katexNode=buildCommon.makeSpan(["katex"],[htmlNode]);return displayWrap(katexNode,settings)}(parseTree(expression,settings),0,settings)}catch(error){return renderError(error,expression,settings)}},__setFontMetrics:function setFontMetrics(fontName,metrics){fontMetricsData[fontName]=metrics},__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree:{Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode}}},"../node_modules/.pnpm/lexical@0.15.0/node_modules/lexical/Lexical.prod.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function t(t){return{}}__webpack_require__.d(__webpack_exports__,{$7:()=>U,$e:()=>a,A6:()=>y,A7:()=>ls,AX:()=>m,Ac:()=>hs,B$:()=>Re,C:()=>Zt,Ck:()=>si,Cy:()=>Yi,Ey:()=>Lr,FE:()=>s,GM:()=>Ji,Gc:()=>Ai,H2:()=>Ci,HY:()=>B,Hu:()=>k,I2:()=>ei,Iq:()=>Ge,JM:()=>p,Jj:()=>gs,Kf:()=>J,Kp:()=>Qi,LY:()=>te,MK:()=>qr,Mv:()=>e,Ni:()=>ye,OB:()=>_i,OX:()=>w,Pi:()=>P,Q$:()=>b,RT:()=>ri,Rp:()=>x,S1:()=>mi,SK:()=>z,Sr:()=>F,Tg:()=>I,UD:()=>v,V3:()=>g,VS:()=>W,WK:()=>Nr,WW:()=>R,Wg:()=>_s,Wu:()=>i,XK:()=>o,YW:()=>E,Z$:()=>Gt,ZK:()=>h,a9:()=>dn,bM:()=>l,bS:()=>fs,bb:()=>T,cq:()=>$,d:()=>ps,d8:()=>r,e1:()=>Me,ev:()=>jr,fG:()=>Gi,fU:()=>O,ff:()=>ts,gC:()=>C,gu:()=>t,h:()=>ns,hV:()=>rs,hc:()=>cn,hi:()=>u,ie:()=>ms,if:()=>S,jG:()=>oe,jZ:()=>ds,kF:()=>$r,lJ:()=>us,mB:()=>d,n1:()=>xe,nY:()=>an,ns:()=>de,oq:()=>n,pF:()=>V,pT:()=>en,rU:()=>gi,ri:()=>A,sT:()=>Vr,sb:()=>un,sc:()=>ee,si:()=>D,t5:()=>K,u5:()=>M,uT:()=>hi,vJ:()=>yi,vi:()=>f,w:()=>c,w$:()=>N,wH:()=>wr,xL:()=>ge,y6:()=>fi,z8:()=>Xr,zl:()=>ze});const e={},n={},r={},i={},s={},o={},l={},c={},a={},u={},f={},d={},h={},g={},_={},p={},y={},m={},x={},v={},T={},S={},k={},C={},b={},N={},w={},E={},P={},D={},F={},O={},I={},A={},L={},M={},W={},B={},z={},K={},R={},J={},U={},V={},$={};var j=function H(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}((function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Z=q&&"documentMode"in document?document.documentMode:null,X=q&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Q=q&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Y=!(!q||!("InputEvent"in window)||Z)&&"getTargetRanges"in new window.InputEvent("input"),G=q&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),tt=q&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,et=q&&/Android/.test(navigator.userAgent),nt=q&&/^(?=.*Chrome).*/i.test(navigator.userAgent),rt=q&&et&&nt,it=q&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!nt,st=1,ot=3,lt=0,ct=1,at=2,ut=0,ft=1,dt=2,ht=4,gt=8,_t=3|ht|gt|240,pt=1,yt=2,mt=3,xt=4,vt=5,Tt=6,St=G||tt||it?" ":"​",kt="\n\n",Ct=Q?" ":St,bt="֑-߿יִ-﷽ﹰ-ﻼ",Nt="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",wt=new RegExp("^[^"+Nt+"]*["+bt+"]"),Et=new RegExp("^[^"+bt+"]*["+Nt+"]"),Pt={bold:1,code:16,highlight:128,italic:2,strikethrough:ht,subscript:32,superscript:64,underline:gt},Dt={directionless:1,unmergeable:2},Ft={center:yt,end:Tt,justify:xt,left:pt,right:mt,start:vt},Ot={[yt]:"center",[Tt]:"end",[xt]:"justify",[pt]:"left",[mt]:"right",[vt]:"start"},It={normal:0,segmented:2,token:1},At={[ut]:"normal",[dt]:"segmented",[ft]:"token"};function Lt(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\S+/g))e.push(t);return e}const Mt=100;let Wt=!1,Bt=0;function zt(t){Bt=t.timeStamp}function Kt(t,e,n){return e.__lexicalLineBreak===t||void 0!==t[`__lexicalKey_${n._key}`]}function Rt(t,e,n){const r=ln(n._window);let i=null,s=null;null!==r&&r.anchorNode===t&&(i=r.anchorOffset,s=r.focusOffset);const o=t.nodeValue;null!==o&&we(e,o,i,s,!1)}function Jt(t,e,n){if(ei(t)){const e=t.anchor.getNode();if(e.is(n)&&t.format!==e.getFormat())return!1}return e.nodeType===ot&&n.isAttached()}function Ut(t,e,n){Wt=!0;const r=performance.now()-Bt>Mt;try{Xi(t,(()=>{const i=yi()||function(t){return t.getEditorState().read((()=>{const t=yi();return null!==t?t.clone():null}))}(t),s=new Map,o=t.getRootElement(),l=t._editorState,c=t._blockCursorElement;let a=!1,u="";for(let n=0;n<e.length;n++){const f=e[n],d=f.type,h=f.target;let g=ge(h,l);if(!(null===g&&h!==o||Yi(g)))if("characterData"===d)r&&$r(g)&&Jt(i,h,g)&&Rt(h,g,t);else if("childList"===d){a=!0;const e=f.addedNodes;for(let n=0;n<e.length;n++){const r=e[n],i=he(r),s=r.parentNode;if(null!=s&&r!==c&&null===i&&("BR"!==r.nodeName||!Kt(r,s,t))){if(Q){const t=r.innerText||r.nodeValue;t&&(u+=t)}s.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let e=0;for(let i=0;i<r;i++){const r=n[i];("BR"===r.nodeName&&Kt(r,h,t)||c===r)&&(h.appendChild(r),e++)}r!==e&&(h===o&&(g=me(l)),s.set(h,g))}}}if(s.size>0)for(const[e,n]of s)if(ts(n)){const r=n.getChildrenKeys();let i=e.firstChild;for(let n=0;n<r.length;n++){const s=r[n],o=t.getElementByKey(s);null!==o&&(null==i?(e.appendChild(o),i=o):i!==o&&e.replaceChild(o,i),i=i.nextSibling)}}else $r(n)&&n.markDirty();const f=n.takeRecords();if(f.length>0){for(let e=0;e<f.length;e++){const n=f[e],r=n.addedNodes,i=n.target;for(let e=0;e<r.length;e++){const n=r[e],s=n.parentNode;null==s||"BR"!==n.nodeName||Kt(n,i,t)||s.removeChild(n)}}n.takeRecords()}null!==i&&(a&&(i.dirty=!0,xe(i)),Q&&Je(t)&&i.insertRawText(u))}))}finally{Wt=!1}}function Vt(t){const e=t._observer;null!==e&&Ut(t,e.takeRecords(),e)}function $t(t){!function(t){0===Bt&&Xe(t).addEventListener("textInput",zt,!0)}(t),t._observer=new MutationObserver(((e,n)=>{Ut(t,e,n)}))}function Ht(t,e){const n=t.__mode,r=t.__format,i=t.__style,s=e.__mode,o=e.__format,l=e.__style;return!(null!==n&&n!==s||null!==r&&r!==o||null!==i&&i!==l)}function jt(t,e){const n=t.mergeWithSibling(e),r=Bi()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function qt(t){let e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&$r(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(Ht(e,r)){r=jt(e,r);break}break}e.remove()}for(;null!==(n=r.getNextSibling())&&$r(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Ht(r,n)){r=jt(r,n);break}break}n.remove()}}else r.remove()}function Zt(t){return Xt(t.anchor),Xt(t.focus),t}function Xt(t){for(;"element"===t.type;){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),$r(r)){t.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!ts(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element")}}let Qt=1;const Yt="function"==typeof queueMicrotask?queueMicrotask:t=>{Promise.resolve().then(t)};function Gt(t){const e=document.activeElement;if(null===e)return!1;const n=e.nodeName;return Yi(ge(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==e.__lexicalEditor)}function te(t,e,n){const r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!Gt(e)&&ee(e)===t}catch(t){return!1}}function ee(t){let e=t;for(;null!=e;){const t=e.__lexicalEditor;if(null!=t)return t;e=He(e)}return null}function ne(t){return t.isToken()||t.isSegmented()}function re(t){return t.nodeType===ot}function ie(t){let e=t;for(;null!=e;){if(re(e))return e;e=e.firstChild}return null}function se(t,e,n){const r=Pt[e];if(null!==n&&(t&r)==(n&r))return t;let i=t^r;return"subscript"===e?i&=~Pt.superscript:"superscript"===e&&(i&=~Pt.subscript),i}function oe(t){return $r(t)||wr(t)||Yi(t)}function le(t,e){if(null!=e)return void(t.__key=e);Li(),Mi();const n=Bi(),r=Wi(),i=""+Qt++;r._nodeMap.set(i,t),ts(t)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=ct,t.__key=i}function ce(t){const e=t.getParent();if(null!==e){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),s=t.getNextSibling();if(null===i)if(null!==s){const t=s.getWritable();r.__first=s.__key,t.__prev=null}else r.__first=null;else{const t=i.getWritable();if(null!==s){const e=s.getWritable();e.__prev=t.__key,t.__next=e.__key}else t.__next=null;n.__prev=null}if(null===s)if(null!==i){const t=i.getWritable();r.__last=i.__key,t.__next=null}else r.__last=null;else{const t=s.getWritable();if(null!==i){const e=i.getWritable();e.__next=t.__key,t.__prev=e.__key}else t.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function ae(t){Mi();const e=t.getLatest(),n=e.__parent,r=Wi(),i=Bi(),s=r._nodeMap,o=i._dirtyElements;null!==n&&function(t,e,n){let r=t;for(;null!==r;){if(n.has(r))return;const t=e.get(r);if(void 0===t)break;n.set(r,!1),r=t.__parent}}(n,s,o);const l=e.__key;i._dirtyType=ct,ts(t)?o.set(l,!0):i._dirtyLeaves.add(l)}function ue(t){Li();const e=Bi(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){const t=de(n);null!==t&&t.getWritable()}if(null!==t){const e=de(t);null!==e&&e.getWritable()}}}function fe(){return Ai()?null:Bi()._compositionKey}function de(t,e){const n=(e||Wi())._nodeMap.get(t);return void 0===n?null:n}function he(t,e){const n=t[`__lexicalKey_${Bi()._key}`];return void 0!==n?de(n,e):null}function ge(t,e){let n=t;for(;null!=n;){const t=he(n,e);if(null!==t)return t;n=He(n)}return null}function _e(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function pe(t){return t.read((()=>ye().getTextContent()))}function ye(){return me(Wi())}function me(t){return t._nodeMap.get("root")}function xe(t){Li();const e=Wi();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function ve(t){const e=Bi(),n=function(t,e){let n=t;for(;null!=n;){const t=n[`__lexicalKey_${e._key}`];if(void 0!==t)return t;n=He(n)}return null}(t,e);return null===n?t===e.getRootElement()?de("root"):null:de(n)}function Te(t,e){return e?t.getTextContentSize():0}function Se(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function ke(t){const e=[];let n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e}function Ce(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function be(t){return t.nodeType===ot?t.nodeValue:null}function Ne(t,e,n){const r=ln(e._window);if(null===r)return;const i=r.anchorNode;let{anchorOffset:s,focusOffset:o}=r;if(null!==i){let e=be(i);const r=ge(i);if(null!==e&&$r(r)){if(e===St&&n){const t=n.length;e=n,s=t,o=t}null!==e&&we(r,e,s,o,t)}}}function we(t,e,n,r,i){let s=t;if(s.isAttached()&&(i||!s.isDirty())){const o=s.isComposing();let l=e;(o||i)&&e[e.length-1]===St&&(l=e.slice(0,-1));const c=s.getTextContent();if(i||l!==c){if(""===l){if(ue(null),G||tt||it)s.remove();else{const t=Bi();setTimeout((()=>{t.update((()=>{s.isAttached()&&s.remove()}))}),20)}return}const e=s.getParent(),i=mi(),c=s.getTextContentSize(),a=fe(),u=s.getKey();if(s.isToken()||null!==a&&u===a&&!o||ei(i)&&(null!==e&&!e.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===t.__key&&0===i.anchor.offset&&!s.canInsertTextBefore()&&!o||i.focus.key===t.__key&&i.focus.offset===c&&!s.canInsertTextAfter()&&!o))return void s.markDirty();const f=yi();if(!ei(f)||null===n||null===r)return void s.setTextContent(l);if(f.setTextNodeRange(s,n,s,r),s.isSegmented()){const t=Vr(s.getTextContent());s.replace(t),s=t}s.setTextContent(l)}}}function Pe(t){return"ArrowLeft"===t}function De(t){return"ArrowRight"===t}function Fe(t,e){return X?t:e}function Oe(t){return"Enter"===t}function Ie(t){return"Backspace"===t}function Ae(t){return"Delete"===t}function Le(t,e,n){return"KeyA"===t&&Fe(e,n)}function Me(){const t=ye();xe(Zt(t.select(0,t.getChildrenSize())))}function We(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;const i=t[e];if("string"==typeof i){const t=Lt(i);return n[e]=t,t}return i}function Be(t,e,n,r,i){if(0===n.size)return;const s=r.__type,o=r.__key,l=e.get(s);void 0===l&&j(33,s);const c=l.klass;let a=t.get(c);void 0===a&&(a=new Map,t.set(c,a));const u=a.get(o),f="destroyed"===u&&"created"===i;(void 0===u||f)&&a.set(o,f?"updated":i)}function ze(t){const e=Wi(),n=e._readOnly,r=t.getType(),i=e._nodeMap,s=[];for(const[,e]of i)e instanceof t&&e.__type===r&&(n||e.isAttached())&&s.push(e);return s}function Ke(t,e,n){const r=t.getParent();let i=n,s=t;return null!==r&&(e&&0===n?(i=s.getIndexWithinParent(),s=r):e||n!==s.getChildrenSize()||(i=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(e?i-1:i)}function Re(t,e){const n=t.offset;if("element"===t.type)return Ke(t.getNode(),e,n);{const r=t.getNode();if(e&&0===n||!e&&n===r.getTextContentSize()){const t=e?r.getPreviousSibling():r.getNextSibling();return null===t?Ke(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):t}}return null}function Je(t){const e=Xe(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Ue(t,e,n){return ji(t,e,n)}function Ve(t){return!rs(t)&&!t.isLastChild()&&!t.isInline()}function $e(t,e){const n=t._keyToDOMMap.get(e);return void 0===n&&j(75,e),n}function He(t){const e=t.assignedSlot||t.parentElement;return null!==e&&11===e.nodeType?e.host:e}function Ze(t,e){let n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent()}return!1}function Xe(t){const e=t._window;return null===e&&j(78),e}function Ge(t){return rs(t)||ts(t)&&t.isShadowRoot()}function en(t){const e=Bi(),n=t.constructor.getType(),r=e._nodes.get(n);void 0===r&&j(97);const i=r.replace;if(null!==i){const e=i(t);return e instanceof t.constructor||j(98),e}return t}function nn(t,e){!rs(t.getParent())||ts(e)||Yi(e)||j(99)}function rn(t){return(Yi(t)||ts(t)&&!t.canBeEmpty())&&!t.isInline()}function sn(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;null!==r&&r.removeChild(t)}function ln(t){return q?(t||window).getSelection():null}function cn(t,e){let n=t.getChildAtIndex(e);null==n&&(n=t),Ge(t)&&j(102);const r=t=>{const e=t.getParentOrThrow(),i=Ge(e),s=t!==n||i?function tn(t){const e=t.constructor.clone(t);return le(e,null),e}(t):t;if(i)return ts(t)&&ts(s)||j(133),t.insertAfter(s),[t,s,s];{const[n,i,o]=r(e),l=t.getNextSiblings();return o.append(s,...l),[n,i,s]}},[i,s]=r(n);return[i,s]}function an(t){return un(t)&&"A"===t.tagName}function un(t){return 1===t.nodeType}function fn(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e)}function dn(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e)}function hn(t){if(rs(t)||Yi(t)&&!t.isInline())return!0;if(!ts(t)||Ge(t))return!1;const e=t.getFirstChild(),n=null===e||wr(e)||$r(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n}function gn(t,e){let n=t;for(;null!==n&&null!==n.getParent()&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function pn(t,e,n,r,i,s){let o=t.getFirstChild();for(;null!==o;){const t=o.__key;o.__parent===e&&(ts(o)&&pn(o,t,n,r,i,s),n.has(t)||s.delete(t),i.push(t)),o=o.getNextSibling()}}let yn,mn,xn,vn,Tn,Sn,kn,Cn,bn,Nn,wn="",En="",Pn=null,Dn="",Fn=!1,On=!1,In=null;function An(t,e){const n=kn.get(t);if(null!==e){const n=Qn(t);n.parentNode===e&&e.removeChild(n)}if(Cn.has(t)||mn._keyToDOMMap.delete(t),ts(n)){const t=Hn(n,kn);Ln(t,0,t.length-1,null)}void 0!==n&&Be(Nn,xn,vn,n,"destroyed")}function Ln(t,e,n,r){let i=e;for(;i<=n;++i){const e=t[i];void 0!==e&&An(e,r)}}function Mn(t,e){t.setProperty("text-align",e)}const Wn="40px";function Bn(t,e){const n=yn.theme.indent;if("string"==typeof n){const r=t.classList.contains(n);e>0&&!r?t.classList.add(n):e<1&&r&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Wn;t.style.setProperty("padding-inline-start",0===e?"":`calc(${e} * ${r})`)}function zn(t,e){const n=t.style;0===e?Mn(n,""):e===pt?Mn(n,"left"):e===yt?Mn(n,"center"):e===mt?Mn(n,"right"):e===xt?Mn(n,"justify"):e===vt?Mn(n,"start"):e===Tt&&Mn(n,"end")}function Kn(t,e,n){const r=Cn.get(t);void 0===r&&j(60);const i=r.createDOM(yn,mn);if(function(t,e,n){const r=n._keyToDOMMap;e["__lexicalKey_"+n._key]=t,r.set(t,e)}(t,i,mn),$r(r)?i.setAttribute("data-lexical-text","true"):Yi(r)&&i.setAttribute("data-lexical-decorator","true"),ts(r)){const t=r.__indent,e=r.__size;if(0!==t&&Bn(i,t),0!==e){const t=e-1;!function(t,e,n,r){const i=En;En="",Rn(t,n,0,e,r,null),Vn(n,r),En=i}(Hn(r,Cn),t,r,i)}const n=r.__format;0!==n&&zn(i,n),r.isInline()||Un(null,r,i),Ve(r)&&(wn+=kt,Dn+=kt)}else{const e=r.getTextContent();if(Yi(r)){const e=r.decorate(mn,yn);null!==e&&qn(t,e),i.contentEditable="false"}else $r(r)&&(r.isDirectionless()||(En+=e));wn+=e,Dn+=e}if(null!==e)if(null!=n)e.insertBefore(i,n);else{const t=e.__lexicalLineBreak;null!=t?e.insertBefore(i,t):e.appendChild(i)}return Be(Nn,xn,vn,r,"created"),i}function Rn(t,e,n,r,i,s){const o=wn;wn="";let l=n;for(;l<=r;++l){Kn(t[l],i,s);const e=Cn.get(t[l]);null!==e&&null===Pn&&$r(e)&&(Pn=e.getFormat())}Ve(e)&&(wn+=kt),i.__lexicalTextContent=wn,wn=o+wn}function Jn(t,e){const n=e.get(t);return wr(n)||Yi(n)&&n.isInline()}function Un(t,e,n){const r=null!==t&&(0===t.__size||Jn(t.__last,kn)),i=0===e.__size||Jn(e.__last,Cn);if(r){if(!i){const t=n.__lexicalLineBreak;null!=t&&n.removeChild(t),n.__lexicalLineBreak=null}}else if(i){const t=document.createElement("br");n.__lexicalLineBreak=t,n.appendChild(t)}}function Vn(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==En||r!==In){const n=""===En,s=n?In:(i=En,wt.test(i)?"rtl":Et.test(i)?"ltr":null);if(s!==r){const i=e.classList,o=yn.theme;let l=null!==r?o[r]:void 0,c=null!==s?o[s]:void 0;if(void 0!==l){if("string"==typeof l){const t=Lt(l);l=o[r]=t}i.remove(...l)}if(null===s||n&&"ltr"===s)e.removeAttribute("dir");else{if(void 0!==c){if("string"==typeof c){const t=Lt(c);c=o[s]=t}void 0!==c&&i.add(...c)}e.dir=s}On||(t.getWritable().__dir=s)}In=s,e.__lexicalDirTextContent=En,e.__lexicalDir=s}var i}function Hn(t,e){const n=[];let r=t.__first;for(;null!==r;){const t=e.get(r);void 0===t&&j(101),n.push(r),r=t.__next}return n}function jn(t,e){const n=kn.get(t);let r=Cn.get(t);void 0!==n&&void 0!==r||j(61);const i=Fn||Sn.has(t)||Tn.has(t),s=$e(mn,t);if(n===r&&!i){if(ts(n)){const t=s.__lexicalTextContent;void 0!==t&&(wn+=t,Dn+=t);const e=s.__lexicalDirTextContent;void 0!==e&&(En+=e)}else{const t=n.getTextContent();$r(n)&&!n.isDirectionless()&&(En+=t),Dn+=t,wn+=t}return s}if(n!==r&&i&&Be(Nn,xn,vn,r,"updated"),r.updateDOM(n,s,yn)){const n=Kn(t,null,null);return null===e&&j(62),e.replaceChild(n,s),An(t,null),n}if(ts(n)&&ts(r)){const t=r.__indent;t!==n.__indent&&Bn(s,t);const e=r.__format;e!==n.__format&&zn(s,e),i&&(function $n(t,e,n){const r=En;var i;En="",Pn=null,function(t,e,n){const r=wn,i=t.__size,s=e.__size;if(wn="",1===i&&1===s){const r=t.__first,i=e.__first;if(r===i)jn(r,n);else{const t=Qn(r),e=Kn(i,null,null);n.replaceChild(e,t),An(r,null)}const s=Cn.get(i);null===Pn&&$r(s)&&(Pn=s.getFormat())}else{const r=Hn(t,kn),o=Hn(e,Cn);if(0===i)0!==s&&Rn(o,e,0,s-1,n,null);else if(0===s){if(0!==i){const t=null==n.__lexicalLineBreak;Ln(r,0,i-1,t?null:n),t&&(n.textContent="")}}else!function(t,e,n,r,i,s){const o=r-1,l=i-1;let c,a,u=s.firstChild,f=0,d=0;for(;f<=o&&d<=l;){const t=e[f],r=n[d];if(t===r)u=Zn(jn(r,s)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));const i=a.has(t),o=c.has(r);if(i)if(o){const t=$e(mn,r);t===u?u=Zn(jn(r,s)):(null!=u?s.insertBefore(t,u):s.appendChild(t),jn(r,s)),f++,d++}else Kn(r,s,u),d++;else u=Zn(Qn(t)),An(t,s),f++}const i=Cn.get(r);null!==i&&null===Pn&&$r(i)&&(Pn=i.getFormat())}const g=f>o,_=d>l;if(g&&!_){const e=n[l+1];Rn(n,t,d,l,s,void 0===e?null:mn.getElementByKey(e))}else _&&!g&&Ln(e,f,o,s)}(e,r,o,i,s,n)}Ve(e)&&(wn+=kt),n.__lexicalTextContent=wn,wn=r+wn}(t,e,n),Vn(e,n),fs(i=e)&&null!=Pn&&Pn!==i.__textFormat&&i.setTextFormat(Pn),En=r,Pn=null}(n,r,s),rs(r)||r.isInline()||Un(n,r,s)),Ve(r)&&(wn+=kt,Dn+=kt)}else{const e=r.getTextContent();if(Yi(r)){const e=r.decorate(mn,yn);null!==e&&qn(t,e)}else $r(r)&&!r.isDirectionless()&&(En+=e);wn+=e,Dn+=e}if(!On&&rs(r)&&r.__cachedText!==Dn){const t=r.getWritable();t.__cachedText=Dn,r=t}return s}function qn(t,e){let n=mn._pendingDecorators;const r=mn._decorators;if(null===n){if(r[t]===e)return;n=_e(mn)}n[t]=e}function Zn(t){let e=t.nextSibling;return null!==e&&e===mn._blockCursorElement&&(e=e.nextSibling),e}function Qn(t){const e=bn.get(t);return void 0===e&&j(75,t),e}const Yn=Object.freeze({}),tr=[["keydown",function(t,e){if(er=t.timeStamp,nr=t.code,e.isComposing())return;const{code:n,shiftKey:r,ctrlKey:o,metaKey:l,altKey:c}=t;Ue(e,_,t)||(!function(t,e,n,r){return De(t)&&!e&&!r&&!n}(n,o,c,l)?!function(t,e,n,r,i){return De(t)&&!r&&!n&&(e||i)}(n,o,r,c,l)?!function(t,e,n,r){return Pe(t)&&!e&&!r&&!n}(n,o,c,l)?!function(t,e,n,r,i){return Pe(t)&&!r&&!n&&(e||i)}(n,o,r,c,l)?!function(t,e,n){return function(t){return"ArrowUp"===t}(t)&&!e&&!n}(n,o,l)?!function(t,e,n){return function(t){return"ArrowDown"===t}(t)&&!e&&!n}(n,o,l)?!function(t,e){return Oe(t)&&e}(n,r)?!function(t){return"Space"===t}(n)?!function(t,e){return X&&e&&"KeyO"===t}(n,o)?!function(t,e){return Oe(t)&&!e}(n,r)?!function(t,e,n,r){return X?!e&&!n&&(Ie(t)||"KeyH"===t&&r):!(r||e||n)&&Ie(t)}(n,c,l,o)?!function(t){return"Escape"===t}(n)?!function(t,e,n,r,i){return X?!(n||r||i)&&(Ae(t)||"KeyD"===t&&e):!(e||r||i)&&Ae(t)}(n,o,r,c,l)?!function(t,e,n){return Ie(t)&&(X?e:n)}(n,c,o)?!function(t,e,n){return Ae(t)&&(X?e:n)}(n,c,o)?!function(t,e){return X&&e&&Ie(t)}(n,l)?!function(t,e){return X&&e&&Ae(t)}(n,l)?!function(t,e,n,r){return"KeyB"===t&&!e&&Fe(n,r)}(n,c,l,o)?!function(t,e,n,r){return"KeyU"===t&&!e&&Fe(n,r)}(n,c,l,o)?!function(t,e,n,r){return"KeyI"===t&&!e&&Fe(n,r)}(n,c,l,o)?!function(t,e,n,r){return"Tab"===t&&!e&&!n&&!r}(n,c,o,l)?!function(t,e,n,r){return"KeyZ"===t&&!e&&Fe(n,r)}(n,r,l,o)?!function(t,e,n,r){return X?"KeyZ"===t&&n&&e:"KeyY"===t&&r||"KeyZ"===t&&r&&e}(n,r,l,o)?ri(e._editorState._selection)?function(t,e,n,r){return!e&&"KeyC"===t&&(X?n:r)}(n,r,l,o)?(t.preventDefault(),Ue(e,M,t)):function(t,e,n,r){return!e&&"KeyX"===t&&(X?n:r)}(n,r,l,o)?(t.preventDefault(),Ue(e,W,t)):Le(n,l,o)&&(t.preventDefault(),Ue(e,B,t)):!Q&&Le(n,l,o)&&(t.preventDefault(),Ue(e,B,t)):(t.preventDefault(),Ue(e,g,void 0)):(t.preventDefault(),Ue(e,h,void 0)):Ue(e,w,t):(t.preventDefault(),Ue(e,d,"italic")):(t.preventDefault(),Ue(e,d,"underline")):(t.preventDefault(),Ue(e,d,"bold")):(t.preventDefault(),Ue(e,f,!1)):(t.preventDefault(),Ue(e,f,!0)):(t.preventDefault(),Ue(e,u,!1)):(t.preventDefault(),Ue(e,u,!0)):Ae(n)?Ue(e,N,t):(t.preventDefault(),Ue(e,i,!1)):Ue(e,b,t):Ie(n)?Ue(e,C,t):(t.preventDefault(),Ue(e,i,!0)):(cr=!1,Ue(e,S,t)):(t.preventDefault(),cr=!0,Ue(e,s,!0)):Ue(e,k,t):(cr=!0,Ue(e,S,t)):Ue(e,T,t):Ue(e,v,t):Ue(e,x,t):Ue(e,m,t):Ue(e,y,t):Ue(e,p,t),function(t,e,n,r){return t||e||n||r}(o,r,c,l)&&Ue(e,$,t))}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&"touch"!==r&&Xi(e,(()=>{Yi(ge(n))||(lr=!0)}))}],["compositionstart",function(t,e){Xi(e,(()=>{const n=yi();if(ei(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();ue(r.key),(t.timeStamp<er+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||$r(i)&&i.getStyle()!==n.style)&&Ue(e,l,Ct)}}))}],["compositionend",function(t,e){Q?ar=!0:Xi(e,(()=>{_r(e,t.data)}))}],["input",function(t,e){t.stopPropagation(),Xi(e,(()=>{const n=yi(),r=t.data,i=gr(t);if(null!=r&&ei(n)&&fr(n,i,r,t.timeStamp,!1)){ar&&(_r(e,r),ar=!1);const i=n.anchor.getNode(),s=ln(e._window);if(null===s)return;const o=n.isBackward(),c=o?n.anchor.offset:n.focus.offset,a=o?n.focus.offset:n.anchor.offset;Y&&!n.isCollapsed()&&$r(i)&&null!==s.anchorNode&&i.getTextContent().slice(0,c)+r+i.getTextContent().slice(c+a)===be(s.anchorNode)||Ue(e,l,r);const u=r.length;Q&&u>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=u),G||tt||it||!e.isComposing()||(er=0,ue(null))}else Ne(!1,e,null!==r?r:void 0),ar&&(_r(e,r||void 0),ar=!1);Li(),Vt(Bi())})),ir=null}],["click",function(t,e){Xi(e,(()=>{const n=yi(),i=ln(e._window),s=mi();if(i)if(ei(n)){const e=n.anchor,r=e.getNode();"element"===e.type&&0===e.offset&&n.isCollapsed()&&!rs(r)&&1===ye().getChildrenSize()&&r.getTopLevelElementOrThrow().isEmpty()&&null!==s&&n.is(s)?(i.removeAllRanges(),n.dirty=!0):3!==t.detail||n.isCollapsed()||r!==n.focus.getNode()&&(ts(r)?r.select(0):r.getParentOrThrow().select(0))}else if("touch"===t.pointerType){const n=i.anchorNode;if(null!==n){const r=n.nodeType;r!==st&&r!==ot||xe(pi(s,i,e,t))}}Ue(e,r,t)}))}],["cut",Yn],["copy",Yn],["dragstart",Yn],["dragover",Yn],["dragend",Yn],["paste",Yn],["focus",Yn],["blur",Yn],["drop",Yn]];Y&&tr.push(["beforeinput",(t,e)=>function(t,e){const n=t.inputType,r=gr(t);"deleteCompositionText"===n||Q&&Je(e)||"insertCompositionText"!==n&&Xi(e,(()=>{const _=yi();if("deleteContentBackward"===n){if(null===_){const t=mi();if(!ei(t))return;xe(t.clone())}if(ei(_)){const n=_.anchor.key===_.focus.key;if(p=t.timeStamp,"Delete"===nr&&p<er+30&&e.isComposing()&&n){if(ue(null),er=0,setTimeout((()=>{Xi(e,(()=>{ue(null)}))}),30),ei(_)){const t=_.anchor.getNode();t.markDirty(),_.format=t.getFormat(),$r(t)||j(142),_.style=t.getStyle()}}else{ue(null),t.preventDefault();const r=_.anchor.getNode().getTextContent(),s=0===_.anchor.offset&&_.focus.offset===r.length;rt&&n&&!s||Ue(e,i,!0)}return}}var p;if(!ei(_))return;const y=t.data;null!==ir&&Ne(!1,e,ir),_.dirty&&null===ir||!_.isCollapsed()||rs(_.anchor.getNode())||null===r||_.applyDOMRange(r),ir=null;const m=_.anchor,x=_.focus,v=m.getNode(),T=x.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Ue(e,l,t);break;case"insertFromComposition":ue(null),Ue(e,l,t);break;case"insertLineBreak":ue(null),Ue(e,s,!1);break;case"insertParagraph":ue(null),cr&&!tt?(cr=!1,Ue(e,s,!1)):Ue(e,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Ue(e,c,t);break;case"deleteByComposition":(function(t,e){return t!==e||ts(t)||ts(e)||!t.isToken()||!e.isToken()})(v,T)&&Ue(e,a,t);break;case"deleteByDrag":case"deleteByCut":Ue(e,a,t);break;case"deleteContent":Ue(e,i,!1);break;case"deleteWordBackward":Ue(e,u,!0);break;case"deleteWordForward":Ue(e,u,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Ue(e,f,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Ue(e,f,!1);break;case"formatStrikeThrough":Ue(e,d,"strikethrough");break;case"formatBold":Ue(e,d,"bold");break;case"formatItalic":Ue(e,d,"italic");break;case"formatUnderline":Ue(e,d,"underline");break;case"historyUndo":Ue(e,h,void 0);break;case"historyRedo":Ue(e,g,void 0)}else{if("\n"===y)t.preventDefault(),Ue(e,s,!1);else if(y===kt)t.preventDefault(),Ue(e,o,void 0);else if(null==y&&t.dataTransfer){const e=t.dataTransfer.getData("text/plain");t.preventDefault(),_.insertRawText(e)}else null!=y&&fr(_,r,y,t.timeStamp,!0)?(t.preventDefault(),Ue(e,l,y)):ir=y;rr=t.timeStamp}}))}(t,e)]);let er=0,nr=null,rr=0,ir=null;const sr=new WeakMap;let or=!1,lr=!1,cr=!1,ar=!1,ur=[0,"",0,"root",0];function fr(t,e,n,r,i){const s=t.anchor,o=t.focus,l=s.getNode(),c=Bi(),a=ln(c._window),u=null!==a?a.anchorNode:null,f=s.key,d=c.getElementByKey(f),h=n.length;return f!==o.key||!$r(l)||(!i&&(!Y||rr<r+50)||l.isDirty()&&h<2||Se(n))&&s.offset!==o.offset&&!l.isComposing()||ne(l)||l.isDirty()&&h>1||(i||!Y)&&null!==d&&!l.isComposing()&&u!==ie(d)||null!==a&&null!==e&&(!e.collapsed||e.startContainer!==a.anchorNode||e.startOffset!==a.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||function Ee(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),i=e.isToken();return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(t){const e=t.getPreviousSibling();return($r(e)||ts(e)&&e.isInline())&&!e.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i)}(t,l)}function dr(t,e){return null!==t&&null!==t.nodeValue&&t.nodeType===ot&&0!==e&&e!==t.nodeValue.length}function hr(t,n,r){const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:l}=t;or&&(or=!1,dr(i,s)&&dr(o,l))||Xi(n,(()=>{if(!r)return void xe(null);if(!te(n,i,o))return;const c=yi();if(ei(c)){const e=c.anchor,r=e.getNode();if(c.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(c.dirty=!0);const i=Xe(n).event,s=i?i.timeStamp:performance.now(),[o,l,a,u,f]=ur,d=ye(),h=!1===n.isComposing()&&""===d.getTextContent();if(s<f+200&&e.offset===a&&e.key===u)c.format=o,c.style=l;else if("text"===e.type)$r(r)||j(141),c.format=r.getFormat(),c.style=r.getStyle();else if("element"===e.type&&!h){const t=e.getNode();t instanceof cs&&0===t.getChildrenSize()?c.format=t.getTextFormat():c.format=0,c.style=""}}else{const t=e.key,n=c.focus.key,r=c.getNodes(),i=r.length,o=c.isBackward(),a=o?l:s,u=o?s:l,f=o?n:t,d=o?t:n;let h=_t,g=!1;for(let t=0;t<i;t++){const e=r[t],n=e.getTextContentSize();if($r(e)&&0!==n&&!(0===t&&e.__key===f&&a===n||t===i-1&&e.__key===d&&0===u)&&(g=!0,h&=e.getFormat(),0===h))break}c.format=g?h:0}}Ue(n,e,void 0)}))}function gr(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return 0===e.length?null:e[0]}function _r(t,e){const n=t._compositionKey;if(ue(null),null!==n&&null!=e){if(""===e){const e=de(n),r=ie(t.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&$r(e)&&we(e,r.nodeValue,null,null,!0))}if("\n"===e[e.length-1]){const e=yi();if(ei(e)){const n=e.focus;return e.anchor.set(n.key,n.offset,n.type),void Ue(t,S,null)}}}Ne(!0,t,e)}function pr(t){let e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e}const yr=new Map;function mr(t){const e=t.target,n=ln(null==e?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null===n)return;const r=ee(n.anchorNode);if(null===r)return;lr&&(lr=!1,Xi(r,(()=>{const e=mi(),i=n.anchorNode;if(null===i)return;const s=i.nodeType;s!==st&&s!==ot||xe(pi(e,n,r,t))})));const i=ke(r),s=i[i.length-1],o=s._key,l=yr.get(o),c=l||s;c!==r&&hr(n,c,!1),hr(n,r,!0),r!==s?yr.set(o,r):l&&yr.delete(o)}function xr(t){t._lexicalHandled=!0}function vr(t){return!0===t._lexicalHandled}function Sr(t,e,n){Li();const r=t.__key,i=t.getParent();if(null===i)return;const s=function(t){const e=yi();if(!ei(e)||!ts(t))return e;const{anchor:n,focus:r}=e,i=n.getNode(),s=r.getNode();return Ze(i,t)&&n.set(t.__key,0,"element"),Ze(s,t)&&r.set(t.__key,0,"element"),e}(t);let o=!1;if(ei(s)&&e){const e=s.anchor,n=s.focus;e.key===r&&(Ti(e,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0),n.key===r&&(Ti(n,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0)}else ri(s)&&e&&t.isSelected()&&t.selectPrevious();if(ei(s)&&e&&!o){const e=t.getIndexWithinParent();ce(t),xi(s,i,e,-1)}else ce(t);n||Ge(i)||i.canBeEmpty()||!i.isEmpty()||Sr(i,e),e&&rs(i)&&i.isEmpty()&&i.selectEnd()}class kr{static getType(){j(64,this.name)}static clone(t){j(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,le(this,t)}getType(){return this.__type}isInline(){j(137,this.constructor.name)}isAttached(){let t=this.__key;for(;null!==t;){if("root"===t)return!0;const e=de(t);if(null===e)break;t=e.__parent}return!1}isSelected(t){const e=t||yi();if(null==e)return!1;const n=e.getNodes().some((t=>t.__key===this.__key));return($r(this)||!ei(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(null===t)return-1;let e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return null===t?null:de(t)}getParentOrThrow(){const t=this.getParent();return null===t&&j(66,this.__key),t}getTopLevelElement(){let t=this;for(;null!==t;){const e=t.getParent();if(Ge(e))return ts(t)||j(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return null===t&&j(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return null===t?null:de(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(null===e)return t;let n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return null===t?null:de(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),n=t.getParents();ts(this)&&e.unshift(this),ts(t)&&n.unshift(t);const r=e.length,i=n.length;if(0===r||0===i||e[r-1]!==n[i-1])return null;const s=new Set(n);for(let t=0;t<r;t++){const n=e[t];if(s.has(n))return n}return null}is(t){return null!=t&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let n=0,r=0,i=this;for(;;){const t=i.getParentOrThrow();if(t===e){n=i.getIndexWithinParent();break}i=t}for(i=t;;){const t=i.getParentOrThrow();if(t===e){r=i.getIndexWithinParent();break}i=t}return n<r}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let n=t;for(;null!==n;){if(n.__key===e)return!0;n=n.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),n=[],r=new Set;let i=this;for(;null!==i;){const s=i.__key;if(r.has(s)||(r.add(s),n.push(i)),i===t)break;const o=ts(i)?e?i.getFirstChild():i.getLastChild():null;if(null!==o){i=o;continue}const l=e?i.getNextSibling():i.getPreviousSibling();if(null!==l){i=l;continue}const c=i.getParentOrThrow();if(r.has(c.__key)||n.push(c),c===t)break;let a=null,u=c;do{if(null===u&&j(68),a=e?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null===u)break;null!==a||r.has(u.__key)||n.push(u)}while(null===a);i=a}return e||n.reverse(),n}isDirty(){const t=Bi()._dirtyLeaves;return null!==t&&t.has(this.__key)}getLatest(){const t=de(this.__key);return null===t&&j(113),t}getWritable(){Li();const t=Wi(),e=Bi(),n=t._nodeMap,r=this.__key,i=this.getLatest(),s=i.__parent,o=e._cloneNotNeeded,l=yi();if(null!==l&&l.setCachedNodes(null),o.has(r))return ae(i),i;const c=i.constructor.clone(i);return c.__parent=s,c.__next=i.__next,c.__prev=i.__prev,ts(i)&&ts(c)?(fs(i)&&fs(c)&&(c.__textFormat=i.__textFormat),c.__first=i.__first,c.__last=i.__last,c.__size=i.__size,c.__indent=i.__indent,c.__format=i.__format,c.__dir=i.__dir):$r(i)&&$r(c)&&(c.__format=i.__format,c.__style=i.__style,c.__mode=i.__mode,c.__detail=i.__detail),o.add(r),c.__key=r,ae(c),n.set(r,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){j(70)}updateDOM(t,e,n){j(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){j(72)}static importJSON(t){j(18,this.name)}static transform(){return null}remove(t){Sr(this,!0,t)}replace(t,e){Li();let n=yi();null!==n&&(n=n.clone()),nn(this,t);const r=this.getLatest(),i=this.__key,s=t.__key,o=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;ce(o);const a=r.getPreviousSibling(),u=r.getNextSibling(),f=r.__prev,d=r.__next,h=r.__parent;if(Sr(r,!1,!0),null===a?l.__first=s:a.getWritable().__next=s,o.__prev=f,null===u?l.__last=s:u.getWritable().__prev=s,o.__next=d,o.__parent=h,l.__size=c,e&&(ts(this)&&ts(o)||j(139),this.getChildren().forEach((t=>{o.append(t)}))),ei(n)){xe(n);const t=n.anchor,e=n.focus;t.key===i&&Yr(t,o),e.key===i&&Yr(e,o)}return fe()===i&&ue(s),o}insertAfter(t,e=!0){Li(),nn(this,t);const n=this.getWritable(),r=t.getWritable(),i=r.getParent(),s=yi();let o=!1,l=!1;if(null!==i){const e=t.getIndexWithinParent();if(ce(r),ei(s)){const t=i.__key,n=s.anchor,r=s.focus;o="element"===n.type&&n.key===t&&n.offset===e+1,l="element"===r.type&&r.key===t&&r.offset===e+1}}const c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c?a.__last=u:c.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&ei(s)){const t=this.getIndexWithinParent();xi(s,a,t+1);const e=a.__key;o&&s.anchor.set(e,t+2,"element"),l&&s.focus.set(e,t+2,"element")}return t}insertBefore(t,e=!0){Li(),nn(this,t);const n=this.getWritable(),r=t.getWritable(),i=r.__key;ce(r);const s=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();null===s?o.__first=i:s.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const a=yi();return e&&ei(a)&&xi(a,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return us()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){Li();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(ts(n))return n.select();if(!$r(n)){const t=n.getIndexWithinParent()+1;return r.select(t,t)}return n.select(t,e)}selectNext(t,e){Li();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(ts(n))return n.select(0,0);if(!$r(n)){const t=n.getIndexWithinParent();return r.select(t,t)}return n.select(t,e)}markDirty(){this.getWritable()}}class Cr extends kr{static getType(){return"linebreak"}static clone(t){return new Cr(t.__key)}constructor(t){super(t)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(t){const e=t.parentElement;if(null!==e){const n=e.firstChild;if(n===t||n.nextSibling===t&&Er(n)){const n=e.lastChild;if(n===t||n.previousSibling===t&&Er(n))return!0}}return!1}(t)?null:{conversion:br,priority:0}}}static importJSON(t){return Nr()}exportJSON(){return{type:"linebreak",version:1}}}function br(t){return{node:Nr()}}function Nr(){return en(new Cr)}function wr(t){return t instanceof Cr}function Er(t){return t.nodeType===ot&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Pr(t,e){return 16&e?"code":128&e?"mark":32&e?"sub":64&e?"sup":null}function Dr(t,e){return 1&e?"strong":2&e?"em":"span"}function Fr(t,e,n,r,i){const s=r.classList;let o=We(i,"base");void 0!==o&&s.add(...o),o=We(i,"underlineStrikethrough");let l=!1;const c=e&gt&&e&ht;void 0!==o&&(n&gt&&n&ht?(l=!0,c||s.add(...o)):c&&s.remove(...o));for(const t in Pt){const r=Pt[t];if(o=We(i,t),void 0!==o)if(n&r){if(l&&("underline"===t||"strikethrough"===t)){e&r&&s.remove(...o);continue}e&r&&(!c||"underline"!==t)&&"strikethrough"!==t||s.add(...o)}else e&r&&s.remove(...o)}}function Or(t,e,n){const r=e.firstChild,i=n.isComposing(),s=t+(i?St:"");if(null==r)e.textContent=s;else{const t=r.nodeValue;if(t!==s)if(i||Q){const[e,n,i]=function(t,e){const n=t.length,r=e.length;let i=0,s=0;for(;i<n&&i<r&&t[i]===e[i];)i++;for(;s+i<n&&s+i<r&&t[n-s-1]===e[r-s-1];)s++;return[i,n-i-s,e.slice(i,r-s)]}(t,s);0!==n&&r.deleteData(e,n),r.insertData(e,i)}else r.nodeValue=s}}function Ir(t,e,n,r,i,s){Or(i,t,e);const o=s.theme.text;void 0!==o&&Fr(0,0,r,t,o)}function Ar(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Lr extends kr{static getType(){return"text"}static clone(t){return new Lr(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return At[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===fe()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=Pt[t];return!!(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return se(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const n=this.__format,r=Pr(0,n),i=Dr(0,n),s=null===r?i:r,o=document.createElement(s);let l=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),o.appendChild(l)),Ir(l,this,0,n,this.__text,t);const c=this.__style;return""!==c&&(o.style.cssText=c),o}updateDOM(t,e,n){const r=this.__text,i=t.__format,s=this.__format,o=Pr(0,i),l=Pr(0,s),c=Dr(0,i),a=Dr(0,s);if((null===o?c:o)!==(null===l?a:l))return!0;if(o===l&&c!==a){const t=e.firstChild;null==t&&j(48);const i=document.createElement(a);return Ir(i,this,0,s,r,n),e.replaceChild(i,t),!1}let u=e;null!==l&&null!==o&&(u=e.firstChild,null==u&&j(49)),Or(r,u,this);const f=n.theme.text;void 0!==f&&i!==s&&Fr(0,i,s,u,f);const d=t.__style,h=this.__style;return d!==h&&(e.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:Kr,priority:0}),b:()=>({conversion:Wr,priority:0}),code:()=>({conversion:Ur,priority:0}),em:()=>({conversion:Ur,priority:0}),i:()=>({conversion:Ur,priority:0}),s:()=>({conversion:Ur,priority:0}),span:()=>({conversion:Mr,priority:0}),strong:()=>({conversion:Ur,priority:0}),sub:()=>({conversion:Ur,priority:0}),sup:()=>({conversion:Ur,priority:0}),u:()=>({conversion:Ur,priority:0})}}static importJSON(t){const e=Vr(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return null!==e&&un(e)||j(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Ar(e,"b")),this.hasFormat("italic")&&(e=Ar(e,"i")),this.hasFormat("strikethrough")&&(e=Ar(e,"s")),this.hasFormat("underline")&&(e=Ar(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format="string"==typeof t?Pt[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail="string"==typeof t?Dt[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=se(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=It[t];if(this.__mode===e)return this;const n=this.getWritable();return n.__mode=e,n}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){Li();let n=t,r=e;const i=yi(),s=this.getTextContent(),o=this.__key;if("string"==typeof s){const t=s.length;void 0===n&&(n=t),void 0===r&&(r=t)}else n=0,r=0;if(!ei(i))return di(o,n,o,r,"text","text");{const t=fe();t!==i.anchor.key&&t!==i.focus.key||ue(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,n,r){const i=this.getWritable(),s=i.__text,o=n.length;let l=t;l<0&&(l=o+l,l<0&&(l=0));const c=yi();if(r&&ei(c)){const e=t+o;c.setTextNodeRange(i,e,i,e)}const a=s.slice(0,l)+n+s.slice(l+e);return i.__text=a,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Li();const e=this.getLatest(),n=e.getTextContent(),r=e.__key,i=fe(),s=new Set(t),o=[],l=n.length;let c="";for(let t=0;t<l;t++)""!==c&&s.has(t)&&(o.push(c),c=""),c+=n[t];""!==c&&o.push(c);const a=o.length;if(0===a)return[];if(o[0]===n)return[e];const u=o[0],f=e.getParentOrThrow();let d;const h=e.getFormat(),g=e.getStyle(),_=e.__detail;let p=!1;e.isSegmented()?(d=Vr(u),d.__format=h,d.__style=g,d.__detail=_,p=!0):(d=e.getWritable(),d.__text=u);const y=yi(),m=[d];let x=u.length;for(let t=1;t<a;t++){const e=o[t],n=e.length,s=Vr(e).getWritable();s.__format=h,s.__style=g,s.__detail=_;const l=s.__key,c=x+n;if(ei(y)){const t=y.anchor,e=y.focus;t.key===r&&"text"===t.type&&t.offset>x&&t.offset<=c&&(t.key=l,t.offset-=x,y.dirty=!0),e.key===r&&"text"===e.type&&e.offset>x&&e.offset<=c&&(e.key=l,e.offset-=x,y.dirty=!0)}i===r&&ue(l),x=c,m.push(s)}!function(t){const e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&ae(e),null!==n&&ae(n)}(this);const v=f.getWritable(),T=this.getIndexWithinParent();return p?(v.splice(T,0,m),this.remove()):v.splice(T,1,m),ei(y)&&xi(y,f,T,a-1),m}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||j(50);const n=this.__key,r=t.__key,i=this.__text,s=i.length;fe()===r&&ue(n);const o=yi();if(ei(o)){const i=o.anchor,l=o.focus;null!==i&&i.key===r&&(Si(i,e,n,t,s),o.dirty=!0),null!==l&&l.key===r&&(Si(l,e,n,t,s),o.dirty=!0)}const l=t.__text,c=e?l+i:i+l;this.setTextContent(c);const a=this.getWritable();return t.remove(),a}isTextEntity(){return!1}}function Mr(t){const e=t.style,n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,s=r.includes("line-through"),o="italic"===e.fontStyle,l=r.includes("underline"),c=e.verticalAlign;return{forChild:t=>$r(t)?(i&&t.toggleFormat("bold"),s&&t.toggleFormat("strikethrough"),o&&t.toggleFormat("italic"),l&&t.toggleFormat("underline"),"sub"===c&&t.toggleFormat("subscript"),"super"===c&&t.toggleFormat("superscript"),t):t,node:null}}function Wr(t){const e="normal"===t.style.fontWeight;return{forChild:t=>($r(t)&&!e&&t.toggleFormat("bold"),t),node:null}}const Br=new WeakMap;function zr(t){return"PRE"===t.nodeName||t.nodeType===st&&void 0!==t.style&&void 0!==t.style.whiteSpace&&t.style.whiteSpace.startsWith("pre")}function Kr(t){const e=t;null===t.parentElement&&j(129);let n=e.textContent||"";if(null!==function(t){let e,n=t.parentNode;const r=[t];for(;null!==n&&void 0===(e=Br.get(n))&&!zr(n);)r.push(n),n=n.parentNode;const i=void 0===e?n:e;for(let t=0;t<r.length;t++)Br.set(r[t],i);return i}(e)){const t=n.split(/(\r?\n|\t)/),e=[],r=t.length;for(let n=0;n<r;n++){const r=t[n];"\n"===r||"\r\n"===r?e.push(Nr()):"\t"===r?e.push(jr()):""!==r&&e.push(Vr(r))}return{node:e}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let t=e,r=!0;for(;null!==t&&null!==(t=Rr(t,!1));){const e=t.textContent||"";if(e.length>0){/[ \t\n]$/.test(e)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let t=e,r=!0;for(;null!==t&&null!==(t=Rr(t,!0));)if((t.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Vr(n)}}function Rr(t,e){let n=t;for(;;){let t;for(;null===(t=e?n.nextSibling:n.previousSibling);){const t=n.parentElement;if(null===t)return null;n=t}if(n=t,n.nodeType===st){const t=n.style.display;if(""===t&&!fn(n)||""!==t&&!t.startsWith("inline"))return null}let r=n;for(;null!==(r=e?n.firstChild:n.lastChild);)n=r;if(n.nodeType===ot)return n;if("BR"===n.nodeName)return null}}const Jr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ur(t){const e=Jr[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:t=>($r(t)&&!t.hasFormat(e)&&t.toggleFormat(e),t),node:null}}function Vr(t=""){return en(new Lr(t))}function $r(t){return t instanceof Lr}class Hr extends Lr{static getType(){return"tab"}static clone(t){const e=new Hr(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("\t",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=jr();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){j(126)}setDetail(t){j(127)}setMode(t){j(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function jr(){return en(new Hr)}function qr(t){return t instanceof Hr}class Zr{constructor(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),n=t.getNode();const r=this.offset,i=t.offset;if(ts(e)){const t=e.getDescendantByIndex(r);e=null!=t?t:e}if(ts(n)){const t=n.getDescendantByIndex(i);n=null!=t?t:n}return e===n?r<i:e.isBefore(n)}getNode(){const t=de(this.key);return null===t&&j(20),t}set(t,e,n){const r=this._selection,i=this.key;this.key=t,this.offset=e,this.type=n,Ai()||(fe()===i&&ue(t),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function Xr(t,e,n){return new Zr(t,e,n)}function Qr(t,e){let n=e.__key,r=t.offset,i="element";if($r(e)){i="text";const t=e.getTextContentSize();r>t&&(r=t)}else if(!ts(e)){const t=e.getNextSibling();if($r(t))n=t.__key,r=0,i="text";else{const t=e.getParent();t&&(n=t.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function Yr(t,e){if(ts(e)){const n=e.getLastDescendant();ts(n)||$r(n)?Qr(t,n):Qr(t,e)}else Qr(t,e)}function Gr(t,e,n,r){t.key=e,t.offset=n,t.type=r}class ti{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!ri(t))return!1;const e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every((t=>n.has(t)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new ti(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),n=e.length,r=e[n-1];let i;if($r(r))i=r.select();else{const t=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(t,t)}i.insertNodes(t);for(let t=0;t<n;t++)e[t].remove()}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this._nodes,n=[];for(const t of e){const e=de(t);null!==e&&n.push(e)}return Ai()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let e="";for(let n=0;n<t.length;n++)e+=t[n].getTextContent();return e}}function ei(t){return t instanceof ni}class ni{constructor(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!ei(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this.anchor,n=this.focus,r=e.isBefore(n),i=r?e:n,s=r?n:e;let o=i.getNode(),l=s.getNode();const c=i.offset,a=s.offset;if(ts(o)){const t=o.getDescendantByIndex(c);o=null!=t?t:o}if(ts(l)){let t=l.getDescendantByIndex(a);null!==t&&t!==o&&l.getChildAtIndex(a)===t&&(t=t.getPreviousSibling()),l=null!=t?t:l}let u;return u=o.is(l)?ts(o)&&o.getChildrenSize()>0?[]:[o]:o.getNodesBetween(l),Ai()||(this._cachedNodes=u),u}setTextNodeRange(t,e,n,r){Gr(this.anchor,t.__key,e,"text"),Gr(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(0===t.length)return"";const e=t[0],n=t[t.length-1],r=this.anchor,i=this.focus,s=r.isBefore(i),[o,l]=si(this);let c="",a=!0;for(let u=0;u<t.length;u++){const f=t[u];if(ts(f)&&!f.isInline())a||(c+="\n"),a=!f.isEmpty();else if(a=!1,$r(f)){let t=f.getTextContent();f===e?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(t=o<l?t.slice(o,l):t.slice(l,o)):t=s?t.slice(o):t.slice(l):f===n&&(t=s?t.slice(0,l):t.slice(0,o)),c+=t}else!Yi(f)&&!wr(f)||f===n&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(t){const e=Bi(),n=e.getEditorState()._selection,r=ui(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;const[i,s]=r;Gr(this.anchor,i.key,i.offset,i.type),Gr(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new ni(Xr(t.key,t.offset,t.type),Xr(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=se(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=Pt[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(let t=0;t<r;t++){const r=e[t];"\n"===r||"\r\n"===r?n.push(Nr()):"\t"===r?n.push(jr()):n.push(Vr(r))}this.insertNodes(n)}insertText(t){const e=this.anchor,n=this.focus,r=this.format,i=this.style;let s=e,o=n;!this.isCollapsed()&&n.isBefore(e)&&(s=n,o=e),"element"===s.type&&function(t,e,n,r){const i=t.getNode(),s=i.getChildAtIndex(t.offset),o=Vr(),l=rs(i)?us().append(o):o;o.setFormat(n),o.setStyle(r),null===s?i.append(l):s.insertBefore(l),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}(s,o,r,i);const l=s.offset;let c=o.offset;const a=this.getNodes(),u=a.length;let f=a[0];$r(f)||j(26);const d=f.getTextContent().length,h=f.getParentOrThrow();let g=a[u-1];if(1===u&&"element"===o.type&&(c=d,o.set(s.key,c,"text")),this.isCollapsed()&&l===d&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!h.canInsertTextAfter()&&null===f.getNextSibling())){let e=f.getNextSibling();if($r(e)&&e.canInsertTextBefore()&&!ne(e)||(e=Vr(),e.setFormat(r),h.canInsertTextAfter()?f.insertAfter(e):h.insertAfter(e)),e.select(0,0),f=e,""!==t)return void this.insertText(t)}else if(this.isCollapsed()&&0===l&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!h.canInsertTextBefore()&&null===f.getPreviousSibling())){let e=f.getPreviousSibling();if($r(e)&&!ne(e)||(e=Vr(),e.setFormat(r),h.canInsertTextBefore()?f.insertBefore(e):h.insertBefore(e)),e.select(),f=e,""!==t)return void this.insertText(t)}else if(f.isSegmented()&&l!==d){const t=Vr(f.getTextContent());t.setFormat(r),f.replace(t),f=t}else if(!this.isCollapsed()&&""!==t){const e=g.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||ts(e)&&(!e.canInsertTextBefore()||!e.canInsertTextAfter()))return this.insertText(""),ai(this.anchor,this.focus,null),void this.insertText(t)}if(1===u){if(f.isToken()){const e=Vr(t);return e.select(),void f.replace(e)}const e=f.getFormat(),n=f.getStyle();if(l!==c||e===r&&n===i){if(qr(f)){const e=Vr(t);return e.setFormat(r),e.setStyle(i),e.select(),void f.replace(e)}}else{if(""!==f.getTextContent()){const e=Vr(t);if(e.setFormat(r),e.setStyle(i),e.select(),0===l)f.insertBefore(e,!1);else{const[t]=f.splitText(l);t.insertAfter(e,!1)}return void(e.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length))}f.setFormat(r),f.setStyle(i)}const s=c-l;f=f.spliceText(l,s,t,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=t.length:(this.format=e,this.style=n))}else{const e=new Set([...f.getParentKeys(),...g.getParentKeys()]),n=ts(f)?f:f.getParentOrThrow();let r=ts(g)?g:g.getParentOrThrow(),i=g;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===o.type&&(0!==c||""===g.getTextContent())||"element"===o.type&&g.getIndexWithinParent()<c)if($r(g)&&!g.isToken()&&c!==g.getTextContentSize()){if(g.isSegmented()){const t=Vr(g.getTextContent());g.replace(t),g=t}rs(o.getNode())||"text"!==o.type||(g=g.spliceText(0,c,"")),e.add(g.__key)}else{const t=g.getParentOrThrow();t.canBeEmpty()||1!==t.getChildrenSize()?g.remove():t.remove()}else e.add(g.__key);const s=r.getChildren(),h=new Set(a),_=n.is(r),p=n.isInline()&&null===f.getNextSibling()?n:f;for(let t=s.length-1;t>=0;t--){const e=s[t];if(e.is(f)||ts(e)&&e.isParentOf(f))break;e.isAttached()&&(!h.has(e)||e.is(i)?_||p.insertAfter(e,!1):e.remove())}if(!_){let t=r,n=null;for(;null!==t;){const r=t.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(e.delete(t.__key),n=t),t=t.getParent()}}if(f.isToken())if(l===d)f.select();else{const e=Vr(t);e.select(),f.replace(e)}else f=f.spliceText(l,d-l,t,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length);for(let t=1;t<u;t++){const n=a[t],r=n.__key;e.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void ue(null);const e=this.getNodes(),n=[];for(const t of e)$r(t)&&n.push(t);const r=n.length;if(0===r)return this.toggleFormat(t),void ue(null);const i=this.anchor,s=this.focus,o=this.isBackward(),l=o?s:i,c=o?i:s;let a=0,u=n[0],f="element"===l.type?0:l.offset;if("text"===l.type&&f===u.getTextContentSize()&&(a=1,u=n[1],f=0),null==u)return;const d=u.getFormatFlags(t,null),h=r-1;let g=n[h];const _="text"===c.type?c.offset:g.getTextContentSize();if(u.is(g)){if(f===_)return;if(0===f&&_===u.getTextContentSize())u.setFormat(d);else{const t=u.splitText(f,_),e=0===f?t[0]:t[1];e.setFormat(d),"text"===l.type&&l.set(e.__key,0,"text"),"text"===c.type&&c.set(e.__key,_-f,"text")}return void(this.format=d)}0!==f&&([,u]=u.splitText(f),f=0),u.setFormat(d);const p=g.getFormatFlags(t,d);_>0&&(_!==g.getTextContentSize()&&([g]=g.splitText(_)),g.setFormat(p));for(let e=a+1;e<h;e++){const r=n[e];if(!r.isToken()){const e=r.getFormatFlags(t,p);r.setFormat(e)}}"text"===l.type&&l.set(u.__key,f,"text"),"text"===c.type&&c.set(g.__key,_,"text"),this.format=d|p}insertNodes(t){if(0===t.length)return;if("root"===this.anchor.key){this.insertParagraph();const e=yi();return ei(e)||j(134),e.insertNodes(t)}const e=gn((this.isBackward()?this.focus:this.anchor).getNode(),hn),n=t[t.length-1];if("__language"in e&&ts(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const r=Ni(this);e.splice(r,0,t),n.selectEnd()}return}if(!t.some((t=>(ts(t)||Yi(t))&&!t.isInline()))){ts(e)||j(135);const r=Ni(this);return e.splice(r,0,t),void n.selectEnd()}const r=function(t){const e=us();let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=wr(i);if(s||Yi(i)&&i.isInline()||ts(i)&&i.isInline()||$r(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),e.append(n),s))continue;null!==n&&n.append(i)}else e.append(i),n=null}return e}(t),i=r.getLastDescendant(),s=r.getChildren(),o=t=>"__value"in t&&"__checked"in t,l=ts(e)&&e.isEmpty()?null:this.insertParagraph(),c=s[s.length-1];let a=s[0];var u;ts(u=a)&&hn(u)&&!u.isEmpty()&&ts(e)&&(!e.isEmpty()||o(e))&&(ts(e)||j(135),e.append(...a.getChildren()),a=s[1]),a&&function(t,e,n){const r=e.getParentOrThrow().getLastChild();let i=e;const s=[e];for(;i!==r;)i.getNextSibling()||j(140),i=i.getNextSibling(),s.push(i);let o=t;for(const t of s)o=o.insertAfter(t)}(e,a);const f=gn(i,hn);l&&ts(f)&&(o(l)||hn(c))&&(f.append(...l.getChildren()),l.remove()),ts(e)&&e.isEmpty()&&e.remove(),i.selectEnd();const d=ts(e)?e.getLastChild():null;wr(d)&&f!==e&&d.remove()}insertParagraph(){if("root"===this.anchor.key){const t=us();return ye().splice(this.anchor.offset,0,[t]),t.select(),t}const t=Ni(this),e=gn(this.anchor.getNode(),hn);ts(e)||j(136);const n=e.getChildAtIndex(t),r=n?[n,...n.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(t){const e=Nr();if(this.insertNodes([e]),t){const t=e.getParentOrThrow(),n=e.getIndexWithinParent();t.select(n,n)}}extract(){const t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,i=this.focus;let s=t[0],o=t[n];const[l,c]=si(this);if(0===e)return[];if(1===e){if($r(s)&&!this.isCollapsed()){const t=l>c?c:l,e=l>c?l:c,n=s.splitText(t,e),r=0===t?n[0]:n[1];return null!=r?[r]:[]}return[s]}const a=r.isBefore(i);if($r(s)){const e=a?l:c;e===s.getTextContentSize()?t.shift():0!==e&&([,s]=s.splitText(e),t[0]=s)}if($r(o)){const e=o.getTextContent().length,r=a?c:l;0===r?t.pop():r!==e&&([o]=o.splitText(r),t[n]=o)}return t}modify(t,e,n){const r=this.focus,i=this.anchor,s="move"===t,o=Re(r,e);if(Yi(o)&&!o.isIsolated()){if(s&&o.isKeyboardSelectable()){const t=gi();return t.add(o.__key),void xe(t)}const t=e?o.getPreviousSibling():o.getNextSibling();if($r(t)){const n=t.__key,o=e?t.getTextContent().length:0;return r.set(n,o,"text"),void(s&&i.set(n,o,"text"))}{const n=o.getParentOrThrow();let l,c;return ts(t)?(c=t.__key,l=e?t.getChildrenSize():0):(l=o.getIndexWithinParent(),c=n.__key,e||l++),r.set(c,l,"element"),void(s&&i.set(c,l,"element"))}}const l=Bi(),c=ln(l._window);if(!c)return;const a=l._blockCursorElement,u=l._rootElement;if(null===u||null===a||!ts(o)||o.isInline()||o.canBeEmpty()||sn(a,l,u),function(t,e,n,r){t.modify(e,n,r)}(c,t,e?"backward":"forward",n),c.rangeCount>0){const t=c.getRangeAt(0),n=this.anchor.getNode(),r=rs(n)?n:function Ye(t){let e=t.getParentOrThrow();for(;null!==e;){if(Ge(e))return e;e=e.getParentOrThrow()}return e}(n);if(this.applyDOMRange(t),this.dirty=!0,!s){const n=this.getNodes(),i=[];let s=!1;for(let t=0;t<n.length;t++){const e=n[t];Ze(e,r)?i.push(e):s=!0}if(s&&i.length>0)if(e){const t=i[0];ts(t)?t.selectStart():t.getParentOrThrow().selectStart()}else{const t=i[i.length-1];ts(t)?t.selectEnd():t.getParentOrThrow().selectEnd()}c.anchorNode===t.startContainer&&c.anchorOffset===t.startOffset||function(t){const e=t.focus,n=t.anchor,r=n.key,i=n.offset,s=n.type;Gr(n,e.key,e.offset,e.type),Gr(e,r,i,s),t._cachedNodes=null}(this)}}}forwardDeletion(t,e,n){if(!n&&("element"===t.type&&ts(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){const t=e.getParent(),n=e.getNextSibling()||(null===t?null:t.getNextSibling());if(ts(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let r=n.getNode();if(this.forwardDeletion(n,r,t))return;const i=this.focus,s=Re(i,t);if(Yi(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&ts(r)&&0===r.getChildrenSize()){r.remove();const t=gi();t.add(s.__key),xe(t)}else s.remove(),Bi().dispatchCommand(e,void 0);return}if(!t&&ts(s)&&ts(r)&&r.isEmpty())return r.remove(),void s.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const e="text"===i.type?i.getNode():null;if(r="text"===n.type?n.getNode():null,null!==e&&e.isSegmented()){const n=i.offset,s=e.getTextContentSize();if(e.is(r)||t&&n!==s||!t&&0!==n)return void oi(e,t,n)}else if(null!==r&&r.isSegmented()){const i=n.offset,s=r.getTextContentSize();if(r.is(e)||t&&0!==i||!t&&i!==s)return void oi(r,t,i)}!function(t,e){const n=t.anchor,r=t.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const t=n.offset,s=r.offset,o=t<s,l=o?t:s,c=o?s:t,a=c-1;l!==a&&(Se(i.getTextContent().slice(l,c))||(e?r.offset=a:n.offset=a))}}(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const t=this.anchor.getNode();t.isEmpty()&&rs(t.getParent())&&0===t.getIndexWithinParent()&&t.collapseAtStart(this)}}deleteLine(t){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",t,"lineboundary"),0===(t?this.focus:this.anchor).offset&&this.modify("extend",t,"character")),this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,n=e.getNode();if(this.forwardDeletion(e,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ri(t){return t instanceof ti}function ii(t){const e=t.offset;if("text"===t.type)return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function si(t){const e=t.getStartEndPoints();if(null===e)return[0,0];const[n,r]=e;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[ii(n),ii(r)]}function oi(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),s=i.length;let o=0,l=0;for(let t=0;t<s;t++){const r=t===s-1;if(l=o,o+=i[t].length,e&&o===n||o>n||r){i.splice(t,1),r&&(l=void 0);break}}const c=i.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l))}function li(t,e,n,r){let i,s=e;if(t.nodeType===st){let o=!1;const l=t.childNodes,c=l.length,a=r._blockCursorElement;s===c&&(o=!0,s=c-1);let u=l[s],f=!1;if(u===a)u=l[s+1],f=!0;else if(null!==a){const n=a.parentNode;t===n&&e>Array.prototype.indexOf.call(n.children,a)&&s--}if(i=ve(u),$r(i))s=Te(i,o);else{let r=ve(t);if(null===r)return null;if(ts(r)){s=Math.min(r.getChildrenSize(),s);let t=r.getChildAtIndex(s);if(ts(t)&&function(t,e,n){const r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(t,0,n)){const e=o?t.getLastDescendant():t.getFirstDescendant();null===e?r=t:(t=e,r=ts(t)?t:t.getParentOrThrow()),s=0}$r(t)?(i=t,r=null,s=Te(t,o)):t!==r&&o&&!f&&s++}else{const n=r.getIndexWithinParent();s=0===e&&Yi(r)&&ve(t)===r?n:n+1,r=r.getParentOrThrow()}if(ts(r))return Xr(r.__key,s,"element")}}else i=ve(t);return $r(i)?Xr(i.__key,s,"text"):null}function ci(t,e,n){const r=t.offset,i=t.getNode();if(0===r){const r=i.getPreviousSibling(),s=i.getParent();if(e){if((n||!e)&&null===r&&ts(s)&&s.isInline()){const e=s.getPreviousSibling();$r(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)}}else ts(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):$r(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)}else if(r===i.getTextContent().length){const r=i.getNextSibling(),s=i.getParent();if(e&&ts(r)&&r.isInline())t.key=r.__key,t.offset=0,t.type="element";else if((n||e)&&null===r&&ts(s)&&s.isInline()&&!s.canInsertTextAfter()){const e=s.getNextSibling();$r(e)&&(t.key=e.__key,t.offset=0)}}}function ai(t,e,n){if("text"===t.type&&"text"===e.type){const r=t.isBefore(e),i=t.is(e);ci(t,r,i),ci(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const s=Bi();if(s.isComposing()&&s._compositionKey!==t.key&&ei(n)){const r=n.anchor,i=n.focus;Gr(t,r.key,r.offset,r.type),Gr(e,i.key,i.offset,i.type)}}}function ui(t,e,n,r,i,s){if(null===t||null===n||!te(i,t,n))return null;const o=li(t,e,ei(s)?s.anchor:null,i);if(null===o)return null;const l=li(n,r,ei(s)?s.focus:null,i);if(null===l)return null;if("element"===o.type&&"element"===l.type){const e=ve(t),r=ve(n);if(Yi(e)&&Yi(r))return null}return ai(o,l,s),[o,l]}function fi(t){return ts(t)&&!t.isInline()}function di(t,e,n,r,i,s){const o=Wi(),l=new ni(Xr(t,e,i),Xr(n,r,s),0,"");return l.dirty=!0,o._selection=l,l}function hi(){const t=Xr("root",0,"element"),e=Xr("root",0,"element");return new ni(t,e,0,"")}function gi(){return new ti(new Set)}function _i(t,e){return pi(null,t,e,null)}function pi(t,e,n,r){const i=n._window;if(null===i)return null;const s=r||i.event,o=s?s.type:void 0,l="selectionchange"===o,c=!Wt&&(l||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&s&&3===s.detail||"drop"===o||void 0===o);let a,u,f,d;if(ei(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&ei(t)&&!te(n,a,u))return t.clone();const h=ui(a,f,u,d,n,t);if(null===h)return null;const[g,_]=h;return new ni(g,_,ei(t)?t.format:0,ei(t)?t.style:"")}function yi(){return Wi()._selection}function mi(){return Bi()._editorState._selection}function xi(t,e,n,r=1){const i=t.anchor,s=t.focus,o=i.getNode(),l=s.getNode();if(!e.is(o)&&!e.is(l))return;const c=e.__key;if(t.isCollapsed()){const e=i.offset;if(n<=e&&r>0||n<e&&r<0){const n=Math.max(0,e+r);i.set(c,n,"element"),s.set(c,n,"element"),vi(t)}}else{const o=t.isBackward(),l=o?s:i,a=l.getNode(),u=o?i:s,f=u.getNode();if(e.is(a)){const t=l.offset;(n<=t&&r>0||n<t&&r<0)&&l.set(c,Math.max(0,t+r),"element")}if(e.is(f)){const t=u.offset;(n<=t&&r>0||n<t&&r<0)&&u.set(c,Math.max(0,t+r),"element")}}vi(t)}function vi(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,s=e.getNode(),o=r.getNode();if(t.isCollapsed()){if(!ts(s))return;const t=s.getChildrenSize(),i=n>=t,o=i?s.getChildAtIndex(t-1):s.getChildAtIndex(n);if($r(o)){let t=0;i&&(t=o.getTextContentSize()),e.set(o.__key,t,"text"),r.set(o.__key,t,"text")}}else{if(ts(s)){const t=s.getChildrenSize(),r=n>=t,i=r?s.getChildAtIndex(t-1):s.getChildAtIndex(n);if($r(i)){let t=0;r&&(t=i.getTextContentSize()),e.set(i.__key,t,"text")}}if(ts(o)){const t=o.getChildrenSize(),e=i>=t,n=e?o.getChildAtIndex(t-1):o.getChildAtIndex(i);if($r(n)){let t=0;e&&(t=n.getTextContentSize()),r.set(n.__key,t,"text")}}}}function Ti(t,e,n,r,i){let s=null,o=0,l=null;null!==r?(s=r.__key,$r(r)?(o=r.getTextContentSize(),l="text"):ts(r)&&(o=r.getChildrenSize(),l="element")):null!==i&&(s=i.__key,$r(i)?l="text":ts(i)&&(l="element")),null!==s&&null!==l?t.set(s,o,l):(o=e.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),t.set(n.__key,o,"element"))}function Si(t,e,n,r,i){"text"===t.type?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function Ci(t){let e=yi()||mi();null===e&&(e=ye().selectEnd()),e.insertNodes(t)}function Ni(t){let e=t;t.isCollapsed()||e.removeText();const n=yi();ei(n)&&(e=n),ei(e)||j(161);const r=e.anchor;let i=r.getNode(),s=r.offset;for(;!hn(i);)[i,s]=wi(i,s);return s}function wi(t,e){const n=t.getParent();if(!n){const t=us();return ye().append(t),t.select(),[ye(),0]}if($r(t)){const r=t.splitText(e);if(0===r.length)return[n,t.getIndexWithinParent()];const i=0===e?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!ts(t)||0===e)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const n=new ni(Xr(t.__key,e,"element"),Xr(t.__key,e,"element"),0,""),i=t.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}let Ei=null,Pi=null,Di=!1,Fi=!1,Oi=0;const Ii={characterData:!0,childList:!0,subtree:!0};function Ai(){return Di||null!==Ei&&Ei._readOnly}function Li(){Di&&j(13)}function Mi(){Oi>99&&j(14)}function Wi(){return null===Ei&&j(15),Ei}function Bi(){return null===Pi&&j(16),Pi}function Ki(t,e,n){const r=e.__type,i=function(t,e){const n=t._nodes.get(e);return void 0===n&&j(30,e),n}(t,r);let s=n.get(r);void 0===s&&(s=Array.from(i.transforms),n.set(r,s));const o=s.length;for(let t=0;t<o&&(s[t](e),e.isAttached());t++);}function Ri(t,e){return void 0!==t&&t.__key!==e&&t.isAttached()}function Ji(t){return Ui(t,Bi()._nodes)}function Ui(t,e){const n=t.type,r=e.get(n);void 0===r&&j(17,n);const i=r.klass;t.type!==i.getType()&&j(18,i.name);const s=i.importJSON(t),o=t.children;if(ts(s)&&Array.isArray(o))for(let t=0;t<o.length;t++){const n=Ui(o[t],e);s.append(n)}return s}function Vi(t,e){const n=Ei,r=Di,i=Pi;Ei=t,Di=!0,Pi=null;try{return e()}finally{Ei=n,Di=r,Pi=i}}function $i(t,n){const r=t._pendingEditorState,i=t._rootElement,s=t._headless||null===i;if(null===r)return;const o=t._editorState,l=o._selection,c=r._selection,a=t._dirtyType!==lt,u=Ei,f=Di,d=Pi,h=t._updating,g=t._observer;let _=null;if(t._pendingEditorState=null,t._editorState=r,!s&&a&&null!==g){Pi=t,Ei=r,Di=!1,t._updating=!0;try{const e=t._dirtyType,n=t._dirtyElements,i=t._dirtyLeaves;g.disconnect(),_=function Xn(t,e,n,r,i,s){wn="",Dn="",En="",Fn=r===at,In=null,mn=n,yn=n._config,xn=n._nodes,vn=mn._listeners.mutation,Tn=i,Sn=s,kn=t._nodeMap,Cn=e._nodeMap,On=e._readOnly,bn=new Map(n._keyToDOMMap);const o=new Map;return Nn=o,jn("root",null),mn=void 0,xn=void 0,Tn=void 0,Sn=void 0,kn=void 0,Cn=void 0,yn=void 0,bn=void 0,Nn=void 0,o}(o,r,t,e,n,i)}catch(e){if(e instanceof Error&&t._onError(e),Fi)throw e;return ys(t,null,i,r),$t(t),t._dirtyType=at,Fi=!0,$i(t,o),void(Fi=!1)}finally{g.observe(i,Ii),t._updating=h,Ei=u,Di=f,Pi=d}}r._readOnly||(r._readOnly=!0);const p=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,v=t._deferred;a&&(t._dirtyType=lt,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(t,e){const n=t._decorators;let r=t._pendingDecorators||n;const i=e._nodeMap;let s;for(s in r)i.has(s)||(r===n&&(r=_e(t)),delete r[s])}(t,r);const T=s?null:ln(t._window);if(t._editable&&null!==T&&(a||null===c||c.dirty)){Pi=t,Ei=r;try{if(null!==g&&g.disconnect(),a||null===c||c.dirty){const e=t._blockCursorElement;null!==e&&sn(e,t,i),function ki(t,e,n,r,i,s,o){const l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(i.has("collaboration")&&f!==s||null!==f&&Gt(f))return;if(!ei(e))return void(null!==t&&te(n,l,c)&&r.removeAllRanges());const d=e.anchor,h=e.focus,g=d.key,_=h.key,p=$e(n,g),y=$e(n,_),m=d.offset,x=h.offset,v=e.format,T=e.style,S=e.isCollapsed();let k=p,C=y,b=!1;if("text"===d.type){k=ie(p);const t=d.getNode();b=t.getFormat()!==v||t.getStyle()!==T}else ei(t)&&"text"===t.anchor.type&&(b=!0);var N,w,E,P,D;if("text"===h.type&&(C=ie(y)),null!==k&&null!==C&&(S&&(null===t||b||ei(t)&&(t.format!==v||t.style!==T))&&(N=v,w=T,E=m,P=g,D=performance.now(),ur=[N,w,E,P,D]),a!==m||u!==x||l!==k||c!==C||"Range"===r.type&&S||(null!==f&&s.contains(f)||s.focus({preventScroll:!0}),"element"===d.type))){try{r.setBaseAndExtent(k,m,C,x)}catch(t){}if(!i.has("skip-scroll-into-view")&&e.isCollapsed()&&null!==s&&s===document.activeElement){const t=e instanceof ni&&"element"===e.anchor.type?k.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==t){let e;if(t instanceof Text){const n=document.createRange();n.selectNode(t),e=n.getBoundingClientRect()}else e=t.getBoundingClientRect();!function(t,e,n){const r=n.ownerDocument,i=r.defaultView;if(null===i)return;let{top:s,bottom:o}=e,l=0,c=0,a=n;for(;null!==a;){const e=a===r.body;if(e)l=0,c=Xe(t).innerHeight;else{const t=a.getBoundingClientRect();l=t.top,c=t.bottom}let n=0;if(s<l?n=-(l-s):o>c&&(n=o-c),0!==n)if(e)i.scrollBy(0,n);else{const t=a.scrollTop;a.scrollTop+=n;const e=a.scrollTop-t;s-=e,o-=e}if(e)break;a=He(a)}}(n,e,s)}}or=!0}}(l,c,t,T,x,i)}(function on(t,e,n){let r=t._blockCursorElement;if(ei(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){const i=n.anchor,s=i.getNode(),o=i.offset;let l=!1,c=null;if(o===s.getChildrenSize())rn(s.getChildAtIndex(o-1))&&(l=!0);else{const e=s.getChildAtIndex(o);if(rn(e)){const n=e.getPreviousSibling();(null===n||rn(n))&&(l=!0,c=t.getElementByKey(e.__key))}}if(l){const n=t.getElementByKey(s.__key);return null===r&&(t._blockCursorElement=r=function(t){const e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=e.blockCursor;if(void 0!==r){if("string"==typeof r){const t=Lt(r);r=e.blockCursor=t}void 0!==r&&n.classList.add(...r)}return n}(t._config)),e.style.caretColor="transparent",void(null===c?n.appendChild(r):n.insertBefore(r,c))}}null!==r&&sn(r,t,e)})(t,i,c),null!==g&&g.observe(i,Ii)}finally{Pi=d,Ei=u}}null!==_&&function(t,e,n,r,i){const s=Array.from(t._listeners.mutation),o=s.length;for(let t=0;t<o;t++){const[o,l]=s[t],c=e.get(l);void 0!==c&&o(c,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(t,_,x,p,o),ei(c)||null===c||null!==l&&l.is(c)||t.dispatchCommand(e,void 0);const S=t._pendingDecorators;null!==S&&(t._decorators=S,t._pendingDecorators=null,Hi("decorator",t,!0,S)),function(t,e,n){const r=pe(e),i=pe(n);r!==i&&Hi("textcontent",t,!0,i)}(t,n||o,r),Hi("update",t,!0,{dirtyElements:y,dirtyLeaves:p,editorState:r,normalizedNodes:m,prevEditorState:n||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){const n=t._updating;t._updating=!0;try{for(let t=0;t<e.length;t++)e[t]()}finally{t._updating=n}}}(t,v),function(t){const e=t._updates;if(0!==e.length){const n=e.shift();if(n){const[e,r]=n;Zi(t,e,r)}}}(t)}function Hi(t,e,n,...r){const i=e._updating;e._updating=n;try{const n=Array.from(e._listeners[t]);for(let t=0;t<n.length;t++)n[t].apply(null,r)}finally{e._updating=i}}function ji(t,e,n){if(!1===t._updating||Pi!==t){let r=!1;return t.update((()=>{r=ji(t,e,n)})),r}const r=ke(t);for(let i=4;i>=0;i--)for(let s=0;s<r.length;s++){const o=r[s]._commands.get(e);if(void 0!==o){const e=o[i];if(void 0!==e){const r=Array.from(e),i=r.length;for(let e=0;e<i;e++)if(!0===r[e](n,t))return!0}}}return!1}function qi(t,e){const n=t._updates;let r=e||!1;for(;0!==n.length;){const e=n.shift();if(e){const[n,i]=e;let s,o;void 0!==i&&(s=i.onUpdate,o=i.tag,i.skipTransforms&&(r=!0),s&&t._deferred.push(s),o&&t._updateTags.add(o)),n()}}return r}function Zi(t,e,n){const r=t._updateTags;let i,s,o=!1,l=!1;void 0!==n&&(i=n.onUpdate,s=n.tag,null!=s&&r.add(s),o=n.skipTransforms||!1,l=n.discrete||!1),i&&t._deferred.push(i);const c=t._editorState;let a=t._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=t._pendingEditorState=new os(new Map((a||c)._nodeMap)),u=!0),a._flushSync=l;const f=Ei,d=Di,h=Pi,g=t._updating;Ei=a,Di=!1,t._updating=!0,Pi=t;try{u&&(t._headless?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t){const e=t.getEditorState()._selection,n=ln(t._window);return ei(e)||null==e?pi(e,n,t,null):e.clone()}(t));const n=t._compositionKey;e(),o=qi(t,o),function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(ei(r)){const t=r.anchor,e=r.focus;let i;if("text"===t.type&&(i=t.getNode(),i.selectionTransform(n,r)),"text"===e.type){const t=e.getNode();i!==t&&t.selectionTransform(n,r)}}}(a,t),t._dirtyType!==lt&&(o?function(t,e){const n=e._dirtyLeaves,r=t._nodeMap;for(const t of n){const e=r.get(t);$r(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&qt(e)}}(a,t):function(t,e){const n=e._dirtyLeaves,r=e._dirtyElements,i=t._nodeMap,s=fe(),o=new Map;let l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set;for(const t of l){const r=i.get(t);$r(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&qt(r),void 0!==r&&Ri(r,s)&&Ki(e,r,o),n.add(t)}if(l=e._dirtyLeaves,c=l.size,c>0){Oi++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(const t of a){const n=t[0],l=t[1];if("root"!==n&&!l)continue;const c=i.get(n);void 0!==c&&Ri(c,s)&&Ki(e,c,o),r.set(n,l)}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,Oi++}e._dirtyLeaves=n,e._dirtyElements=r}(a,t),qi(t),function(t,e,n,r){const i=t._nodeMap,s=e._nodeMap,o=[];for(const[t]of r){const e=s.get(t);void 0!==e&&(e.isAttached()||(ts(e)&&pn(e,t,i,s,o,r),i.has(t)||r.delete(t),o.push(t)))}for(const t of o)s.delete(t);for(const t of n){const e=s.get(t);void 0===e||e.isAttached()||(i.has(t)||n.delete(t),s.delete(t))}}(c,a,t._dirtyLeaves,t._dirtyElements)),n!==t._compositionKey&&(a._flushSync=!0);const r=a._selection;if(ei(r)){const t=a._nodeMap,e=r.anchor.key,n=r.focus.key;void 0!==t.get(e)&&void 0!==t.get(n)||j(19)}else ri(r)&&0===r._nodes.size&&(a._selection=null)}catch(e){return e instanceof Error&&t._onError(e),t._pendingEditorState=c,t._dirtyType=at,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void $i(t)}finally{Ei=f,Di=d,Pi=h,t._updating=g,Oi=0}const _=t._dirtyType!==lt||function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(a,t);_?a._flushSync?(a._flushSync=!1,$i(t)):u&&Yt((()=>{$i(t)})):(a._flushSync=!1,u&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Xi(t,e,n){t._updating?t._updates.push([e,n]):Zi(t,e,n)}class Qi extends kr{constructor(t){super(t)}decorate(t,e){j(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Yi(t){return t instanceof Qi}class Gi extends kr{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return Ot[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const t=Bi()._dirtyElements;return null!==t&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;null!==e;){if($r(e)&&t.push(e),ts(e)){const n=e.getAllTextNodes();t.push(...n)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;ts(t);){const e=t.getFirstChild();if(null===e)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;ts(t);){const e=t.getLastChild();if(null===e)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),n=e.length;if(t>=n){const t=e[n-1];return ts(t)&&t.getLastDescendant()||t||null}const r=e[t];return ts(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const t=this.getLatest().__first;return null===t?null:de(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return null===t&&j(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return null===t?null:de(t)}getLastChildOrThrow(){const t=this.getLastChild();return null===t&&j(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let t="";const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=i.getTextContent(),ts(i)&&r!==n-1&&!i.isInline()&&(t+=kt)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=i.getTextContentSize(),ts(i)&&r!==n-1&&!i.isInline()&&(t+=kt.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(""!==t){const e=Ft[t];return!!(this.getFormat()&e)}return!1}select(t,e){Li();const n=yi();let r=t,i=e;const s=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){const t=this.getFirstChild();if($r(t)||ts(t))return t.select(0,0)}else if(!(void 0!==t&&t!==s||void 0!==e&&e!==s)){const t=this.getLastChild();if($r(t)||ts(t))return t.select()}void 0===r&&(r=s),void 0===i&&(i=s);const o=this.__key;return ei(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):di(o,r,o,i,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach((t=>t.remove())),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=""!==t?Ft[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,n){const r=n.length,i=this.getChildrenSize(),s=this.getWritable(),o=s.__key,l=[],c=[],a=this.getChildAtIndex(t+e);let u=null,f=i-e+r;if(0!==t)if(t===i)u=this.getLastChild();else{const e=this.getChildAtIndex(t);null!==e&&(u=e.getPreviousSibling())}if(e>0){let t=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<e;n++){null===t&&j(100);const e=t.getNextSibling(),n=t.__key;ce(t.getWritable()),c.push(n),t=e}}let d=u;for(let t=0;t<r;t++){const e=n[t];null!==d&&e.is(d)&&(u=d=d.getPreviousSibling());const r=e.getWritable();r.__parent===o&&f--,ce(r);const i=e.__key;if(null===d)s.__first=i,r.__prev=null;else{const t=d.getWritable();t.__next=i,r.__prev=t.__key}e.__key===o&&j(76),r.__parent=o,l.push(i),d=e}if(t+e===i)null!==d&&(d.getWritable().__next=null,s.__last=d.__key);else if(null!==a){const t=a.getWritable();if(null!==d){const e=d.getWritable();t.__prev=d.__key,e.__next=a.__key}else t.__prev=null}if(s.__size=f,c.length){const t=yi();if(ei(t)){const e=new Set(c),n=new Set(l),{anchor:r,focus:i}=t;es(r,e,n)&&Ti(r,r.getNode(),this,u,a),es(i,e,n)&&Ti(i,i.getNode(),this,u,a),0!==f||this.canBeEmpty()||Ge(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,n){return!1}}function ts(t){return t instanceof Gi}function es(t,e,n){let r=t.getNode();for(;r;){const t=r.__key;if(e.has(t)&&!n.has(t))return!0;r=r.getParent()}return!1}class ns extends Gi{static getType(){return"root"}static clone(){return new ns}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){j(51)}getTextContent(){const t=this.__cachedText;return!Ai()&&Bi()._dirtyType!==lt||null===t?super.getTextContent():t}remove(){j(52)}replace(t){j(53)}insertBefore(t){j(54)}insertAfter(t){j(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const n=t[e];ts(n)||Yi(n)||j(56)}return super.append(...t)}static importJSON(t){const e=ye();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function rs(t){return t instanceof ns}function is(){return new os(new Map([["root",new ns]]))}function ss(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&j(130,n.name),ts(t)){const r=e.children;Array.isArray(r)||j(59,n.name);const i=t.getChildren();for(let t=0;t<i.length;t++){const e=ss(i[t]);r.push(e)}}return e}class os{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(t){return Vi(this,t)}clone(t){const e=new os(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e}toJSON(){return Vi(this,(()=>({root:ss(ye())})))}}class ls extends Gi{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class cs extends Gi{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=Pt[t];return!!(this.getTextFormat()&e)}static clone(t){return new cs(t.__key)}createDOM(t){const e=document.createElement("p"),n=We(t.theme,"paragraph");return void 0!==n&&e.classList.add(...n),e}updateDOM(t,e,n){return!1}static importDOM(){return{p:t=>({conversion:as,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&un(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n);const r=this.getIndent();r>0&&(e.style.textIndent=20*r+"px")}return{element:e}}static importJSON(t){const e=us();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const n=us();n.setTextFormat(t.format);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),this.insertAfter(n,e),n}collapseAtStart(){const t=this.getChildren();if(0===t.length||$r(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function as(t){const e=us();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function us(){return en(new cs)}function fs(t){return t instanceof cs}const ds=0,hs=1,gs=2,_s=3,ps=4;function ys(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=is(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=lt,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const s=t._observer;null!==s&&(s.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function ms(t){const e=t||{},n=function zi(){return Pi}(),r=e.theme||{},i=void 0===t?n:e.parentEditor||null,s=e.disableEvents||!1,o=is(),l=e.namespace||(null!==i?i._config.namespace:Ce()),c=e.editorState,a=[ns,Lr,Cr,Hr,cs,ls,...e.nodes||[]],{onError:u,html:f}=e,d=void 0===e.editable||e.editable;let h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map;for(let t=0;t<a.length;t++){let e=a[t],n=null,r=null;if("function"!=typeof e){const t=e;e=t.replace,n=t.with,r=t.withKlass||null}const i=e.getType(),s=e.transform(),o=new Set;null!==s&&o.add(s),h.set(i,{exportDOM:f&&f.export?f.export.get(e):void 0,klass:e,replace:n,replaceWithKlass:r,transforms:o})}}const g=new xs(o,i,h,{disableEvents:s,namespace:l,theme:r},u||console.error,function(t,e){const n=new Map,r=new Set,i=t=>{Object.keys(t).forEach((e=>{let r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e])}))};return t.forEach((t=>{const e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);const n=e.call(t.klass);null!==n&&i(n)})),e&&i(e),n}(h,f?f.import:void 0),d);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=at),g}class xs{constructor(t,e,n,r,i,s,o){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=lt,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ce(),this._onError=i,this._htmlConversions=s,this._editable=o,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,n){void 0===n&&j(35);const r=this._commands;r.has(t)||r.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(t);void 0===i&&j(36,String(t));const s=i[n];return s.add(e),()=>{s.delete(e),i.every((t=>0===t.size))&&r.delete(t)}}registerMutationListener(t,e){void 0===this._nodes.get(t.getType())&&j(37,t.name);const n=this._listeners.mutation;return n.set(e,t),()=>{n.delete(e)}}registerNodeTransformToKlass(t,e){const n=t.getType(),r=this._nodes.get(n);return void 0===r&&j(37,t.name),r.transforms.add(e),r}registerNodeTransform(t,e){const n=this.registerNodeTransformToKlass(t,e),r=[n],i=n.replaceWithKlass;if(null!=i){const t=this.registerNodeTransformToKlass(i,e);r.push(t)}var o;return this,o=t.getType(),Xi(this,(()=>{const t=Wi();if(t.isEmpty())return;if("root"===o)return void ye().markDirty();const e=t._nodeMap;for(const[,t]of e)t.markDirty()}),null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{r.forEach((t=>t.transforms.delete(e)))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return Ue(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const n=We(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=t,ys(this,e,t,r),null!==e&&(this._config.disableEvents||function Tr(t){const e=t.ownerDocument,n=sr.get(e);void 0===n&&j(162);const r=n-1;r>=0||j(164),sr.set(e,r),0===r&&e.removeEventListener("selectionchange",mr);const i=t.__lexicalEditor;null!=i&&(function(t){if(null!==t._parentEditor){const e=ke(t),n=e[e.length-1]._key;yr.get(n)===t&&yr.delete(n)}else yr.delete(t._key)}(i),t.__lexicalEditor=null);const s=pr(t);for(let t=0;t<s.length;t++)s[t]();t.__lexicalEventHandles=[]}(e),null!=n&&e.classList.remove(...n)),null!==t){const e=function(t){const e=t.ownerDocument;return e&&e.defaultView||null}(t),r=t.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=e,this._dirtyType=at,$t(this),this._updateTags.add("history-merge"),$i(this),this._config.disableEvents||function(t,e){const n=t.ownerDocument,r=sr.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",mr),sr.set(n,(r||0)+1),t.__lexicalEditor=e;const i=pr(t);for(let n=0;n<tr.length;n++){const[r,s]=tr[n],o="function"==typeof s?t=>{vr(t)||(xr(t),(e.isEditable()||"click"===r)&&s(t,e))}:t=>{if(!vr(t)&&(xr(t),e.isEditable()))switch(r){case"cut":return Ue(e,W,t);case"copy":return Ue(e,M,t);case"paste":return Ue(e,c,t);case"dragstart":return Ue(e,I,t);case"dragover":return Ue(e,A,t);case"dragend":return Ue(e,L,t);case"focus":return Ue(e,U,t);case"blur":return Ue(e,V,t);case"drop":return Ue(e,F,t)}};t.addEventListener(r,o),i.push((()=>{t.removeEventListener(r,o)}))}}(t,this),null!=n&&t.classList.add(...n)}else this._editorState=r,this._pendingEditorState=null,this._window=null;Hi("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&j(38),Vt(this);const n=this._pendingEditorState,r=this._updateTags,i=void 0!==e?e.tag:null;null===n||n.isEmpty()||(null!=i&&r.add(i),$i(this)),this._pendingEditorState=t,this._dirtyType=at,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&r.add(i),$i(this)}parseEditorState(t,e){return function(t,e,n){const r=is(),i=Ei,s=Di,o=Pi,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map,e._dirtyLeaves=new Set,e._cloneNotNeeded=new Set,e._dirtyType=0,Ei=r,Di=!1,Pi=e;try{const i=e._nodes;Ui(t.root,i),n&&n(),r._readOnly=!0}catch(t){t instanceof Error&&e._onError(t)}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,Ei=i,Di=s,Pi=o}return r}("string"==typeof t?JSON.parse(t):t,this,e)}update(t,e){Xi(this,t,e)}focus(t,e={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Xi(this,(()=>{const t=yi(),n=ye();null!==t?t.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===e.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;null!==t&&t.blur();const e=ln(this._window);null!==e&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,Hi("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/array.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HT:()=>from,HV:()=>last,S2:()=>appendTo,cy:()=>isArray,zN:()=>some});const last=arr=>arr[arr.length-1],appendTo=(dest,src)=>{for(let i=0;i<src.length;i++)dest.push(src[i])},from=Array.from,some=(arr,f)=>{for(let i=0;i<arr.length;i++)if(f(arr[i],i,arr))return!0;return!1},isArray=Array.isArray},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/binary.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CW:()=>BITS32,D1:()=>BIT3,D7:()=>BIT7,Dk:()=>BIT1,KD:()=>BIT2,KJ:()=>BIT6,P1:()=>BITS6,WD:()=>BITS7,WY:()=>BITS5,vZ:()=>BITS31,wn:()=>BIT4,wt:()=>BIT8});const BIT1=1,BIT2=2,BIT3=4,BIT4=8,BIT6=32,BIT7=64,BIT8=128,BITS5=31,BITS6=63,BITS7=127,BITS31=2147483647,BITS32=4294967295},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/buffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ey:()=>fromBase64,HR:()=>copyUint8Array,nk:()=>toBase64,zS:()=>createUint8ArrayFromArrayBuffer});var _string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/string.js"),_environment_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/environment.js");const createUint8ArrayFromLen=len=>new Uint8Array(len),createUint8ArrayFromArrayBuffer=buffer=>new Uint8Array(buffer),toBase64=_environment_js__WEBPACK_IMPORTED_MODULE_1__.Bd?bytes=>{let s="";for(let i=0;i<bytes.byteLength;i++)s+=_string_js__WEBPACK_IMPORTED_MODULE_0__.QV(bytes[i]);return btoa(s)}:bytes=>Buffer.from(bytes.buffer,bytes.byteOffset,bytes.byteLength).toString("base64"),fromBase64=_environment_js__WEBPACK_IMPORTED_MODULE_1__.Bd?s=>{const a=atob(s),bytes=createUint8ArrayFromLen(a.length);for(let i=0;i<a.length;i++)bytes[i]=a.charCodeAt(i);return bytes}:s=>{const buf=Buffer.from(s,"base64");return buffer=buf.buffer,byteOffset=buf.byteOffset,length=buf.byteLength,new Uint8Array(buffer,byteOffset,length);var buffer,byteOffset,length},copyUint8Array=uint8Array=>{const newBuf=createUint8ArrayFromLen(uint8Array.byteLength);return newBuf.set(uint8Array),newBuf}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/decoding.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$C:()=>createDecoder,Ib:()=>StringDecoder,Jg:()=>readAny,VQ:()=>UintOptRleDecoder,bo:()=>readVarUint8Array,cQ:()=>RleDecoder,cw:()=>readVarUint,t3:()=>readVarString,xK:()=>IntDiffOptRleDecoder,xh:()=>readUint8});var _binary_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/binary.js"),_math_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js"),_number_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/number.js"),_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/string.js"),_error_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/error.js");const errorUnexpectedEndOfArray=_error_js__WEBPACK_IMPORTED_MODULE_0__.vt("Unexpected end of array"),errorIntegerOutOfRange=_error_js__WEBPACK_IMPORTED_MODULE_0__.vt("Integer out of Range");class Decoder{constructor(uint8Array){this.arr=uint8Array,this.pos=0}}const createDecoder=uint8Array=>new Decoder(uint8Array),hasContent=decoder=>decoder.pos!==decoder.arr.length,readUint8Array=(decoder,len)=>{const view=new Uint8Array(decoder.arr.buffer,decoder.pos+decoder.arr.byteOffset,len);return decoder.pos+=len,view},readVarUint8Array=decoder=>readUint8Array(decoder,readVarUint(decoder)),readUint8=decoder=>decoder.arr[decoder.pos++],readVarUint=decoder=>{let num=0,mult=1;const len=decoder.arr.length;for(;decoder.pos<len;){const r=decoder.arr[decoder.pos++];if(num+=(r&_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD)*mult,mult*=128,r<_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt)return num;if(num>_number_js__WEBPACK_IMPORTED_MODULE_2__.Is)throw errorIntegerOutOfRange}throw errorUnexpectedEndOfArray},readVarInt=decoder=>{let r=decoder.arr[decoder.pos++],num=r&_binary_js__WEBPACK_IMPORTED_MODULE_1__.P1,mult=64;const sign=(r&_binary_js__WEBPACK_IMPORTED_MODULE_1__.D7)>0?-1:1;if(!(r&_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt))return sign*num;const len=decoder.arr.length;for(;decoder.pos<len;){if(r=decoder.arr[decoder.pos++],num+=(r&_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD)*mult,mult*=128,r<_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt)return sign*num;if(num>_number_js__WEBPACK_IMPORTED_MODULE_2__.Is)throw errorIntegerOutOfRange}throw errorUnexpectedEndOfArray},readVarString=_string_js__WEBPACK_IMPORTED_MODULE_3__.tv?decoder=>_string_js__WEBPACK_IMPORTED_MODULE_3__.tv.decode(readVarUint8Array(decoder)):decoder=>{let remainingLen=readVarUint(decoder);if(0===remainingLen)return"";{let encodedString=String.fromCodePoint(readUint8(decoder));if(--remainingLen<100)for(;remainingLen--;)encodedString+=String.fromCodePoint(readUint8(decoder));else for(;remainingLen>0;){const nextLen=remainingLen<1e4?remainingLen:1e4,bytes=decoder.arr.subarray(decoder.pos,decoder.pos+nextLen);decoder.pos+=nextLen,encodedString+=String.fromCodePoint.apply(null,bytes),remainingLen-=nextLen}return decodeURIComponent(escape(encodedString))}},readFromDataView=(decoder,len)=>{const dv=new DataView(decoder.arr.buffer,decoder.arr.byteOffset+decoder.pos,len);return decoder.pos+=len,dv},readAnyLookupTable=[decoder=>{},decoder=>null,readVarInt,decoder=>readFromDataView(decoder,4).getFloat32(0,!1),decoder=>readFromDataView(decoder,8).getFloat64(0,!1),decoder=>readFromDataView(decoder,8).getBigInt64(0,!1),decoder=>!1,decoder=>!0,readVarString,decoder=>{const len=readVarUint(decoder),obj={};for(let i=0;i<len;i++){obj[readVarString(decoder)]=readAny(decoder)}return obj},decoder=>{const len=readVarUint(decoder),arr=[];for(let i=0;i<len;i++)arr.push(readAny(decoder));return arr},readVarUint8Array],readAny=decoder=>readAnyLookupTable[127-readUint8(decoder)](decoder);class RleDecoder extends Decoder{constructor(uint8Array,reader){super(uint8Array),this.reader=reader,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),hasContent(this)?this.count=readVarUint(this)+1:this.count=-1),this.count--,this.s}}class UintOptRleDecoder extends Decoder{constructor(uint8Array){super(uint8Array),this.s=0,this.count=0}read(){if(0===this.count){this.s=readVarInt(this);const isNegative=_math_js__WEBPACK_IMPORTED_MODULE_4__.sj(this.s);this.count=1,isNegative&&(this.s=-this.s,this.count=readVarUint(this)+2)}return this.count--,this.s}}class IntDiffOptRleDecoder extends Decoder{constructor(uint8Array){super(uint8Array),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const diff=readVarInt(this),hasCount=1&diff;this.diff=_math_js__WEBPACK_IMPORTED_MODULE_4__.RI(diff/2),this.count=1,hasCount&&(this.count=readVarUint(this)+2)}return this.s+=this.diff,this.count--,this.s}}class StringDecoder{constructor(uint8Array){this.decoder=new UintOptRleDecoder(uint8Array),this.str=readVarString(this.decoder),this.spos=0}read(){const end=this.spos+this.decoder.read(),res=this.str.slice(this.spos,end);return this.spos=end,res}}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/encoding.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bw:()=>length,D$:()=>UintOptRleEncoder,FA:()=>IntDiffOptRleEncoder,Fo:()=>toUint8Array,Gu:()=>writeVarUint8Array,IO:()=>writeAny,LH:()=>writeUint8Array,QJ:()=>writeUint8,Qj:()=>writeVarString,Sw:()=>StringEncoder,cq:()=>RleEncoder,xv:()=>createEncoder,zd:()=>writeVarUint});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js"),_number_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/number.js"),_binary_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/binary.js"),_string_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/string.js"),_array_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/array.js");class Encoder{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const createEncoder=()=>new Encoder,length=encoder=>{let len=encoder.cpos;for(let i=0;i<encoder.bufs.length;i++)len+=encoder.bufs[i].length;return len},toUint8Array=encoder=>{const uint8arr=new Uint8Array(length(encoder));let curPos=0;for(let i=0;i<encoder.bufs.length;i++){const d=encoder.bufs[i];uint8arr.set(d,curPos),curPos+=d.length}return uint8arr.set(new Uint8Array(encoder.cbuf.buffer,0,encoder.cpos),curPos),uint8arr},write=(encoder,num)=>{const bufferLen=encoder.cbuf.length;encoder.cpos===bufferLen&&(encoder.bufs.push(encoder.cbuf),encoder.cbuf=new Uint8Array(2*bufferLen),encoder.cpos=0),encoder.cbuf[encoder.cpos++]=num},writeUint8=write,writeVarUint=(encoder,num)=>{for(;num>_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD;)write(encoder,_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt|_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD&num),num=_math_js__WEBPACK_IMPORTED_MODULE_0__.RI(num/128);write(encoder,_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD&num)},writeVarInt=(encoder,num)=>{const isNegative=_math_js__WEBPACK_IMPORTED_MODULE_0__.sj(num);for(isNegative&&(num=-num),write(encoder,(num>_binary_js__WEBPACK_IMPORTED_MODULE_1__.P1?_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt:0)|(isNegative?_binary_js__WEBPACK_IMPORTED_MODULE_1__.D7:0)|_binary_js__WEBPACK_IMPORTED_MODULE_1__.P1&num),num=_math_js__WEBPACK_IMPORTED_MODULE_0__.RI(num/64);num>0;)write(encoder,(num>_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD?_binary_js__WEBPACK_IMPORTED_MODULE_1__.wt:0)|_binary_js__WEBPACK_IMPORTED_MODULE_1__.WD&num),num=_math_js__WEBPACK_IMPORTED_MODULE_0__.RI(num/128)},_strBuffer=new Uint8Array(3e4),_maxStrBSize=_strBuffer.length/3,writeVarString=_string_js__WEBPACK_IMPORTED_MODULE_2__.db&&_string_js__WEBPACK_IMPORTED_MODULE_2__.db.encodeInto?(encoder,str)=>{if(str.length<_maxStrBSize){const written=_string_js__WEBPACK_IMPORTED_MODULE_2__.db.encodeInto(str,_strBuffer).written||0;writeVarUint(encoder,written);for(let i=0;i<written;i++)write(encoder,_strBuffer[i])}else writeVarUint8Array(encoder,_string_js__WEBPACK_IMPORTED_MODULE_2__.Af(str))}:(encoder,str)=>{const encodedString=unescape(encodeURIComponent(str)),len=encodedString.length;writeVarUint(encoder,len);for(let i=0;i<len;i++)write(encoder,encodedString.codePointAt(i))},writeUint8Array=(encoder,uint8Array)=>{const bufferLen=encoder.cbuf.length,cpos=encoder.cpos,leftCopyLen=_math_js__WEBPACK_IMPORTED_MODULE_0__.jk(bufferLen-cpos,uint8Array.length),rightCopyLen=uint8Array.length-leftCopyLen;encoder.cbuf.set(uint8Array.subarray(0,leftCopyLen),cpos),encoder.cpos+=leftCopyLen,rightCopyLen>0&&(encoder.bufs.push(encoder.cbuf),encoder.cbuf=new Uint8Array(_math_js__WEBPACK_IMPORTED_MODULE_0__.T9(2*bufferLen,rightCopyLen)),encoder.cbuf.set(uint8Array.subarray(leftCopyLen)),encoder.cpos=rightCopyLen)},writeVarUint8Array=(encoder,uint8Array)=>{writeVarUint(encoder,uint8Array.byteLength),writeUint8Array(encoder,uint8Array)},writeOnDataView=(encoder,len)=>{((encoder,len)=>{const bufferLen=encoder.cbuf.length;bufferLen-encoder.cpos<len&&(encoder.bufs.push(new Uint8Array(encoder.cbuf.buffer,0,encoder.cpos)),encoder.cbuf=new Uint8Array(2*_math_js__WEBPACK_IMPORTED_MODULE_0__.T9(bufferLen,len)),encoder.cpos=0)})(encoder,len);const dview=new DataView(encoder.cbuf.buffer,encoder.cpos,len);return encoder.cpos+=len,dview},floatTestBed=new DataView(new ArrayBuffer(4)),writeAny=(encoder,data)=>{switch(typeof data){case"string":write(encoder,119),writeVarString(encoder,data);break;case"number":_number_js__WEBPACK_IMPORTED_MODULE_3__.Fq(data)&&_math_js__WEBPACK_IMPORTED_MODULE_0__.tn(data)<=_binary_js__WEBPACK_IMPORTED_MODULE_1__.vZ?(write(encoder,125),writeVarInt(encoder,data)):(num=data,floatTestBed.setFloat32(0,num),floatTestBed.getFloat32(0)===num?(write(encoder,124),((encoder,num)=>{writeOnDataView(encoder,4).setFloat32(0,num,!1)})(encoder,data)):(write(encoder,123),((encoder,num)=>{writeOnDataView(encoder,8).setFloat64(0,num,!1)})(encoder,data)));break;case"bigint":write(encoder,122),((encoder,num)=>{writeOnDataView(encoder,8).setBigInt64(0,num,!1)})(encoder,data);break;case"object":if(null===data)write(encoder,126);else if(_array_js__WEBPACK_IMPORTED_MODULE_4__.cy(data)){write(encoder,117),writeVarUint(encoder,data.length);for(let i=0;i<data.length;i++)writeAny(encoder,data[i])}else if(data instanceof Uint8Array)write(encoder,116),writeVarUint8Array(encoder,data);else{write(encoder,118);const keys=Object.keys(data);writeVarUint(encoder,keys.length);for(let i=0;i<keys.length;i++){const key=keys[i];writeVarString(encoder,key),writeAny(encoder,data[key])}}break;case"boolean":write(encoder,data?120:121);break;default:write(encoder,127)}var num};class RleEncoder extends Encoder{constructor(writer){super(),this.w=writer,this.s=null,this.count=0}write(v){this.s===v?this.count++:(this.count>0&&writeVarUint(this,this.count-1),this.count=1,this.w(this,v),this.s=v)}}const flushUintOptRleEncoder=encoder=>{encoder.count>0&&(writeVarInt(encoder.encoder,1===encoder.count?encoder.s:-encoder.s),encoder.count>1&&writeVarUint(encoder.encoder,encoder.count-2))};class UintOptRleEncoder{constructor(){this.encoder=new Encoder,this.s=0,this.count=0}write(v){this.s===v?this.count++:(flushUintOptRleEncoder(this),this.count=1,this.s=v)}toUint8Array(){return flushUintOptRleEncoder(this),toUint8Array(this.encoder)}}const flushIntDiffOptRleEncoder=encoder=>{if(encoder.count>0){const encodedDiff=2*encoder.diff+(1===encoder.count?0:1);writeVarInt(encoder.encoder,encodedDiff),encoder.count>1&&writeVarUint(encoder.encoder,encoder.count-2)}};class IntDiffOptRleEncoder{constructor(){this.encoder=new Encoder,this.s=0,this.count=0,this.diff=0}write(v){this.diff===v-this.s?(this.s=v,this.count++):(flushIntDiffOptRleEncoder(this),this.count=1,this.diff=v-this.s,this.s=v)}toUint8Array(){return flushIntDiffOptRleEncoder(this),toUint8Array(this.encoder)}}class StringEncoder{constructor(){this.sarr=[],this.s="",this.lensE=new UintOptRleEncoder}write(string){this.s+=string,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(string.length)}toUint8Array(){const encoder=new Encoder;return this.sarr.push(this.s),this.s="",writeVarString(encoder,this.sarr.join("")),writeUint8Array(encoder,this.lensE.toUint8Array()),toUint8Array(encoder)}}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/environment.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bd:()=>isBrowser,Ll:()=>isNode,WI:()=>supportsColor});var map=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/map.js"),string=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/string.js");const undefinedToNull=v=>void 0===v?null:v;var storage=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/storage.js"),lib0_function=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/function.js"),process=__webpack_require__("../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const isNode=void 0!==process&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call(void 0!==process?process:0),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&!isNode;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);let params;const args=[],computeParams=()=>{if(void 0===params)if(isNode){params=map.vt();const pargs=process.argv;let currParamName=null;for(let i=0;i<pargs.length;i++){const parg=pargs[i];"-"===parg[0]?(null!==currParamName&&params.set(currParamName,""),currParamName=parg):null!==currParamName?(params.set(currParamName,parg),currParamName=null):args.push(parg)}null!==currParamName&&params.set(currParamName,"")}else"object"==typeof location?(params=map.vt(),(location.search||"?").slice(1).split("&").forEach((kv=>{if(0!==kv.length){const[key,value]=kv.split("=");params.set(`--${string.jN(key,"-")}`,value),params.set(`-${string.jN(key,"-")}`,value)}}))):params=map.vt();return params},hasParam=name=>computeParams().has(name),getVariable=name=>undefinedToNull(isNode?process.env[name.toUpperCase().replaceAll("-","_")]:storage.JT.getItem(name));hasParam("--"+(name="production"))||getVariable(name);var name;const forceColor=isNode&&lib0_function.EK(process.env.FORCE_COLOR,["true","1","2"]),supportsColor=!hasParam("--no-colors")&&(!isNode||process.stdout.isTTY||forceColor)&&(!isNode||hasParam("--color")||forceColor||null!==getVariable("COLORTERM")||(getVariable("TERM")||"").includes("color"))},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/error.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mq:()=>unexpectedCase,bD:()=>methodUnimplemented,vt:()=>create});const create=s=>new Error(s),methodUnimplemented=()=>{throw create("Method unimplemented")},unexpectedCase=()=>{throw create("Unexpected case")}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/function.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EK:()=>isOneOf,OK:()=>callAll,id:()=>id,vo:()=>equalityDeep});var _array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/array.js"),_object_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/object.js");const callAll=(fs,args,i=0)=>{try{for(;i<fs.length;i++)fs[i](...args)}finally{i<fs.length&&callAll(fs,args,i+1)}},id=a=>a,equalityDeep=(a,b)=>{if(null==a||null==b)return((a,b)=>a===b)(a,b);if(a.constructor!==b.constructor)return!1;if(a===b)return!0;switch(a.constructor){case ArrayBuffer:a=new Uint8Array(a),b=new Uint8Array(b);case Uint8Array:if(a.byteLength!==b.byteLength)return!1;for(let i=0;i<a.length;i++)if(a[i]!==b[i])return!1;break;case Set:if(a.size!==b.size)return!1;for(const value of a)if(!b.has(value))return!1;break;case Map:if(a.size!==b.size)return!1;for(const key of a.keys())if(!b.has(key)||!equalityDeep(a.get(key),b.get(key)))return!1;break;case Object:if(_object_js__WEBPACK_IMPORTED_MODULE_0__.Bw(a)!==_object_js__WEBPACK_IMPORTED_MODULE_0__.Bw(b))return!1;for(const key in a)if(!_object_js__WEBPACK_IMPORTED_MODULE_0__.i5(a,key)||!equalityDeep(a[key],b[key]))return!1;break;case Array:if(a.length!==b.length)return!1;for(let i=0;i<a.length;i++)if(!equalityDeep(a[i],b[i]))return!1;break;default:return!1}return!0},isOneOf=(value,options)=>options.includes(value);_array_js__WEBPACK_IMPORTED_MODULE_1__.cy},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/map.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>copy,Tj:()=>map,_4:()=>setIfUndefined,bz:()=>any,vt:()=>create});const create=()=>new Map,copy=m=>{const r=create();return m.forEach(((v,k)=>{r.set(k,v)})),r},setIfUndefined=(map,key,createT)=>{let set=map.get(key);return void 0===set&&map.set(key,set=createT()),set},map=(m,f)=>{const res=[];for(const[key,value]of m)res.push(f(value,key));return res},any=(m,f)=>{for(const[key,value]of m)if(f(value,key))return!0;return!1}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{RI:()=>floor,T9:()=>max,jk:()=>min,n7:()=>pow,sj:()=>isNegativeZero,tn:()=>abs});const floor=Math.floor,abs=(Math.ceil,Math.abs),min=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(a,b)=>a<b?a:b),max=(a,b)=>a>b?a:b,pow=(Number.isNaN,Math.pow),isNegativeZero=(Math.sign,n=>0!==n?n<0:1/n<0)},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/number.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fq:()=>isInteger,Is:()=>MAX_SAFE_INTEGER});var _math_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js"),_binary_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/binary.js");const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER,isInteger=(Number.MIN_SAFE_INTEGER,_binary_js__WEBPACK_IMPORTED_MODULE_0__.vZ,_binary_js__WEBPACK_IMPORTED_MODULE_0__.CW,Number.isInteger||(num=>"number"==typeof num&&isFinite(num)&&_math_js__WEBPACK_IMPORTED_MODULE_1__.RI(num)===num));Number.isNaN,Number.parseInt},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/object.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bw:()=>length,Im:()=>isEmpty,SQ:()=>equalFlat,Tj:()=>map,i5:()=>hasProperty,jJ:()=>forEach,kp:()=>assign});const assign=Object.assign,keys=Object.keys,forEach=(obj,f)=>{for(const key in obj)f(obj[key],key)},map=(obj,f)=>{const results=[];for(const key in obj)results.push(f(obj[key],key));return results},length=obj=>keys(obj).length,size=obj=>keys(obj).length,isEmpty=obj=>{for(const _k in obj)return!1;return!0},hasProperty=(obj,key)=>Object.prototype.hasOwnProperty.call(obj,key),equalFlat=(a,b)=>a===b||size(a)===size(b)&&((obj,f)=>{for(const key in obj)if(!f(obj[key],key))return!1;return!0})(a,((val,key)=>(void 0!==val||hasProperty(b,key))&&b[key]===val))},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/observable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>ObservableV2,c:()=>Observable});var _map_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/map.js"),_set_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/set.js"),_array_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/array.js");class ObservableV2{constructor(){this._observers=_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()}on(name,f){return _map_js__WEBPACK_IMPORTED_MODULE_0__._4(this._observers,name,_set_js__WEBPACK_IMPORTED_MODULE_1__.vt).add(f),f}once(name,f){const _f=(...args)=>{this.off(name,_f),f(...args)};this.on(name,_f)}off(name,f){const observers=this._observers.get(name);void 0!==observers&&(observers.delete(f),0===observers.size&&this._observers.delete(name))}emit(name,args){return _array_js__WEBPACK_IMPORTED_MODULE_2__.HT((this._observers.get(name)||_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()).values()).forEach((f=>f(...args)))}destroy(){this._observers=_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()}}class Observable{constructor(){this._observers=_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()}on(name,f){_map_js__WEBPACK_IMPORTED_MODULE_0__._4(this._observers,name,_set_js__WEBPACK_IMPORTED_MODULE_1__.vt).add(f)}once(name,f){const _f=(...args)=>{this.off(name,_f),f(...args)};this.on(name,_f)}off(name,f){const observers=this._observers.get(name);void 0!==observers&&(observers.delete(f),0===observers.size&&this._observers.delete(name))}emit(name,args){return _array_js__WEBPACK_IMPORTED_MODULE_2__.HT((this._observers.get(name)||_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()).values()).forEach((f=>f(...args)))}destroy(){this._observers=_map_js__WEBPACK_IMPORTED_MODULE_0__.vt()}}},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/set.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vt:()=>create});const create=()=>new Set},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/storage.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{JT:()=>varStorage,k9:()=>onChange,o6:()=>offChange});let _localStorage=new class VarStoragePolyfill{constructor(){this.map=new Map}setItem(key,newValue){this.map.set(key,newValue)}getItem(key){return this.map.get(key)}},usePolyfill=!0;try{"undefined"!=typeof localStorage&&localStorage&&(_localStorage=localStorage,usePolyfill=!1)}catch(e){}const varStorage=_localStorage,onChange=eventHandler=>usePolyfill||addEventListener("storage",eventHandler),offChange=eventHandler=>usePolyfill||removeEventListener("storage",eventHandler)},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/string.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Af:()=>encodeUtf8,QV:()=>fromCharCode,db:()=>utf8TextEncoder,jN:()=>fromCamelCase,tv:()=>utf8TextDecoder});const fromCharCode=String.fromCharCode,trimLeftRegex=(String.fromCodePoint,fromCharCode(65535),/^\s*/g),fromCamelCaseRegex=/([A-Z])/g,fromCamelCase=(s,separator)=>(s=>s.replace(trimLeftRegex,""))(s.replace(fromCamelCaseRegex,(match=>`${separator}${(s=>s.toLowerCase())(match)}`))),utf8TextEncoder="undefined"!=typeof TextEncoder?new TextEncoder:null,encodeUtf8=utf8TextEncoder?str=>utf8TextEncoder.encode(str):str=>{const encodedString=unescape(encodeURIComponent(str)),len=encodedString.length,buf=new Uint8Array(len);for(let i=0;i<len;i++)buf[i]=encodedString.codePointAt(i);return buf};let utf8TextDecoder="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});utf8TextDecoder&&1===utf8TextDecoder.decode(new Uint8Array).length&&(utf8TextDecoder=null)},"../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/time.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_g:()=>getUnixTime});const getUnixTime=Date.now},"../node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/debounce.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>lodash_es_debounce});const lodash_es_isObject=function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)};const _freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g;var freeSelf="object"==typeof self&&self&&self.Object===Object&&self;const _root=_freeGlobal||freeSelf||Function("return this")();const lodash_es_now=function(){return _root.Date.now()};var reWhitespace=/\s/;const _trimmedEndIndex=function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index};var reTrimStart=/^\s+/;const _baseTrim=function baseTrim(string){return string?string.slice(0,_trimmedEndIndex(string)+1).replace(reTrimStart,""):string};const _Symbol=_root.Symbol;var objectProto=Object.prototype,_getRawTag_hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;const _getRawTag=function getRawTag(value){var isOwn=_getRawTag_hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result};var _objectToString_nativeObjectToString=Object.prototype.toString;const _objectToString=function objectToString(value){return _objectToString_nativeObjectToString.call(value)};var _baseGetTag_symToStringTag=_Symbol?_Symbol.toStringTag:void 0;const _baseGetTag=function baseGetTag(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":_baseGetTag_symToStringTag&&_baseGetTag_symToStringTag in Object(value)?_getRawTag(value):_objectToString(value)};const lodash_es_isObjectLike=function isObjectLike(value){return null!=value&&"object"==typeof value};const lodash_es_isSymbol=function isSymbol(value){return"symbol"==typeof value||lodash_es_isObjectLike(value)&&"[object Symbol]"==_baseGetTag(value)};var reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;const lodash_es_toNumber=function toNumber(value){if("number"==typeof value)return value;if(lodash_es_isSymbol(value))return NaN;if(lodash_es_isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=lodash_es_isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=_baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value};var nativeMax=Math.max,nativeMin=Math.min;const lodash_es_debounce=function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=lodash_es_now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function debounced(){var time=lodash_es_now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=lodash_es_toNumber(wait)||0,lodash_es_isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(lodash_es_toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function flush(){return void 0===timerId?result:trailingEdge(lodash_es_now())},debounced}},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-c.js":()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-clike.js":()=>{Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-cpp.js":()=>{!function(Prism){var keyword=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,modName=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return keyword.source}));Prism.languages.cpp=Prism.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return keyword.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Prism.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return modName}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Prism.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Prism.languages.cpp}}}}),Prism.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Prism.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Prism.languages.extend("cpp",{})}}),Prism.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Prism.languages.cpp["base-clause"])}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-css.js":()=>{!function(Prism){var string=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+string.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+string.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+string.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+string.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:string,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Prism.languages.css.atrule.inside.rest=Prism.languages.css;var markup=Prism.languages.markup;markup&&(markup.tag.addInlined("style","css"),markup.tag.addAttribute("style","css"))}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-java.js":()=>{!function(Prism){var keywords=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,classNamePrefix=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,className={pattern:RegExp(/(^|[^\w.])/.source+classNamePrefix+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Prism.languages.java=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[className,{pattern:RegExp(/(^|[^\w.])/.source+classNamePrefix+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:className.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+classNamePrefix+/[A-Z]\w*\b/.source),lookbehind:!0,inside:className.inside}],keyword:keywords,function:[Prism.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Prism.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Prism.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":className,keyword:keywords,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+classNamePrefix+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:className.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+classNamePrefix+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:className.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return keywords.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-javascript.js":()=>{Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-markdown.js":()=>{!function(Prism){var inner=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function createInline(pattern){return pattern=pattern.replace(/<inner>/g,(function(){return inner})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+pattern+")")}var tableCell=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,tableRow=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return tableCell})),tableLine=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;Prism.languages.markdown=Prism.languages.extend("markup",{}),Prism.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:Prism.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+tableRow+tableLine+"(?:"+tableRow+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+tableRow+tableLine+")(?:"+tableRow+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(tableCell),inside:Prism.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+tableRow+")"+tableLine+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+tableRow+"$"),inside:{"table-header":{pattern:RegExp(tableCell),alias:"important",inside:Prism.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:createInline(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:createInline(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:createInline(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:createInline(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(token){["url","bold","italic","strike","code-snippet"].forEach((function(inside){token!==inside&&(Prism.languages.markdown[token].inside.content.inside[inside]=Prism.languages.markdown[inside])}))})),Prism.hooks.add("after-tokenize",(function(env){"markdown"!==env.language&&"md"!==env.language||function walkTokens(tokens){if(tokens&&"string"!=typeof tokens)for(var i=0,l=tokens.length;i<l;i++){var token=tokens[i];if("code"===token.type){var codeLang=token.content[1],codeBlock=token.content[3];if(codeLang&&codeBlock&&"code-language"===codeLang.type&&"code-block"===codeBlock.type&&"string"==typeof codeLang.content){var lang=codeLang.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),alias="language-"+(lang=(/[a-z][\w-]*/i.exec(lang)||[""])[0].toLowerCase());codeBlock.alias?"string"==typeof codeBlock.alias?codeBlock.alias=[codeBlock.alias,alias]:codeBlock.alias.push(alias):codeBlock.alias=[alias]}}else walkTokens(token.content)}}(env.tokens)})),Prism.hooks.add("wrap",(function(env){if("code-block"===env.type){for(var codeLang="",i=0,l=env.classes.length;i<l;i++){var cls=env.classes[i],match=/language-(.+)/.exec(cls);if(match){codeLang=match[1];break}}var grammar=Prism.languages[codeLang];if(grammar)env.content=Prism.highlight(function textContent(html){var text=html.replace(tagPattern,"");return text=text.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(m,code){var value;if("#"===(code=code.toLowerCase())[0])return value="x"===code[1]?parseInt(code.slice(2),16):Number(code.slice(1)),fromCodePoint(value);var known=KNOWN_ENTITY_NAMES[code];return known||m}))}(env.content),grammar,codeLang);else if(codeLang&&"none"!==codeLang&&Prism.plugins.autoloader){var id="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());env.attributes.id=id,Prism.plugins.autoloader.loadLanguages(codeLang,(function(){var ele=document.getElementById(id);ele&&(ele.innerHTML=Prism.highlight(ele.textContent,Prism.languages[codeLang],codeLang))}))}}}));var tagPattern=RegExp(Prism.languages.markup.tag.pattern.source,"gi"),KNOWN_ENTITY_NAMES={amp:"&",lt:"<",gt:">",quot:'"'},fromCodePoint=String.fromCodePoint||String.fromCharCode;Prism.languages.md=Prism.languages.markdown}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-markup.js":()=>{Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(env){"entity"===env.type&&(env.attributes.title=env.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function addInlined(tagName,lang){var includedCdataInside={};includedCdataInside["language-"+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[lang]},includedCdataInside.cdata=/^<!\[CDATA\[|\]\]>$/i;var inside={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside["language-"+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return tagName})),"i"),lookbehind:!0,greedy:!0,inside},Prism.languages.insertBefore("markup","cdata",def)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(attrName,lang){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+attrName+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[lang,"language-"+lang],inside:Prism.languages[lang]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-objectivec.js":()=>{Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-powershell.js":()=>{!function(Prism){var powershell=Prism.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};powershell.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:powershell},boolean:powershell.boolean,variable:powershell.variable}}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-python.js":()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-rust.js":()=>{!function(Prism){for(var multilineComment=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,i=0;i<2;i++)multilineComment=multilineComment.replace(/<self>/g,(function(){return multilineComment}));multilineComment=multilineComment.replace(/<self>/g,(function(){return/[^\s\S]/.source})),Prism.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+multilineComment),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},Prism.languages.rust["closure-params"].inside.rest=Prism.languages.rust,Prism.languages.rust.attribute.inside.string=Prism.languages.rust.string}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-sql.js":()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-swift.js":()=>{Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach((function(rule){rule.inside.interpolation.inside=Prism.languages.swift}))},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/components/prism-typescript.js":()=>{!function(Prism){Prism.languages.typescript=Prism.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Prism.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Prism.languages.typescript.parameter,delete Prism.languages.typescript["literal-property"];var typeInside=Prism.languages.extend("typescript",{});delete typeInside["class-name"],Prism.languages.typescript["class-name"].inside=typeInside,Prism.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:typeInside}}}}),Prism.languages.ts=Prism.languages.typescript}(Prism)},"../node_modules/.pnpm/prismjs@1.29.0/node_modules/prismjs/prism.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Prism=function(_self){var lang=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,uniqueId=0,plainTextGrammar={},_={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function encode(tokens){return tokens instanceof Token?new Token(tokens.type,encode(tokens.content),tokens.alias):Array.isArray(tokens)?tokens.map(encode):tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(o){return Object.prototype.toString.call(o).slice(8,-1)},objId:function(obj){return obj.__id||Object.defineProperty(obj,"__id",{value:++uniqueId}),obj.__id},clone:function deepClone(o,visited){var clone,id;switch(visited=visited||{},_.util.type(o)){case"Object":if(id=_.util.objId(o),visited[id])return visited[id];for(var key in clone={},visited[id]=clone,o)o.hasOwnProperty(key)&&(clone[key]=deepClone(o[key],visited));return clone;case"Array":return id=_.util.objId(o),visited[id]?visited[id]:(clone=[],visited[id]=clone,o.forEach((function(v,i){clone[i]=deepClone(v,visited)})),clone);default:return o}},getLanguage:function(element){for(;element;){var m=lang.exec(element.className);if(m)return m[1].toLowerCase();element=element.parentElement}return"none"},setLanguage:function(element,language){element.className=element.className.replace(RegExp(lang,"gi"),""),element.classList.add("language-"+language)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(err){var src=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(err.stack)||[])[1];if(src){var scripts=document.getElementsByTagName("script");for(var i in scripts)if(scripts[i].src==src)return scripts[i]}return null}},isActive:function(element,className,defaultActivation){for(var no="no-"+className;element;){var classList=element.classList;if(classList.contains(className))return!0;if(classList.contains(no))return!1;element=element.parentElement}return!!defaultActivation}},languages:{plain:plainTextGrammar,plaintext:plainTextGrammar,text:plainTextGrammar,txt:plainTextGrammar,extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef)lang[key]=redef[key];return lang},insertBefore:function(inside,before,insert,root){var grammar=(root=root||_.languages)[inside],ret={};for(var token in grammar)if(grammar.hasOwnProperty(token)){if(token==before)for(var newToken in insert)insert.hasOwnProperty(newToken)&&(ret[newToken]=insert[newToken]);insert.hasOwnProperty(token)||(ret[token]=grammar[token])}var old=root[inside];return root[inside]=ret,_.languages.DFS(_.languages,(function(key,value){value===old&&key!=inside&&(this[key]=ret)})),ret},DFS:function DFS(o,callback,type,visited){visited=visited||{};var objId=_.util.objId;for(var i in o)if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);var property=o[i],propertyType=_.util.type(property);"Object"!==propertyType||visited[objId(property)]?"Array"!==propertyType||visited[objId(property)]||(visited[objId(property)]=!0,DFS(property,callback,i,visited)):(visited[objId(property)]=!0,DFS(property,callback,null,visited))}}},plugins:{},highlightAll:function(async,callback){_.highlightAllUnder(document,async,callback)},highlightAllUnder:function(container,async,callback){var env={callback,container,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run("before-highlightall",env),env.elements=Array.prototype.slice.apply(env.container.querySelectorAll(env.selector)),_.hooks.run("before-all-elements-highlight",env);for(var element,i=0;element=env.elements[i++];)_.highlightElement(element,!0===async,env.callback)},highlightElement:function(element,async,callback){var language=_.util.getLanguage(element),grammar=_.languages[language];_.util.setLanguage(element,language);var parent=element.parentElement;parent&&"pre"===parent.nodeName.toLowerCase()&&_.util.setLanguage(parent,language);var env={element,language,grammar,code:element.textContent};function insertHighlightedCode(highlightedCode){env.highlightedCode=highlightedCode,_.hooks.run("before-insert",env),env.element.innerHTML=env.highlightedCode,_.hooks.run("after-highlight",env),_.hooks.run("complete",env),callback&&callback.call(env.element)}if(_.hooks.run("before-sanity-check",env),(parent=env.element.parentElement)&&"pre"===parent.nodeName.toLowerCase()&&!parent.hasAttribute("tabindex")&&parent.setAttribute("tabindex","0"),!env.code)return _.hooks.run("complete",env),void(callback&&callback.call(env.element));if(_.hooks.run("before-highlight",env),env.grammar)if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){insertHighlightedCode(evt.data)},worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:!0}))}else insertHighlightedCode(_.highlight(env.code,env.grammar,env.language));else insertHighlightedCode(_.util.encode(env.code))},highlight:function(text,grammar,language){var env={code:text,grammar,language};if(_.hooks.run("before-tokenize",env),!env.grammar)throw new Error('The language "'+env.language+'" has no grammar.');return env.tokens=_.tokenize(env.code,env.grammar),_.hooks.run("after-tokenize",env),Token.stringify(_.util.encode(env.tokens),env.language)},tokenize:function(text,grammar){var rest=grammar.rest;if(rest){for(var token in rest)grammar[token]=rest[token];delete grammar.rest}var tokenList=new LinkedList;return addAfter(tokenList,tokenList.head,text),matchGrammar(text,tokenList,grammar,tokenList.head,0),function toArray(list){var array=[],node=list.head.next;for(;node!==list.tail;)array.push(node.value),node=node.next;return array}(tokenList)},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[],hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(callbacks&&callbacks.length)for(var callback,i=0;callback=callbacks[i++];)callback(env)}},Token};function Token(type,content,alias,matchedStr){this.type=type,this.content=content,this.alias=alias,this.length=0|(matchedStr||"").length}function matchPattern(pattern,pos,text,lookbehind){pattern.lastIndex=pos;var match=pattern.exec(text);if(match&&lookbehind&&match[1]){var lookbehindLength=match[1].length;match.index+=lookbehindLength,match[0]=match[0].slice(lookbehindLength)}return match}function matchGrammar(text,tokenList,grammar,startNode,startPos,rematch){for(var token in grammar)if(grammar.hasOwnProperty(token)&&grammar[token]){var patterns=grammar[token];patterns=Array.isArray(patterns)?patterns:[patterns];for(var j=0;j<patterns.length;++j){if(rematch&&rematch.cause==token+","+j)return;var patternObj=patterns[j],inside=patternObj.inside,lookbehind=!!patternObj.lookbehind,greedy=!!patternObj.greedy,alias=patternObj.alias;if(greedy&&!patternObj.pattern.global){var flags=patternObj.pattern.toString().match(/[imsuy]*$/)[0];patternObj.pattern=RegExp(patternObj.pattern.source,flags+"g")}for(var pattern=patternObj.pattern||patternObj,currentNode=startNode.next,pos=startPos;currentNode!==tokenList.tail&&!(rematch&&pos>=rematch.reach);pos+=currentNode.value.length,currentNode=currentNode.next){var str=currentNode.value;if(tokenList.length>text.length)return;if(!(str instanceof Token)){var match,removeCount=1;if(greedy){if(!(match=matchPattern(pattern,pos,text,lookbehind))||match.index>=text.length)break;var from=match.index,to=match.index+match[0].length,p=pos;for(p+=currentNode.value.length;from>=p;)p+=(currentNode=currentNode.next).value.length;if(pos=p-=currentNode.value.length,currentNode.value instanceof Token)continue;for(var k=currentNode;k!==tokenList.tail&&(p<to||"string"==typeof k.value);k=k.next)removeCount++,p+=k.value.length;removeCount--,str=text.slice(pos,p),match.index-=pos}else if(!(match=matchPattern(pattern,0,str,lookbehind)))continue;from=match.index;var matchStr=match[0],before=str.slice(0,from),after=str.slice(from+matchStr.length),reach=pos+str.length;rematch&&reach>rematch.reach&&(rematch.reach=reach);var removeFrom=currentNode.prev;if(before&&(removeFrom=addAfter(tokenList,removeFrom,before),pos+=before.length),removeRange(tokenList,removeFrom,removeCount),currentNode=addAfter(tokenList,removeFrom,new Token(token,inside?_.tokenize(matchStr,inside):matchStr,alias,matchStr)),after&&addAfter(tokenList,currentNode,after),removeCount>1){var nestedRematch={cause:token+","+j,reach};matchGrammar(text,tokenList,grammar,currentNode.prev,pos,nestedRematch),rematch&&nestedRematch.reach>rematch.reach&&(rematch.reach=nestedRematch.reach)}}}}}}function LinkedList(){var head={value:null,prev:null,next:null},tail={value:null,prev:head,next:null};head.next=tail,this.head=head,this.tail=tail,this.length=0}function addAfter(list,node,value){var next=node.next,newNode={value,prev:node,next};return node.next=newNode,next.prev=newNode,list.length++,newNode}function removeRange(list,node,count){for(var next=node.next,i=0;i<count&&next!==list.tail;i++)next=next.next;node.next=next,next.prev=node,list.length-=i}if(_self.Prism=_,Token.stringify=function stringify(o,language){if("string"==typeof o)return o;if(Array.isArray(o)){var s="";return o.forEach((function(e){s+=stringify(e,language)})),s}var env={type:o.type,content:stringify(o.content,language),tag:"span",classes:["token",o.type],attributes:{},language},aliases=o.alias;aliases&&(Array.isArray(aliases)?Array.prototype.push.apply(env.classes,aliases):env.classes.push(aliases)),_.hooks.run("wrap",env);var attributes="";for(var name in env.attributes)attributes+=" "+name+'="'+(env.attributes[name]||"").replace(/"/g,"&quot;")+'"';return"<"+env.tag+' class="'+env.classes.join(" ")+'"'+attributes+">"+env.content+"</"+env.tag+">"},!_self.document)return _self.addEventListener?(_.disableWorkerMessageHandler||_self.addEventListener("message",(function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang)),immediateClose&&_self.close()}),!1),_):_;var script=_.util.currentScript();function highlightAutomaticallyCallback(){_.manual||_.highlightAll()}if(script&&(_.filename=script.src,script.hasAttribute("data-manual")&&(_.manual=!0)),!_.manual){var readyState=document.readyState;"loading"===readyState||"interactive"===readyState&&script&&script.defer?document.addEventListener("DOMContentLoaded",highlightAutomaticallyCallback):window.requestAnimationFrame?window.requestAnimationFrame(highlightAutomaticallyCallback):window.setTimeout(highlightAutomaticallyCallback,16)}return _}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});module.exports&&(module.exports=Prism),void 0!==__webpack_require__.g&&(__webpack_require__.g.Prism=Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",(function(env){"entity"===env.type&&(env.attributes.title=env.content.replace(/&amp;/,"&"))})),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function addInlined(tagName,lang){var includedCdataInside={};includedCdataInside["language-"+lang]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[lang]},includedCdataInside.cdata=/^<!\[CDATA\[|\]\]>$/i;var inside={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:includedCdataInside}};inside["language-"+lang]={pattern:/[\s\S]+/,inside:Prism.languages[lang]};var def={};def[tagName]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return tagName})),"i"),lookbehind:!0,greedy:!0,inside},Prism.languages.insertBefore("markup","cdata",def)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(attrName,lang){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+attrName+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[lang,"language-"+lang],inside:Prism.languages[lang]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Prism){var string=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+string.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+string.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+string.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+string.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:string,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Prism.languages.css.atrule.inside.rest=Prism.languages.css;var markup=Prism.languages.markup;markup&&(markup.tag.addInlined("style","css"),markup.tag.addAttribute("style","css"))}(Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,function(){if(void 0!==Prism&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var EXTENSIONS={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},SELECTOR='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])';Prism.hooks.add("before-highlightall",(function(env){env.selector+=", "+SELECTOR})),Prism.hooks.add("before-sanity-check",(function(env){var pre=env.element;if(pre.matches(SELECTOR)){env.code="",pre.setAttribute("data-src-status","loading");var code=pre.appendChild(document.createElement("CODE"));code.textContent="Loading…";var src=pre.getAttribute("data-src"),language=env.language;if("none"===language){var extension=(/\.(\w+)$/.exec(src)||[,"none"])[1];language=EXTENSIONS[extension]||extension}Prism.util.setLanguage(code,language),Prism.util.setLanguage(pre,language);var autoloader=Prism.plugins.autoloader;autoloader&&autoloader.loadLanguages(language),function loadFile(src,success,error){var xhr=new XMLHttpRequest;xhr.open("GET",src,!0),xhr.onreadystatechange=function(){4==xhr.readyState&&(xhr.status<400&&xhr.responseText?success(xhr.responseText):xhr.status>=400?error("✖ Error "+xhr.status+" while fetching file: "+xhr.statusText):error("✖ Error: File does not exist or is empty"))},xhr.send(null)}(src,(function(text){pre.setAttribute("data-src-status","loaded");var range=function parseRange(range){var m=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(range||"");if(m){var start=Number(m[1]),comma=m[2],end=m[3];return comma?end?[start,Number(end)]:[start,void 0]:[start,start]}}(pre.getAttribute("data-range"));if(range){var lines=text.split(/\r\n?|\n/g),start=range[0],end=null==range[1]?lines.length:range[1];start<0&&(start+=lines.length),start=Math.max(0,Math.min(start-1,lines.length)),end<0&&(end+=lines.length),end=Math.max(0,Math.min(end,lines.length)),text=lines.slice(start,end).join("\n"),pre.hasAttribute("data-start")||pre.setAttribute("data-start",String(start+1))}code.textContent=text,Prism.highlightElement(code)}),(function(error){pre.setAttribute("data-src-status","failed"),code.textContent=error}))}})),Prism.plugins.fileHighlight={highlight:function highlight(container){for(var element,elements=(container||document).querySelectorAll(SELECTOR),i=0;element=elements[i++];)Prism.highlightElement(element)}};var logged=!1;Prism.fileHighlight=function(){logged||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),logged=!0),Prism.plugins.fileHighlight.highlight.apply(this,arguments)}}}()},"../node_modules/.pnpm/react-error-boundary@4.0.13_react@18.3.1/node_modules/react-error-boundary/dist/react-error-boundary.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{tH:()=>ErrorBoundary});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");const ErrorBoundaryContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null),initialState={didCatch:!1,error:null};class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component{constructor(props){super(props),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=initialState}static getDerivedStateFromError(error){return{didCatch:!0,error}}resetErrorBoundary(){const{error}=this.state;if(null!==error){for(var _this$props$onReset,_this$props,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];null===(_this$props$onReset=(_this$props=this.props).onReset)||void 0===_this$props$onReset||_this$props$onReset.call(_this$props,{args,reason:"imperative-api"}),this.setState(initialState)}}componentDidCatch(error,info){var _this$props$onError,_this$props2;null===(_this$props$onError=(_this$props2=this.props).onError)||void 0===_this$props$onError||_this$props$onError.call(_this$props2,error,info)}componentDidUpdate(prevProps,prevState){const{didCatch}=this.state,{resetKeys}=this.props;var _this$props$onReset2,_this$props3;didCatch&&null!==prevState.error&&function hasArrayChanged(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.length!==b.length||a.some(((item,index)=>!Object.is(item,b[index])))}(prevProps.resetKeys,resetKeys)&&(null===(_this$props$onReset2=(_this$props3=this.props).onReset)||void 0===_this$props$onReset2||_this$props$onReset2.call(_this$props3,{next:resetKeys,prev:prevProps.resetKeys,reason:"keys"}),this.setState(initialState))}render(){const{children,fallbackRender,FallbackComponent,fallback}=this.props,{didCatch,error}=this.state;let childToRender=children;if(didCatch){const props={error,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof fallbackRender)childToRender=fallbackRender(props);else if(FallbackComponent)childToRender=(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(FallbackComponent,props);else{if(null!==fallback&&!(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(fallback))throw error;childToRender=fallback}}return(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(ErrorBoundaryContext.Provider,{value:{didCatch,error,resetErrorBoundary:this.resetErrorBoundary}},childToRender)}}},"../node_modules/.pnpm/katex@0.16.10/node_modules/katex/dist/katex.css":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js"),_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__),_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_mini_css_extract_plugin_2_9_0_webpack_5_91_0_node_modules_mini_css_extract_plugin_dist_loader_js_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_katex_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/.pnpm/css-loader@6.11.0_webpack@5.91.0/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!../node_modules/.pnpm/mini-css-extract-plugin@2.9.0_webpack@5.91.0/node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/.pnpm/css-loader@7.1.2_webpack@5.91.0/node_modules/css-loader/dist/cjs.js!../node_modules/.pnpm/katex@0.16.10/node_modules/katex/dist/katex.css"),options={};options.styleTagTransform=_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default(),options.setAttributes=_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default(),options.insert=_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null,"head"),options.domAPI=_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default(),options.insertStyleElement=_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default();_style_loader_3_3_4_webpack_5_91_0_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_mini_css_extract_plugin_2_9_0_webpack_5_91_0_node_modules_mini_css_extract_plugin_dist_loader_js_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_katex_css__WEBPACK_IMPORTED_MODULE_6__.A,options),_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_mini_css_extract_plugin_2_9_0_webpack_5_91_0_node_modules_mini_css_extract_plugin_dist_loader_js_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_katex_css__WEBPACK_IMPORTED_MODULE_6__.A&&_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_mini_css_extract_plugin_2_9_0_webpack_5_91_0_node_modules_mini_css_extract_plugin_dist_loader_js_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_katex_css__WEBPACK_IMPORTED_MODULE_6__.A.locals&&_css_loader_6_11_0_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_6_use_1_mini_css_extract_plugin_2_9_0_webpack_5_91_0_node_modules_mini_css_extract_plugin_dist_loader_js_css_loader_7_1_2_webpack_5_91_0_node_modules_css_loader_dist_cjs_js_katex_css__WEBPACK_IMPORTED_MODULE_6__.A.locals},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":module=>{"use strict";var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertBySelector.js":module=>{"use strict";var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/insertStyleElement.js":module=>{"use strict";module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleDomAPI.js":module=>{"use strict";module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"../node_modules/.pnpm/style-loader@3.3.4_webpack@5.91.0/node_modules/style-loader/dist/runtime/styleTagTransform.js":module=>{"use strict";module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"../node_modules/.pnpm/y-websocket@2.0.3_yjs@13.6.15/node_modules/y-websocket/src/y-websocket.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$R:()=>WebsocketProvider});var map=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/map.js"),set=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/set.js"),buffer=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/buffer.js"),storage=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/storage.js");const channels=new Map;const BC="undefined"==typeof BroadcastChannel?class LocalStoragePolyfill{constructor(room){this.room=room,this.onmessage=null,this._onChange=e=>e.key===room&&null!==this.onmessage&&this.onmessage({data:buffer.Ey(e.newValue||"")}),storage.k9(this._onChange)}postMessage(buf){storage.JT.setItem(this.room,buffer.nk(buffer.zS(buf)))}close(){storage.o6(this._onChange)}}:BroadcastChannel,getChannel=room=>map._4(channels,room,(()=>{const subs=set.vt(),bc=new BC(room);return bc.onmessage=e=>subs.forEach((sub=>sub(e.data,"broadcastchannel"))),{bc,subs}})),publish=(room,data,origin=null)=>{const c=getChannel(room);c.bc.postMessage(data),c.subs.forEach((sub=>sub(data,origin)))};var time=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/time.js"),lib0_encoding=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/encoding.js"),lib0_decoding=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/decoding.js"),yjs=__webpack_require__("../node_modules/.pnpm/yjs@13.6.15/node_modules/yjs/dist/yjs.mjs");const writeSyncStep1=(encoder,doc)=>{lib0_encoding.zd(encoder,0);const sv=yjs.FX(doc);lib0_encoding.Gu(encoder,sv)},writeSyncStep2=(encoder,doc,encodedStateVector)=>{lib0_encoding.zd(encoder,1),lib0_encoding.Gu(encoder,yjs.PR(doc,encodedStateVector))},readSyncStep2=(decoder,doc,transactionOrigin)=>{try{yjs.QE(doc,lib0_decoding.bo(decoder),transactionOrigin)}catch(error){console.error("Caught error while handling a Yjs update",error)}},readUpdate=readSyncStep2,readSyncMessage=(decoder,encoder,doc,transactionOrigin)=>{const messageType=lib0_decoding.cw(decoder);switch(messageType){case 0:((decoder,encoder,doc)=>{writeSyncStep2(encoder,doc,lib0_decoding.bo(decoder))})(decoder,encoder,doc);break;case 1:readSyncStep2(decoder,doc,transactionOrigin);break;case 2:readUpdate(decoder,doc,transactionOrigin);break;default:throw new Error("Unknown message type")}return messageType};var math=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js"),observable=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/observable.js"),lib0_function=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/function.js");class Awareness extends observable.c{constructor(doc){super(),this.doc=doc,this.clientID=doc.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval((()=>{const now=time._g();null!==this.getLocalState()&&15e3<=now-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const remove=[];this.meta.forEach(((meta,clientid)=>{clientid!==this.clientID&&3e4<=now-meta.lastUpdated&&this.states.has(clientid)&&remove.push(clientid)})),remove.length>0&&removeAwarenessStates(this,remove,"timeout")}),math.RI(3e3)),doc.on("destroy",(()=>{this.destroy()})),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(state){const clientID=this.clientID,currLocalMeta=this.meta.get(clientID),clock=void 0===currLocalMeta?0:currLocalMeta.clock+1,prevState=this.states.get(clientID);null===state?this.states.delete(clientID):this.states.set(clientID,state),this.meta.set(clientID,{clock,lastUpdated:time._g()});const added=[],updated=[],filteredUpdated=[],removed=[];null===state?removed.push(clientID):null==prevState?null!=state&&added.push(clientID):(updated.push(clientID),lib0_function.vo(prevState,state)||filteredUpdated.push(clientID)),(added.length>0||filteredUpdated.length>0||removed.length>0)&&this.emit("change",[{added,updated:filteredUpdated,removed},"local"]),this.emit("update",[{added,updated,removed},"local"])}setLocalStateField(field,value){const state=this.getLocalState();null!==state&&this.setLocalState({...state,[field]:value})}getStates(){return this.states}}const removeAwarenessStates=(awareness,clients,origin)=>{const removed=[];for(let i=0;i<clients.length;i++){const clientID=clients[i];if(awareness.states.has(clientID)){if(awareness.states.delete(clientID),clientID===awareness.clientID){const curMeta=awareness.meta.get(clientID);awareness.meta.set(clientID,{clock:curMeta.clock+1,lastUpdated:time._g()})}removed.push(clientID)}}removed.length>0&&(awareness.emit("change",[{added:[],updated:[],removed},origin]),awareness.emit("update",[{added:[],updated:[],removed},origin]))},encodeAwarenessUpdate=(awareness,clients,states=awareness.states)=>{const len=clients.length,encoder=lib0_encoding.xv();lib0_encoding.zd(encoder,len);for(let i=0;i<len;i++){const clientID=clients[i],state=states.get(clientID)||null,clock=awareness.meta.get(clientID).clock;lib0_encoding.zd(encoder,clientID),lib0_encoding.zd(encoder,clock),lib0_encoding.Qj(encoder,JSON.stringify(state))}return lib0_encoding.Fo(encoder)};var object=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/object.js");var environment=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/environment.js"),process=__webpack_require__("../node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const messageHandlers=[];messageHandlers[0]=(encoder,decoder,provider,emitSynced,_messageType)=>{lib0_encoding.zd(encoder,0);const syncMessageType=readSyncMessage(decoder,encoder,provider.doc,provider);emitSynced&&1===syncMessageType&&!provider.synced&&(provider.synced=!0)},messageHandlers[3]=(encoder,_decoder,provider,_emitSynced,_messageType)=>{lib0_encoding.zd(encoder,1),lib0_encoding.Gu(encoder,encodeAwarenessUpdate(provider.awareness,Array.from(provider.awareness.getStates().keys())))},messageHandlers[1]=(_encoder,decoder,provider,_emitSynced,_messageType)=>{((awareness,update,origin)=>{const decoder=lib0_decoding.$C(update),timestamp=time._g(),added=[],updated=[],filteredUpdated=[],removed=[],len=lib0_decoding.cw(decoder);for(let i=0;i<len;i++){const clientID=lib0_decoding.cw(decoder);let clock=lib0_decoding.cw(decoder);const state=JSON.parse(lib0_decoding.t3(decoder)),clientMeta=awareness.meta.get(clientID),prevState=awareness.states.get(clientID),currClock=void 0===clientMeta?0:clientMeta.clock;(currClock<clock||currClock===clock&&null===state&&awareness.states.has(clientID))&&(null===state?clientID===awareness.clientID&&null!=awareness.getLocalState()?clock++:awareness.states.delete(clientID):awareness.states.set(clientID,state),awareness.meta.set(clientID,{clock,lastUpdated:timestamp}),void 0===clientMeta&&null!==state?added.push(clientID):void 0!==clientMeta&&null===state?removed.push(clientID):null!==state&&(lib0_function.vo(state,prevState)||filteredUpdated.push(clientID),updated.push(clientID)))}(added.length>0||filteredUpdated.length>0||removed.length>0)&&awareness.emit("change",[{added,updated:filteredUpdated,removed},origin]),(added.length>0||updated.length>0||removed.length>0)&&awareness.emit("update",[{added,updated,removed},origin])})(provider.awareness,lib0_decoding.bo(decoder),provider)},messageHandlers[2]=(_encoder,decoder,provider,_emitSynced,_messageType)=>{((decoder,y,permissionDeniedHandler)=>{0===lib0_decoding.cw(decoder)&&permissionDeniedHandler(y,lib0_decoding.t3(decoder))})(decoder,provider.doc,((_ydoc,reason)=>permissionDeniedHandler(provider,reason)))};const permissionDeniedHandler=(provider,reason)=>console.warn(`Permission denied to access ${provider.url}.\n${reason}`),readMessage=(provider,buf,emitSynced)=>{const decoder=lib0_decoding.$C(buf),encoder=lib0_encoding.xv(),messageType=lib0_decoding.cw(decoder),messageHandler=provider.messageHandlers[messageType];return messageHandler?messageHandler(encoder,decoder,provider,emitSynced,messageType):console.error("Unable to compute message"),encoder},setupWS=provider=>{if(provider.shouldConnect&&null===provider.ws){const websocket=new provider._WS(provider.url);websocket.binaryType="arraybuffer",provider.ws=websocket,provider.wsconnecting=!0,provider.wsconnected=!1,provider.synced=!1,websocket.onmessage=event=>{provider.wsLastMessageReceived=time._g();const encoder=readMessage(provider,new Uint8Array(event.data),!0);lib0_encoding.Bw(encoder)>1&&websocket.send(lib0_encoding.Fo(encoder))},websocket.onerror=event=>{provider.emit("connection-error",[event,provider])},websocket.onclose=event=>{provider.emit("connection-close",[event,provider]),provider.ws=null,provider.wsconnecting=!1,provider.wsconnected?(provider.wsconnected=!1,provider.synced=!1,removeAwarenessStates(provider.awareness,Array.from(provider.awareness.getStates().keys()).filter((client=>client!==provider.doc.clientID)),provider),provider.emit("status",[{status:"disconnected"}])):provider.wsUnsuccessfulReconnects++,setTimeout(setupWS,math.jk(100*math.n7(2,provider.wsUnsuccessfulReconnects),provider.maxBackoffTime),provider)},websocket.onopen=()=>{provider.wsLastMessageReceived=time._g(),provider.wsconnecting=!1,provider.wsconnected=!0,provider.wsUnsuccessfulReconnects=0,provider.emit("status",[{status:"connected"}]);const encoder=lib0_encoding.xv();if(lib0_encoding.zd(encoder,0),writeSyncStep1(encoder,provider.doc),websocket.send(lib0_encoding.Fo(encoder)),null!==provider.awareness.getLocalState()){const encoderAwarenessState=lib0_encoding.xv();lib0_encoding.zd(encoderAwarenessState,1),lib0_encoding.Gu(encoderAwarenessState,encodeAwarenessUpdate(provider.awareness,[provider.doc.clientID])),websocket.send(lib0_encoding.Fo(encoderAwarenessState))}},provider.emit("status",[{status:"connecting"}])}},broadcastMessage=(provider,buf)=>{const ws=provider.ws;provider.wsconnected&&ws&&ws.readyState===ws.OPEN&&ws.send(buf),provider.bcconnected&&publish(provider.bcChannel,buf,provider)};class WebsocketProvider extends observable.c{constructor(serverUrl,roomname,doc,{connect=!0,awareness=new Awareness(doc),params={},WebSocketPolyfill=WebSocket,resyncInterval=-1,maxBackoffTime=2500,disableBc=!1}={}){for(super();"/"===serverUrl[serverUrl.length-1];)serverUrl=serverUrl.slice(0,serverUrl.length-1);this.serverUrl=serverUrl,this.bcChannel=serverUrl+"/"+roomname,this.maxBackoffTime=maxBackoffTime,this.params=params,this.roomname=roomname,this.doc=doc,this._WS=WebSocketPolyfill,this.awareness=awareness,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=disableBc,this.wsUnsuccessfulReconnects=0,this.messageHandlers=messageHandlers.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=connect,this._resyncInterval=0,resyncInterval>0&&(this._resyncInterval=setInterval((()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const encoder=lib0_encoding.xv();lib0_encoding.zd(encoder,0),writeSyncStep1(encoder,doc),this.ws.send(lib0_encoding.Fo(encoder))}}),resyncInterval)),this._bcSubscriber=(data,origin)=>{if(origin!==this){const encoder=readMessage(this,new Uint8Array(data),!1);lib0_encoding.Bw(encoder)>1&&publish(this.bcChannel,lib0_encoding.Fo(encoder),this)}},this._updateHandler=(update,origin)=>{if(origin!==this){const encoder=lib0_encoding.xv();lib0_encoding.zd(encoder,0),((encoder,update)=>{lib0_encoding.zd(encoder,2),lib0_encoding.Gu(encoder,update)})(encoder,update),broadcastMessage(this,lib0_encoding.Fo(encoder))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added,updated,removed},_origin)=>{const changedClients=added.concat(updated).concat(removed),encoder=lib0_encoding.xv();lib0_encoding.zd(encoder,1),lib0_encoding.Gu(encoder,encodeAwarenessUpdate(awareness,changedClients)),broadcastMessage(this,lib0_encoding.Fo(encoder))},this._exitHandler=()=>{removeAwarenessStates(this.awareness,[doc.clientID],"app closed")},environment.Ll&&void 0!==process&&process.on("exit",this._exitHandler),awareness.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&3e4<time._g()-this.wsLastMessageReceived&&this.ws.close()}),3e3),connect&&this.connect()}get url(){const encodedParams=(params=this.params,object.Tj(params,((val,key)=>`${encodeURIComponent(key)}=${encodeURIComponent(val)}`)).join("&"));var params;return this.serverUrl+"/"+this.roomname+(0===encodedParams.length?"":"?"+encodedParams)}get synced(){return this._synced}set synced(state){this._synced!==state&&(this._synced=state,this.emit("synced",[state]),this.emit("sync",[state]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),environment.Ll&&void 0!==process&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(((room,f)=>{getChannel(room).subs.add(f)})(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const encoderSync=lib0_encoding.xv();lib0_encoding.zd(encoderSync,0),writeSyncStep1(encoderSync,this.doc),publish(this.bcChannel,lib0_encoding.Fo(encoderSync),this);const encoderState=lib0_encoding.xv();lib0_encoding.zd(encoderState,0),writeSyncStep2(encoderState,this.doc),publish(this.bcChannel,lib0_encoding.Fo(encoderState),this);const encoderAwarenessQuery=lib0_encoding.xv();lib0_encoding.zd(encoderAwarenessQuery,3),publish(this.bcChannel,lib0_encoding.Fo(encoderAwarenessQuery),this);const encoderAwarenessState=lib0_encoding.xv();lib0_encoding.zd(encoderAwarenessState,1),lib0_encoding.Gu(encoderAwarenessState,encodeAwarenessUpdate(this.awareness,[this.doc.clientID])),publish(this.bcChannel,lib0_encoding.Fo(encoderAwarenessState),this)}disconnectBc(){const encoder=lib0_encoding.xv();lib0_encoding.zd(encoder,1),lib0_encoding.Gu(encoder,encodeAwarenessUpdate(this.awareness,[this.doc.clientID],new Map)),broadcastMessage(this,lib0_encoding.Fo(encoder)),this.bcconnected&&(((room,f)=>{const channel=getChannel(room),unsubscribed=channel.subs.delete(f);unsubscribed&&0===channel.subs.size&&(channel.bc.close(),channels.delete(room))})(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(setupWS(this),this.connectBc())}}},"../node_modules/.pnpm/yjs@13.6.15/node_modules/yjs/dist/yjs.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O3:()=>YArray,JA:()=>Doc,T5:()=>YMap,ad:()=>UndoManager,WF:()=>YXmlElement,ZQ:()=>YXmlText,nA:()=>YArrayEvent,Cr:()=>YMapEvent,zN:()=>YTextEvent,xz:()=>YXmlEvent,QE:()=>applyUpdate,uG:()=>compareRelativePositions,IT:()=>createAbsolutePositionFromRelativePosition,SF:()=>createRelativePositionFromTypeIndex,PR:()=>encodeStateAsUpdate,FX:()=>encodeStateVector});var observable=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/observable.js"),array=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/array.js"),lib0_math=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/math.js"),lib0_map=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/map.js"),lib0_encoding=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/encoding.js"),lib0_decoding=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/decoding.js");crypto.subtle;const webcrypto_getRandomValues=crypto.getRandomValues.bind(crypto),uint32=(Math.random,()=>webcrypto_getRandomValues(new Uint32Array(1))[0]),uuidv4Template=[1e7]+-1e3+-4e3+-8e3+-1e11,uuidv4=()=>uuidv4Template.replace(/[018]/g,(c=>(c^uint32()&15>>c/4).toString(16))),create=f=>new Promise(f);Promise.all.bind(Promise);var buffer=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/buffer.js"),lib0_error=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/error.js"),lib0_binary=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/binary.js"),lib0_function=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/function.js"),set=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/set.js"),environment=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/environment.js");class Pair{constructor(left,right){this.left=left,this.right=right}}const pair_create=(left,right)=>new Pair(left,right),doc="undefined"!=typeof document?document:{},symbol_create=("undefined"!=typeof DOMParser&&new DOMParser,doc.ELEMENT_NODE,doc.TEXT_NODE,doc.CDATA_SECTION_NODE,doc.COMMENT_NODE,doc.DOCUMENT_NODE,doc.DOCUMENT_TYPE_NODE,doc.DOCUMENT_FRAGMENT_NODE,Symbol);var lib0_time=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/time.js");const BOLD=symbol_create(),UNBOLD=symbol_create(),BLUE=symbol_create(),GREY=symbol_create(),GREEN=symbol_create(),RED=symbol_create(),PURPLE=symbol_create(),ORANGE=symbol_create(),UNCOLOR=symbol_create();lib0_time._g();const _browserStyleMap={[BOLD]:pair_create("font-weight","bold"),[UNBOLD]:pair_create("font-weight","normal"),[BLUE]:pair_create("color","blue"),[GREEN]:pair_create("color","green"),[GREY]:pair_create("color","grey"),[RED]:pair_create("color","red"),[PURPLE]:pair_create("color","purple"),[ORANGE]:pair_create("color","orange"),[UNCOLOR]:pair_create("color","black")},computeLoggingArgs=environment.WI?args=>{1===args.length&&args[0]?.constructor===Function&&(args=args[0]());const strBuilder=[],styles=[],currentStyle=lib0_map.vt();let logArgs=[],i=0;for(;i<args.length;i++){const arg=args[i],style=_browserStyleMap[arg];if(void 0!==style)currentStyle.set(style.left,style.right);else{if(void 0===arg)break;if(arg.constructor!==String&&arg.constructor!==Number)break;{const style=(m=currentStyle,lib0_map.Tj(m,((value,key)=>`${key}:${value};`)).join(""));i>0||style.length>0?(strBuilder.push("%c"+arg),styles.push(style)):strBuilder.push(arg)}}}var m;for(i>0&&(logArgs=styles,logArgs.unshift(strBuilder.join("")));i<args.length;i++){const arg=args[i];arg instanceof Symbol||logArgs.push(arg)}return logArgs}:args=>{1===args.length&&args[0]?.constructor===Function&&(args=args[0]());const strBuilder=[],logArgs=[];let i=0;for(;i<args.length;i++){const arg=args[i];void 0===arg?strBuilder.push("undefined"):arg.constructor===String||arg.constructor===Number?strBuilder.push(arg):arg.constructor===Object&&logArgs.push(JSON.stringify(arg))}return logArgs},print=(...args)=>{console.log(...computeLoggingArgs(args)),vconsoles.forEach((vc=>vc.print(args)))},vconsoles=set.vt();const createIterator=next=>({[Symbol.iterator](){return this},next}),iteratorMap=(iterator,fmap)=>createIterator((()=>{const{done,value}=iterator.next();return{done,value:done?void 0:fmap(value)}}));var object=__webpack_require__("../node_modules/.pnpm/lib0@0.2.94/node_modules/lib0/object.js");observable.W;class DeleteItem{constructor(clock,len){this.clock=clock,this.len=len}}class DeleteSet{constructor(){this.clients=new Map}}const iterateDeletedStructs=(transaction,ds,f)=>ds.clients.forEach(((deletes,clientid)=>{const structs=transaction.doc.store.clients.get(clientid);for(let i=0;i<deletes.length;i++){const del=deletes[i];iterateStructs(transaction,structs,del.clock,del.len,f)}})),isDeleted=(ds,id)=>{const dis=ds.clients.get(id.client);return void 0!==dis&&null!==((dis,clock)=>{let left=0,right=dis.length-1;for(;left<=right;){const midindex=lib0_math.RI((left+right)/2),mid=dis[midindex],midclock=mid.clock;if(midclock<=clock){if(clock<midclock+mid.len)return midindex;left=midindex+1}else right=midindex-1}return null})(dis,id.clock)},sortAndMergeDeleteSet=ds=>{ds.clients.forEach((dels=>{let i,j;for(dels.sort(((a,b)=>a.clock-b.clock)),i=1,j=1;i<dels.length;i++){const left=dels[j-1],right=dels[i];left.clock+left.len>=right.clock?left.len=lib0_math.T9(left.len,right.clock+right.len-left.clock):(j<i&&(dels[j]=right),j++)}dels.length=j}))},mergeDeleteSets=dss=>{const merged=new DeleteSet;for(let dssI=0;dssI<dss.length;dssI++)dss[dssI].clients.forEach(((delsLeft,client)=>{if(!merged.clients.has(client)){const dels=delsLeft.slice();for(let i=dssI+1;i<dss.length;i++)array.S2(dels,dss[i].clients.get(client)||[]);merged.clients.set(client,dels)}}));return sortAndMergeDeleteSet(merged),merged},addToDeleteSet=(ds,client,clock,length)=>{lib0_map._4(ds.clients,client,(()=>[])).push(new DeleteItem(clock,length))},createDeleteSet=()=>new DeleteSet,createDeleteSetFromStructStore=ss=>{const ds=createDeleteSet();return ss.clients.forEach(((structs,client)=>{const dsitems=[];for(let i=0;i<structs.length;i++){const struct=structs[i];if(struct.deleted){const clock=struct.id.clock;let len=struct.length;if(i+1<structs.length)for(let next=structs[i+1];i+1<structs.length&&next.deleted;next=structs[1+ ++i])len+=next.length;dsitems.push(new DeleteItem(clock,len))}}dsitems.length>0&&ds.clients.set(client,dsitems)})),ds},writeDeleteSet=(encoder,ds)=>{lib0_encoding.zd(encoder.restEncoder,ds.clients.size),array.HT(ds.clients.entries()).sort(((a,b)=>b[0]-a[0])).forEach((([client,dsitems])=>{encoder.resetDsCurVal(),lib0_encoding.zd(encoder.restEncoder,client);const len=dsitems.length;lib0_encoding.zd(encoder.restEncoder,len);for(let i=0;i<len;i++){const item=dsitems[i];encoder.writeDsClock(item.clock),encoder.writeDsLen(item.len)}}))},readDeleteSet=decoder=>{const ds=new DeleteSet,numClients=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<numClients;i++){decoder.resetDsCurVal();const client=lib0_decoding.cw(decoder.restDecoder),numberOfDeletes=lib0_decoding.cw(decoder.restDecoder);if(numberOfDeletes>0){const dsField=lib0_map._4(ds.clients,client,(()=>[]));for(let i=0;i<numberOfDeletes;i++)dsField.push(new DeleteItem(decoder.readDsClock(),decoder.readDsLen()))}}return ds},readAndApplyDeleteSet=(decoder,transaction,store)=>{const unappliedDS=new DeleteSet,numClients=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<numClients;i++){decoder.resetDsCurVal();const client=lib0_decoding.cw(decoder.restDecoder),numberOfDeletes=lib0_decoding.cw(decoder.restDecoder),structs=store.clients.get(client)||[],state=getState(store,client);for(let i=0;i<numberOfDeletes;i++){const clock=decoder.readDsClock(),clockEnd=clock+decoder.readDsLen();if(clock<state){state<clockEnd&&addToDeleteSet(unappliedDS,client,state,clockEnd-state);let index=findIndexSS(structs,clock),struct=structs[index];for(!struct.deleted&&struct.id.clock<clock&&(structs.splice(index+1,0,splitItem(transaction,struct,clock-struct.id.clock)),index++);index<structs.length&&(struct=structs[index++],struct.id.clock<clockEnd);)struct.deleted||(clockEnd<struct.id.clock+struct.length&&structs.splice(index,0,splitItem(transaction,struct,clockEnd-struct.id.clock)),struct.delete(transaction))}else addToDeleteSet(unappliedDS,client,clock,clockEnd-clock)}}if(unappliedDS.clients.size>0){const ds=new UpdateEncoderV2;return lib0_encoding.zd(ds.restEncoder,0),writeDeleteSet(ds,unappliedDS),ds.toUint8Array()}return null},generateNewClientId=uint32;class Doc extends observable.W{constructor({guid=uuidv4(),collectionid=null,gc=!0,gcFilter=()=>!0,meta=null,autoLoad=!1,shouldLoad=!0}={}){super(),this.gc=gc,this.gcFilter=gcFilter,this.clientID=generateNewClientId(),this.guid=guid,this.collectionid=collectionid,this.share=new Map,this.store=new StructStore,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=shouldLoad,this.autoLoad=autoLoad,this.meta=meta,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=create((resolve=>{this.on("load",(()=>{this.isLoaded=!0,resolve(this)}))}));const provideSyncedPromise=()=>create((resolve=>{const eventHandler=isSynced=>{void 0!==isSynced&&!0!==isSynced||(this.off("sync",eventHandler),resolve())};this.on("sync",eventHandler)}));this.on("sync",(isSynced=>{!1===isSynced&&this.isSynced&&(this.whenSynced=provideSyncedPromise()),this.isSynced=void 0===isSynced||!0===isSynced,this.isSynced&&!this.isLoaded&&this.emit("load",[this])})),this.whenSynced=provideSyncedPromise()}load(){const item=this._item;null===item||this.shouldLoad||transact(item.parent.doc,(transaction=>{transaction.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(array.HT(this.subdocs).map((doc=>doc.guid)))}transact(f,origin=null){return transact(this,f,origin)}get(name,TypeConstructor=AbstractType){const type=lib0_map._4(this.share,name,(()=>{const t=new TypeConstructor;return t._integrate(this,null),t})),Constr=type.constructor;if(TypeConstructor!==AbstractType&&Constr!==TypeConstructor){if(Constr===AbstractType){const t=new TypeConstructor;t._map=type._map,type._map.forEach((n=>{for(;null!==n;n=n.left)n.parent=t})),t._start=type._start;for(let n=t._start;null!==n;n=n.right)n.parent=t;return t._length=type._length,this.share.set(name,t),t._integrate(this,null),t}throw new Error(`Type with the name ${name} has already been defined with a different constructor`)}return type}getArray(name=""){return this.get(name,YArray)}getText(name=""){return this.get(name,YText)}getMap(name=""){return this.get(name,YMap)}getXmlElement(name=""){return this.get(name,YXmlElement)}getXmlFragment(name=""){return this.get(name,YXmlFragment)}toJSON(){const doc={};return this.share.forEach(((value,key)=>{doc[key]=value.toJSON()})),doc}destroy(){array.HT(this.subdocs).forEach((subdoc=>subdoc.destroy()));const item=this._item;if(null!==item){this._item=null;const content=item.content;content.doc=new Doc({guid:this.guid,...content.opts,shouldLoad:!1}),content.doc._item=item,transact(item.parent.doc,(transaction=>{const doc=content.doc;item.deleted||transaction.subdocsAdded.add(doc),transaction.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class DSDecoderV1{constructor(decoder){this.restDecoder=decoder}resetDsCurVal(){}readDsClock(){return lib0_decoding.cw(this.restDecoder)}readDsLen(){return lib0_decoding.cw(this.restDecoder)}}class UpdateDecoderV1 extends DSDecoderV1{readLeftID(){return createID(lib0_decoding.cw(this.restDecoder),lib0_decoding.cw(this.restDecoder))}readRightID(){return createID(lib0_decoding.cw(this.restDecoder),lib0_decoding.cw(this.restDecoder))}readClient(){return lib0_decoding.cw(this.restDecoder)}readInfo(){return lib0_decoding.xh(this.restDecoder)}readString(){return lib0_decoding.t3(this.restDecoder)}readParentInfo(){return 1===lib0_decoding.cw(this.restDecoder)}readTypeRef(){return lib0_decoding.cw(this.restDecoder)}readLen(){return lib0_decoding.cw(this.restDecoder)}readAny(){return lib0_decoding.Jg(this.restDecoder)}readBuf(){return buffer.HR(lib0_decoding.bo(this.restDecoder))}readJSON(){return JSON.parse(lib0_decoding.t3(this.restDecoder))}readKey(){return lib0_decoding.t3(this.restDecoder)}}class DSDecoderV2{constructor(decoder){this.dsCurrVal=0,this.restDecoder=decoder}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=lib0_decoding.cw(this.restDecoder),this.dsCurrVal}readDsLen(){const diff=lib0_decoding.cw(this.restDecoder)+1;return this.dsCurrVal+=diff,diff}}class UpdateDecoderV2 extends DSDecoderV2{constructor(decoder){super(decoder),this.keys=[],lib0_decoding.cw(decoder),this.keyClockDecoder=new lib0_decoding.xK(lib0_decoding.bo(decoder)),this.clientDecoder=new lib0_decoding.VQ(lib0_decoding.bo(decoder)),this.leftClockDecoder=new lib0_decoding.xK(lib0_decoding.bo(decoder)),this.rightClockDecoder=new lib0_decoding.xK(lib0_decoding.bo(decoder)),this.infoDecoder=new lib0_decoding.cQ(lib0_decoding.bo(decoder),lib0_decoding.xh),this.stringDecoder=new lib0_decoding.Ib(lib0_decoding.bo(decoder)),this.parentInfoDecoder=new lib0_decoding.cQ(lib0_decoding.bo(decoder),lib0_decoding.xh),this.typeRefDecoder=new lib0_decoding.VQ(lib0_decoding.bo(decoder)),this.lenDecoder=new lib0_decoding.VQ(lib0_decoding.bo(decoder))}readLeftID(){return new ID(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ID(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return lib0_decoding.Jg(this.restDecoder)}readBuf(){return lib0_decoding.bo(this.restDecoder)}readJSON(){return lib0_decoding.Jg(this.restDecoder)}readKey(){const keyClock=this.keyClockDecoder.read();if(keyClock<this.keys.length)return this.keys[keyClock];{const key=this.stringDecoder.read();return this.keys.push(key),key}}}class DSEncoderV1{constructor(){this.restEncoder=lib0_encoding.xv()}toUint8Array(){return lib0_encoding.Fo(this.restEncoder)}resetDsCurVal(){}writeDsClock(clock){lib0_encoding.zd(this.restEncoder,clock)}writeDsLen(len){lib0_encoding.zd(this.restEncoder,len)}}class UpdateEncoderV1 extends DSEncoderV1{writeLeftID(id){lib0_encoding.zd(this.restEncoder,id.client),lib0_encoding.zd(this.restEncoder,id.clock)}writeRightID(id){lib0_encoding.zd(this.restEncoder,id.client),lib0_encoding.zd(this.restEncoder,id.clock)}writeClient(client){lib0_encoding.zd(this.restEncoder,client)}writeInfo(info){lib0_encoding.QJ(this.restEncoder,info)}writeString(s){lib0_encoding.Qj(this.restEncoder,s)}writeParentInfo(isYKey){lib0_encoding.zd(this.restEncoder,isYKey?1:0)}writeTypeRef(info){lib0_encoding.zd(this.restEncoder,info)}writeLen(len){lib0_encoding.zd(this.restEncoder,len)}writeAny(any){lib0_encoding.IO(this.restEncoder,any)}writeBuf(buf){lib0_encoding.Gu(this.restEncoder,buf)}writeJSON(embed){lib0_encoding.Qj(this.restEncoder,JSON.stringify(embed))}writeKey(key){lib0_encoding.Qj(this.restEncoder,key)}}class DSEncoderV2{constructor(){this.restEncoder=lib0_encoding.xv(),this.dsCurrVal=0}toUint8Array(){return lib0_encoding.Fo(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(clock){const diff=clock-this.dsCurrVal;this.dsCurrVal=clock,lib0_encoding.zd(this.restEncoder,diff)}writeDsLen(len){0===len&&lib0_error.Mq(),lib0_encoding.zd(this.restEncoder,len-1),this.dsCurrVal+=len}}class UpdateEncoderV2 extends DSEncoderV2{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new lib0_encoding.FA,this.clientEncoder=new lib0_encoding.D$,this.leftClockEncoder=new lib0_encoding.FA,this.rightClockEncoder=new lib0_encoding.FA,this.infoEncoder=new lib0_encoding.cq(lib0_encoding.QJ),this.stringEncoder=new lib0_encoding.Sw,this.parentInfoEncoder=new lib0_encoding.cq(lib0_encoding.QJ),this.typeRefEncoder=new lib0_encoding.D$,this.lenEncoder=new lib0_encoding.D$}toUint8Array(){const encoder=lib0_encoding.xv();return lib0_encoding.zd(encoder,0),lib0_encoding.Gu(encoder,this.keyClockEncoder.toUint8Array()),lib0_encoding.Gu(encoder,this.clientEncoder.toUint8Array()),lib0_encoding.Gu(encoder,this.leftClockEncoder.toUint8Array()),lib0_encoding.Gu(encoder,this.rightClockEncoder.toUint8Array()),lib0_encoding.Gu(encoder,lib0_encoding.Fo(this.infoEncoder)),lib0_encoding.Gu(encoder,this.stringEncoder.toUint8Array()),lib0_encoding.Gu(encoder,lib0_encoding.Fo(this.parentInfoEncoder)),lib0_encoding.Gu(encoder,this.typeRefEncoder.toUint8Array()),lib0_encoding.Gu(encoder,this.lenEncoder.toUint8Array()),lib0_encoding.LH(encoder,lib0_encoding.Fo(this.restEncoder)),lib0_encoding.Fo(encoder)}writeLeftID(id){this.clientEncoder.write(id.client),this.leftClockEncoder.write(id.clock)}writeRightID(id){this.clientEncoder.write(id.client),this.rightClockEncoder.write(id.clock)}writeClient(client){this.clientEncoder.write(client)}writeInfo(info){this.infoEncoder.write(info)}writeString(s){this.stringEncoder.write(s)}writeParentInfo(isYKey){this.parentInfoEncoder.write(isYKey?1:0)}writeTypeRef(info){this.typeRefEncoder.write(info)}writeLen(len){this.lenEncoder.write(len)}writeAny(any){lib0_encoding.IO(this.restEncoder,any)}writeBuf(buf){lib0_encoding.Gu(this.restEncoder,buf)}writeJSON(embed){lib0_encoding.IO(this.restEncoder,embed)}writeKey(key){const clock=this.keyMap.get(key);void 0===clock?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(key)):this.keyClockEncoder.write(clock)}}const writeClientsStructs=(encoder,store,_sm)=>{const sm=new Map;_sm.forEach(((clock,client)=>{getState(store,client)>clock&&sm.set(client,clock)})),getStateVector(store).forEach(((_clock,client)=>{_sm.has(client)||sm.set(client,0)})),lib0_encoding.zd(encoder.restEncoder,sm.size),array.HT(sm.entries()).sort(((a,b)=>b[0]-a[0])).forEach((([client,clock])=>{((encoder,structs,client,clock)=>{clock=lib0_math.T9(clock,structs[0].id.clock);const startNewStructs=findIndexSS(structs,clock);lib0_encoding.zd(encoder.restEncoder,structs.length-startNewStructs),encoder.writeClient(client),lib0_encoding.zd(encoder.restEncoder,clock);const firstStruct=structs[startNewStructs];firstStruct.write(encoder,clock-firstStruct.id.clock);for(let i=startNewStructs+1;i<structs.length;i++)structs[i].write(encoder,0)})(encoder,store.clients.get(client),client,clock)}))},readUpdateV2=(decoder,ydoc,transactionOrigin,structDecoder=new UpdateDecoderV2(decoder))=>transact(ydoc,(transaction=>{transaction.local=!1;let retry=!1;const doc=transaction.doc,store=doc.store,ss=((decoder,doc)=>{const clientRefs=lib0_map.vt(),numOfStateUpdates=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<numOfStateUpdates;i++){const numberOfStructs=lib0_decoding.cw(decoder.restDecoder),refs=new Array(numberOfStructs),client=decoder.readClient();let clock=lib0_decoding.cw(decoder.restDecoder);clientRefs.set(client,{i:0,refs});for(let i=0;i<numberOfStructs;i++){const info=decoder.readInfo();switch(lib0_binary.WY&info){case 0:{const len=decoder.readLen();refs[i]=new GC(createID(client,clock),len),clock+=len;break}case 10:{const len=lib0_decoding.cw(decoder.restDecoder);refs[i]=new Skip(createID(client,clock),len),clock+=len;break}default:{const cantCopyParentInfo=!(info&(lib0_binary.D7|lib0_binary.wt)),struct=new Item(createID(client,clock),null,(info&lib0_binary.wt)===lib0_binary.wt?decoder.readLeftID():null,null,(info&lib0_binary.D7)===lib0_binary.D7?decoder.readRightID():null,cantCopyParentInfo?decoder.readParentInfo()?doc.get(decoder.readString()):decoder.readLeftID():null,cantCopyParentInfo&&(info&lib0_binary.KJ)===lib0_binary.KJ?decoder.readString():null,readItemContent(decoder,info));refs[i]=struct,clock+=struct.length}}}}return clientRefs})(structDecoder,doc),restStructs=((transaction,store,clientsStructRefs)=>{const stack=[];let clientsStructRefsIds=array.HT(clientsStructRefs.keys()).sort(((a,b)=>a-b));if(0===clientsStructRefsIds.length)return null;const getNextStructTarget=()=>{if(0===clientsStructRefsIds.length)return null;let nextStructsTarget=clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length-1]);for(;nextStructsTarget.refs.length===nextStructsTarget.i;){if(clientsStructRefsIds.pop(),!(clientsStructRefsIds.length>0))return null;nextStructsTarget=clientsStructRefs.get(clientsStructRefsIds[clientsStructRefsIds.length-1])}return nextStructsTarget};let curStructsTarget=getNextStructTarget();if(null===curStructsTarget)return null;const restStructs=new StructStore,missingSV=new Map,updateMissingSv=(client,clock)=>{const mclock=missingSV.get(client);(null==mclock||mclock>clock)&&missingSV.set(client,clock)};let stackHead=curStructsTarget.refs[curStructsTarget.i++];const state=new Map,addStackToRestSS=()=>{for(const item of stack){const client=item.id.client,unapplicableItems=clientsStructRefs.get(client);unapplicableItems?(unapplicableItems.i--,restStructs.clients.set(client,unapplicableItems.refs.slice(unapplicableItems.i)),clientsStructRefs.delete(client),unapplicableItems.i=0,unapplicableItems.refs=[]):restStructs.clients.set(client,[item]),clientsStructRefsIds=clientsStructRefsIds.filter((c=>c!==client))}stack.length=0};for(;;){if(stackHead.constructor!==Skip){const offset=lib0_map._4(state,stackHead.id.client,(()=>getState(store,stackHead.id.client)))-stackHead.id.clock;if(offset<0)stack.push(stackHead),updateMissingSv(stackHead.id.client,stackHead.id.clock-1),addStackToRestSS();else{const missing=stackHead.getMissing(transaction,store);if(null!==missing){stack.push(stackHead);const structRefs=clientsStructRefs.get(missing)||{refs:[],i:0};if(structRefs.refs.length!==structRefs.i){stackHead=structRefs.refs[structRefs.i++];continue}updateMissingSv(missing,getState(store,missing)),addStackToRestSS()}else(0===offset||offset<stackHead.length)&&(stackHead.integrate(transaction,offset),state.set(stackHead.id.client,stackHead.id.clock+stackHead.length))}}if(stack.length>0)stackHead=stack.pop();else if(null!==curStructsTarget&&curStructsTarget.i<curStructsTarget.refs.length)stackHead=curStructsTarget.refs[curStructsTarget.i++];else{if(curStructsTarget=getNextStructTarget(),null===curStructsTarget)break;stackHead=curStructsTarget.refs[curStructsTarget.i++]}}if(restStructs.clients.size>0){const encoder=new UpdateEncoderV2;return writeClientsStructs(encoder,restStructs,new Map),lib0_encoding.zd(encoder.restEncoder,0),{missing:missingSV,update:encoder.toUint8Array()}}return null})(transaction,store,ss),pending=store.pendingStructs;if(pending){for(const[client,clock]of pending.missing)if(clock<getState(store,client)){retry=!0;break}if(restStructs){for(const[client,clock]of restStructs.missing){const mclock=pending.missing.get(client);(null==mclock||mclock>clock)&&pending.missing.set(client,clock)}pending.update=mergeUpdatesV2([pending.update,restStructs.update])}}else store.pendingStructs=restStructs;const dsRest=readAndApplyDeleteSet(structDecoder,transaction,store);if(store.pendingDs){const pendingDSUpdate=new UpdateDecoderV2(lib0_decoding.$C(store.pendingDs));lib0_decoding.cw(pendingDSUpdate.restDecoder);const dsRest2=readAndApplyDeleteSet(pendingDSUpdate,transaction,store);store.pendingDs=dsRest&&dsRest2?mergeUpdatesV2([dsRest,dsRest2]):dsRest||dsRest2}else store.pendingDs=dsRest;if(retry){const update=store.pendingStructs.update;store.pendingStructs=null,applyUpdateV2(transaction.doc,update)}}),transactionOrigin,!1),applyUpdateV2=(ydoc,update,transactionOrigin,YDecoder=UpdateDecoderV2)=>{const decoder=lib0_decoding.$C(update);readUpdateV2(decoder,ydoc,transactionOrigin,new YDecoder(decoder))},applyUpdate=(ydoc,update,transactionOrigin)=>applyUpdateV2(ydoc,update,transactionOrigin,UpdateDecoderV1),encodeStateAsUpdateV2=(doc,encodedTargetStateVector=new Uint8Array([0]),encoder=new UpdateEncoderV2)=>{((encoder,doc,targetStateVector=new Map)=>{writeClientsStructs(encoder,doc.store,targetStateVector),writeDeleteSet(encoder,createDeleteSetFromStructStore(doc.store))})(encoder,doc,decodeStateVector(encodedTargetStateVector));const updates=[encoder.toUint8Array()];if(doc.store.pendingDs&&updates.push(doc.store.pendingDs),doc.store.pendingStructs&&updates.push(diffUpdateV2(doc.store.pendingStructs.update,encodedTargetStateVector)),updates.length>1){if(encoder.constructor===UpdateEncoderV1)return mergeUpdates(updates.map(((update,i)=>0===i?update:convertUpdateFormatV2ToV1(update))));if(encoder.constructor===UpdateEncoderV2)return mergeUpdatesV2(updates)}return updates[0]},encodeStateAsUpdate=(doc,encodedTargetStateVector)=>encodeStateAsUpdateV2(doc,encodedTargetStateVector,new UpdateEncoderV1),readStateVector=decoder=>{const ss=new Map,ssLength=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<ssLength;i++){const client=lib0_decoding.cw(decoder.restDecoder),clock=lib0_decoding.cw(decoder.restDecoder);ss.set(client,clock)}return ss},decodeStateVector=decodedState=>readStateVector(new DSDecoderV1(lib0_decoding.$C(decodedState))),writeStateVector=(encoder,sv)=>(lib0_encoding.zd(encoder.restEncoder,sv.size),array.HT(sv.entries()).sort(((a,b)=>b[0]-a[0])).forEach((([client,clock])=>{lib0_encoding.zd(encoder.restEncoder,client),lib0_encoding.zd(encoder.restEncoder,clock)})),encoder),encodeStateVectorV2=(doc,encoder=new DSEncoderV2)=>(doc instanceof Map?writeStateVector(encoder,doc):((encoder,doc)=>{writeStateVector(encoder,getStateVector(doc.store))})(encoder,doc),encoder.toUint8Array()),encodeStateVector=doc=>encodeStateVectorV2(doc,new DSEncoderV1);class EventHandler{constructor(){this.l=[]}}const createEventHandler=()=>new EventHandler,addEventHandlerListener=(eventHandler,f)=>eventHandler.l.push(f),removeEventHandlerListener=(eventHandler,f)=>{const l=eventHandler.l,len=l.length;eventHandler.l=l.filter((g=>f!==g)),len===eventHandler.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},callEventHandlerListeners=(eventHandler,arg0,arg1)=>lib0_function.OK(eventHandler.l,[arg0,arg1]);class ID{constructor(client,clock){this.client=client,this.clock=clock}}const compareIDs=(a,b)=>a===b||null!==a&&null!==b&&a.client===b.client&&a.clock===b.clock,createID=(client,clock)=>new ID(client,clock),findRootTypeKey=type=>{for(const[key,value]of type.doc.share.entries())if(value===type)return key;throw lib0_error.Mq()},yjs_isParentOf=(parent,child)=>{for(;null!==child;){if(child.parent===parent)return!0;child=child.parent._item}return!1};class RelativePosition{constructor(type,tname,item,assoc=0){this.type=type,this.tname=tname,this.item=item,this.assoc=assoc}}class AbsolutePosition{constructor(type,index,assoc=0){this.type=type,this.index=index,this.assoc=assoc}}const createRelativePosition=(type,item,assoc)=>{let typeid=null,tname=null;return null===type._item?tname=findRootTypeKey(type):typeid=createID(type._item.id.client,type._item.id.clock),new RelativePosition(typeid,tname,item,assoc)},createRelativePositionFromTypeIndex=(type,index,assoc=0)=>{let t=type._start;if(assoc<0){if(0===index)return createRelativePosition(type,null,assoc);index--}for(;null!==t;){if(!t.deleted&&t.countable){if(t.length>index)return createRelativePosition(type,createID(t.id.client,t.id.clock+index),assoc);index-=t.length}if(null===t.right&&assoc<0)return createRelativePosition(type,t.lastId,assoc);t=t.right}return createRelativePosition(type,null,assoc)},createAbsolutePositionFromRelativePosition=(rpos,doc,followUndoneDeletions=!0)=>{const store=doc.store,rightID=rpos.item,typeID=rpos.type,tname=rpos.tname,assoc=rpos.assoc;let type=null,index=0;if(null!==rightID){if(getState(store,rightID.client)<=rightID.clock)return null;const res=followUndoneDeletions?followRedone(store,rightID):{item:getItem(store,rightID),diff:0},right=res.item;if(!(right instanceof Item))return null;if(type=right.parent,null===type._item||!type._item.deleted){index=right.deleted||!right.countable?0:res.diff+(assoc>=0?0:1);let n=right.left;for(;null!==n;)!n.deleted&&n.countable&&(index+=n.length),n=n.left}}else{if(null!==tname)type=doc.get(tname);else{if(null===typeID)throw lib0_error.Mq();{if(getState(store,typeID.client)<=typeID.clock)return null;const{item}=followUndoneDeletions?followRedone(store,typeID):{item:getItem(store,typeID)};if(!(item instanceof Item&&item.content instanceof ContentType))return null;type=item.content.type}}index=assoc>=0?type._length:0}return((type,index,assoc=0)=>new AbsolutePosition(type,index,assoc))(type,index,rpos.assoc)},compareRelativePositions=(a,b)=>a===b||null!==a&&null!==b&&a.tname===b.tname&&compareIDs(a.item,b.item)&&compareIDs(a.type,b.type)&&a.assoc===b.assoc;class Snapshot{constructor(ds,sv){this.ds=ds,this.sv=sv}}const createSnapshot=(ds,sm)=>new Snapshot(ds,sm),isVisible=(createSnapshot(createDeleteSet(),new Map),(item,snapshot)=>void 0===snapshot?!item.deleted:snapshot.sv.has(item.id.client)&&(snapshot.sv.get(item.id.client)||0)>item.id.clock&&!isDeleted(snapshot.ds,item.id)),splitSnapshotAffectedStructs=(transaction,snapshot)=>{const meta=lib0_map._4(transaction.meta,splitSnapshotAffectedStructs,set.vt),store=transaction.doc.store;meta.has(snapshot)||(snapshot.sv.forEach(((clock,client)=>{clock<getState(store,client)&&getItemCleanStart(transaction,createID(client,clock))})),iterateDeletedStructs(transaction,snapshot.ds,(_item=>{})),meta.add(snapshot))};class StructStore{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const getStateVector=store=>{const sm=new Map;return store.clients.forEach(((structs,client)=>{const struct=structs[structs.length-1];sm.set(client,struct.id.clock+struct.length)})),sm},getState=(store,client)=>{const structs=store.clients.get(client);if(void 0===structs)return 0;const lastStruct=structs[structs.length-1];return lastStruct.id.clock+lastStruct.length},addStruct=(store,struct)=>{let structs=store.clients.get(struct.id.client);if(void 0===structs)structs=[],store.clients.set(struct.id.client,structs);else{const lastStruct=structs[structs.length-1];if(lastStruct.id.clock+lastStruct.length!==struct.id.clock)throw lib0_error.Mq()}structs.push(struct)},findIndexSS=(structs,clock)=>{let left=0,right=structs.length-1,mid=structs[right],midclock=mid.id.clock;if(midclock===clock)return right;let midindex=lib0_math.RI(clock/(midclock+mid.length-1)*right);for(;left<=right;){if(mid=structs[midindex],midclock=mid.id.clock,midclock<=clock){if(clock<midclock+mid.length)return midindex;left=midindex+1}else right=midindex-1;midindex=lib0_math.RI((left+right)/2)}throw lib0_error.Mq()},getItem=(store,id)=>{const structs=store.clients.get(id.client);return structs[findIndexSS(structs,id.clock)]},findIndexCleanStart=(transaction,structs,clock)=>{const index=findIndexSS(structs,clock),struct=structs[index];return struct.id.clock<clock&&struct instanceof Item?(structs.splice(index+1,0,splitItem(transaction,struct,clock-struct.id.clock)),index+1):index},getItemCleanStart=(transaction,id)=>{const structs=transaction.doc.store.clients.get(id.client);return structs[findIndexCleanStart(transaction,structs,id.clock)]},getItemCleanEnd=(transaction,store,id)=>{const structs=store.clients.get(id.client),index=findIndexSS(structs,id.clock),struct=structs[index];return id.clock!==struct.id.clock+struct.length-1&&struct.constructor!==GC&&structs.splice(index+1,0,splitItem(transaction,struct,id.clock-struct.id.clock+1)),struct},iterateStructs=(transaction,structs,clockStart,len,f)=>{if(0===len)return;const clockEnd=clockStart+len;let struct,index=findIndexCleanStart(transaction,structs,clockStart);do{struct=structs[index++],clockEnd<struct.id.clock+struct.length&&findIndexCleanStart(transaction,structs,clockEnd),f(struct)}while(index<structs.length&&structs[index].id.clock<clockEnd)};class Transaction{constructor(doc,origin,local){this.doc=doc,this.deleteSet=new DeleteSet,this.beforeState=getStateVector(doc.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=origin,this.meta=new Map,this.local=local,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const writeUpdateMessageFromTransaction=(encoder,transaction)=>!(0===transaction.deleteSet.clients.size&&!lib0_map.bz(transaction.afterState,((clock,client)=>transaction.beforeState.get(client)!==clock)))&&(sortAndMergeDeleteSet(transaction.deleteSet),((encoder,transaction)=>{writeClientsStructs(encoder,transaction.doc.store,transaction.beforeState)})(encoder,transaction),writeDeleteSet(encoder,transaction.deleteSet),!0),addChangedTypeToTransaction=(transaction,type,parentSub)=>{const item=type._item;(null===item||item.id.clock<(transaction.beforeState.get(item.id.client)||0)&&!item.deleted)&&lib0_map._4(transaction.changed,type,set.vt).add(parentSub)},tryToMergeWithLefts=(structs,pos)=>{let right=structs[pos],left=structs[pos-1],i=pos;for(;i>0&&(left.deleted===right.deleted&&left.constructor===right.constructor&&left.mergeWith(right));right=left,left=structs[--i-1])right instanceof Item&&null!==right.parentSub&&right.parent._map.get(right.parentSub)===right&&right.parent._map.set(right.parentSub,left);const merged=pos-i;return merged&&structs.splice(pos+1-merged,merged),merged},tryGcDeleteSet=(ds,store,gcFilter)=>{for(const[client,deleteItems]of ds.clients.entries()){const structs=store.clients.get(client);for(let di=deleteItems.length-1;di>=0;di--){const deleteItem=deleteItems[di],endDeleteItemClock=deleteItem.clock+deleteItem.len;for(let si=findIndexSS(structs,deleteItem.clock),struct=structs[si];si<structs.length&&struct.id.clock<endDeleteItemClock;struct=structs[++si]){const struct=structs[si];if(deleteItem.clock+deleteItem.len<=struct.id.clock)break;struct instanceof Item&&struct.deleted&&!struct.keep&&gcFilter(struct)&&struct.gc(store,!1)}}}},tryMergeDeleteSet=(ds,store)=>{ds.clients.forEach(((deleteItems,client)=>{const structs=store.clients.get(client);for(let di=deleteItems.length-1;di>=0;di--){const deleteItem=deleteItems[di];for(let si=lib0_math.jk(structs.length-1,1+findIndexSS(structs,deleteItem.clock+deleteItem.len-1)),struct=structs[si];si>0&&struct.id.clock>=deleteItem.clock;struct=structs[si])si-=1+tryToMergeWithLefts(structs,si)}}))},cleanupTransactions=(transactionCleanups,i)=>{if(i<transactionCleanups.length){const transaction=transactionCleanups[i],doc=transaction.doc,store=doc.store,ds=transaction.deleteSet,mergeStructs=transaction._mergeStructs;try{sortAndMergeDeleteSet(ds),transaction.afterState=getStateVector(transaction.doc.store),doc.emit("beforeObserverCalls",[transaction,doc]);const fs=[];transaction.changed.forEach(((subs,itemtype)=>fs.push((()=>{null!==itemtype._item&&itemtype._item.deleted||itemtype._callObserver(transaction,subs)})))),fs.push((()=>{transaction.changedParentTypes.forEach(((events,type)=>{type._dEH.l.length>0&&(null===type._item||!type._item.deleted)&&((events=events.filter((event=>null===event.target._item||!event.target._item.deleted))).forEach((event=>{event.currentTarget=type,event._path=null})),events.sort(((event1,event2)=>event1.path.length-event2.path.length)),callEventHandlerListeners(type._dEH,events,transaction))}))})),fs.push((()=>doc.emit("afterTransaction",[transaction,doc]))),(0,lib0_function.OK)(fs,[]),transaction._needFormattingCleanup&&cleanupYTextAfterTransaction(transaction)}finally{doc.gc&&tryGcDeleteSet(ds,store,doc.gcFilter),tryMergeDeleteSet(ds,store),transaction.afterState.forEach(((clock,client)=>{const beforeClock=transaction.beforeState.get(client)||0;if(beforeClock!==clock){const structs=store.clients.get(client),firstChangePos=lib0_math.T9(findIndexSS(structs,beforeClock),1);for(let i=structs.length-1;i>=firstChangePos;)i-=1+tryToMergeWithLefts(structs,i)}}));for(let i=mergeStructs.length-1;i>=0;i--){const{client,clock}=mergeStructs[i].id,structs=store.clients.get(client),replacedStructPos=findIndexSS(structs,clock);replacedStructPos+1<structs.length&&tryToMergeWithLefts(structs,replacedStructPos+1)>1||replacedStructPos>0&&tryToMergeWithLefts(structs,replacedStructPos)}if(transaction.local||transaction.afterState.get(doc.clientID)===transaction.beforeState.get(doc.clientID)||(print(ORANGE,BOLD,"[yjs] ",UNBOLD,RED,"Changed the client-id because another client seems to be using it."),doc.clientID=generateNewClientId()),doc.emit("afterTransactionCleanup",[transaction,doc]),doc._observers.has("update")){const encoder=new UpdateEncoderV1;writeUpdateMessageFromTransaction(encoder,transaction)&&doc.emit("update",[encoder.toUint8Array(),transaction.origin,doc,transaction])}if(doc._observers.has("updateV2")){const encoder=new UpdateEncoderV2;writeUpdateMessageFromTransaction(encoder,transaction)&&doc.emit("updateV2",[encoder.toUint8Array(),transaction.origin,doc,transaction])}const{subdocsAdded,subdocsLoaded,subdocsRemoved}=transaction;(subdocsAdded.size>0||subdocsRemoved.size>0||subdocsLoaded.size>0)&&(subdocsAdded.forEach((subdoc=>{subdoc.clientID=doc.clientID,null==subdoc.collectionid&&(subdoc.collectionid=doc.collectionid),doc.subdocs.add(subdoc)})),subdocsRemoved.forEach((subdoc=>doc.subdocs.delete(subdoc))),doc.emit("subdocs",[{loaded:subdocsLoaded,added:subdocsAdded,removed:subdocsRemoved},doc,transaction]),subdocsRemoved.forEach((subdoc=>subdoc.destroy()))),transactionCleanups.length<=i+1?(doc._transactionCleanups=[],doc.emit("afterAllTransactions",[doc,transactionCleanups])):cleanupTransactions(transactionCleanups,i+1)}}},transact=(doc,f,origin=null,local=!0)=>{const transactionCleanups=doc._transactionCleanups;let initialCall=!1,result=null;null===doc._transaction&&(initialCall=!0,doc._transaction=new Transaction(doc,origin,local),transactionCleanups.push(doc._transaction),1===transactionCleanups.length&&doc.emit("beforeAllTransactions",[doc]),doc.emit("beforeTransaction",[doc._transaction,doc]));try{result=f(doc._transaction)}finally{if(initialCall){const finishCleanup=doc._transaction===transactionCleanups[0];doc._transaction=null,finishCleanup&&cleanupTransactions(transactionCleanups,0)}}return result};class StackItem{constructor(deletions,insertions){this.insertions=insertions,this.deletions=deletions,this.meta=new Map}}const clearUndoManagerStackItem=(tr,um,stackItem)=>{iterateDeletedStructs(tr,stackItem.deletions,(item=>{item instanceof Item&&um.scope.some((type=>yjs_isParentOf(type,item)))&&keepItem(item,!1)}))},popStackItem=(undoManager,stack,eventType)=>{let _tr=null;const doc=undoManager.doc,scope=undoManager.scope;if(transact(doc,(transaction=>{for(;stack.length>0&&null===undoManager.currStackItem;){const store=doc.store,stackItem=stack.pop(),itemsToRedo=new Set,itemsToDelete=[];let performedChange=!1;iterateDeletedStructs(transaction,stackItem.insertions,(struct=>{if(struct instanceof Item){if(null!==struct.redone){let{item,diff}=followRedone(store,struct.id);diff>0&&(item=getItemCleanStart(transaction,createID(item.id.client,item.id.clock+diff))),struct=item}!struct.deleted&&scope.some((type=>yjs_isParentOf(type,struct)))&&itemsToDelete.push(struct)}})),iterateDeletedStructs(transaction,stackItem.deletions,(struct=>{struct instanceof Item&&scope.some((type=>yjs_isParentOf(type,struct)))&&!isDeleted(stackItem.insertions,struct.id)&&itemsToRedo.add(struct)})),itemsToRedo.forEach((struct=>{performedChange=null!==redoItem(transaction,struct,itemsToRedo,stackItem.insertions,undoManager.ignoreRemoteMapChanges,undoManager)||performedChange}));for(let i=itemsToDelete.length-1;i>=0;i--){const item=itemsToDelete[i];undoManager.deleteFilter(item)&&(item.delete(transaction),performedChange=!0)}undoManager.currStackItem=performedChange?stackItem:null}transaction.changed.forEach(((subProps,type)=>{subProps.has(null)&&type._searchMarker&&(type._searchMarker.length=0)})),_tr=transaction}),undoManager),null!=undoManager.currStackItem){const changedParentTypes=_tr.changedParentTypes;undoManager.emit("stack-item-popped",[{stackItem:undoManager.currStackItem,type:eventType,changedParentTypes,origin:undoManager},undoManager]),undoManager.currStackItem=null}return undoManager.currStackItem};class UndoManager extends observable.W{constructor(typeScope,{captureTimeout=500,captureTransaction=_tr=>!0,deleteFilter=()=>!0,trackedOrigins=new Set([null]),ignoreRemoteMapChanges=!1,doc=array.cy(typeScope)?typeScope[0].doc:typeScope.doc}={}){super(),this.scope=[],this.doc=doc,this.addToScope(typeScope),this.deleteFilter=deleteFilter,trackedOrigins.add(this),this.trackedOrigins=trackedOrigins,this.captureTransaction=captureTransaction,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=ignoreRemoteMapChanges,this.captureTimeout=captureTimeout,this.afterTransactionHandler=transaction=>{if(!(this.captureTransaction(transaction)&&this.scope.some((type=>transaction.changedParentTypes.has(type)))&&(this.trackedOrigins.has(transaction.origin)||transaction.origin&&this.trackedOrigins.has(transaction.origin.constructor))))return;const undoing=this.undoing,redoing=this.redoing,stack=undoing?this.redoStack:this.undoStack;undoing?this.stopCapturing():redoing||this.clear(!1,!0);const insertions=new DeleteSet;transaction.afterState.forEach(((endClock,client)=>{const startClock=transaction.beforeState.get(client)||0,len=endClock-startClock;len>0&&addToDeleteSet(insertions,client,startClock,len)}));const now=lib0_time._g();let didAdd=!1;if(this.lastChange>0&&now-this.lastChange<this.captureTimeout&&stack.length>0&&!undoing&&!redoing){const lastOp=stack[stack.length-1];lastOp.deletions=mergeDeleteSets([lastOp.deletions,transaction.deleteSet]),lastOp.insertions=mergeDeleteSets([lastOp.insertions,insertions])}else stack.push(new StackItem(transaction.deleteSet,insertions)),didAdd=!0;undoing||redoing||(this.lastChange=now),iterateDeletedStructs(transaction,transaction.deleteSet,(item=>{item instanceof Item&&this.scope.some((type=>yjs_isParentOf(type,item)))&&keepItem(item,!0)}));const changeEvent=[{stackItem:stack[stack.length-1],origin:transaction.origin,type:undoing?"redo":"undo",changedParentTypes:transaction.changedParentTypes},this];didAdd?this.emit("stack-item-added",changeEvent):this.emit("stack-item-updated",changeEvent)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",(()=>{this.destroy()}))}addToScope(ytypes){(ytypes=array.cy(ytypes)?ytypes:[ytypes]).forEach((ytype=>{this.scope.every((yt=>yt!==ytype))&&(ytype.doc!==this.doc&&((...args)=>{console.warn(...computeLoggingArgs(args)),args.unshift(ORANGE),vconsoles.forEach((vc=>vc.print(args)))})("[yjs#509] Not same Y.Doc"),this.scope.push(ytype))}))}addTrackedOrigin(origin){this.trackedOrigins.add(origin)}removeTrackedOrigin(origin){this.trackedOrigins.delete(origin)}clear(clearUndoStack=!0,clearRedoStack=!0){(clearUndoStack&&this.canUndo()||clearRedoStack&&this.canRedo())&&this.doc.transact((tr=>{clearUndoStack&&(this.undoStack.forEach((item=>clearUndoManagerStackItem(tr,this,item))),this.undoStack=[]),clearRedoStack&&(this.redoStack.forEach((item=>clearUndoManagerStackItem(tr,this,item))),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:clearUndoStack,redoStackCleared:clearRedoStack}])}))}stopCapturing(){this.lastChange=0}undo(){let res;this.undoing=!0;try{res=popStackItem(this,this.undoStack,"undo")}finally{this.undoing=!1}return res}redo(){let res;this.redoing=!0;try{res=popStackItem(this,this.redoStack,"redo")}finally{this.redoing=!1}return res}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}class LazyStructReader{constructor(decoder,filterSkips){this.gen=function*lazyStructReaderGenerator(decoder){const numOfStateUpdates=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<numOfStateUpdates;i++){const numberOfStructs=lib0_decoding.cw(decoder.restDecoder),client=decoder.readClient();let clock=lib0_decoding.cw(decoder.restDecoder);for(let i=0;i<numberOfStructs;i++){const info=decoder.readInfo();if(10===info){const len=lib0_decoding.cw(decoder.restDecoder);yield new Skip(createID(client,clock),len),clock+=len}else if(lib0_binary.WY&info){const cantCopyParentInfo=!(info&(lib0_binary.D7|lib0_binary.wt)),struct=new Item(createID(client,clock),null,(info&lib0_binary.wt)===lib0_binary.wt?decoder.readLeftID():null,null,(info&lib0_binary.D7)===lib0_binary.D7?decoder.readRightID():null,cantCopyParentInfo?decoder.readParentInfo()?decoder.readString():decoder.readLeftID():null,cantCopyParentInfo&&(info&lib0_binary.KJ)===lib0_binary.KJ?decoder.readString():null,readItemContent(decoder,info));yield struct,clock+=struct.length}else{const len=decoder.readLen();yield new GC(createID(client,clock),len),clock+=len}}}}(decoder),this.curr=null,this.done=!1,this.filterSkips=filterSkips,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Skip);return this.curr}}class LazyStructWriter{constructor(encoder){this.currClient=0,this.startClock=0,this.written=0,this.encoder=encoder,this.clientStructs=[]}}const mergeUpdates=updates=>mergeUpdatesV2(updates,UpdateDecoderV1,UpdateEncoderV1),sliceStruct=(left,diff)=>{if(left.constructor===GC){const{client,clock}=left.id;return new GC(createID(client,clock+diff),left.length-diff)}if(left.constructor===Skip){const{client,clock}=left.id;return new Skip(createID(client,clock+diff),left.length-diff)}{const leftItem=left,{client,clock}=leftItem.id;return new Item(createID(client,clock+diff),null,createID(client,clock+diff-1),null,leftItem.rightOrigin,leftItem.parent,leftItem.parentSub,leftItem.content.splice(diff))}},mergeUpdatesV2=(updates,YDecoder=UpdateDecoderV2,YEncoder=UpdateEncoderV2)=>{if(1===updates.length)return updates[0];const updateDecoders=updates.map((update=>new YDecoder(lib0_decoding.$C(update))));let lazyStructDecoders=updateDecoders.map((decoder=>new LazyStructReader(decoder,!0))),currWrite=null;const updateEncoder=new YEncoder,lazyStructEncoder=new LazyStructWriter(updateEncoder);for(;lazyStructDecoders=lazyStructDecoders.filter((dec=>null!==dec.curr)),lazyStructDecoders.sort(((dec1,dec2)=>{if(dec1.curr.id.client===dec2.curr.id.client){const clockDiff=dec1.curr.id.clock-dec2.curr.id.clock;return 0===clockDiff?dec1.curr.constructor===dec2.curr.constructor?0:dec1.curr.constructor===Skip?1:-1:clockDiff}return dec2.curr.id.client-dec1.curr.id.client})),0!==lazyStructDecoders.length;){const currDecoder=lazyStructDecoders[0],firstClient=currDecoder.curr.id.client;if(null!==currWrite){let curr=currDecoder.curr,iterated=!1;for(;null!==curr&&curr.id.clock+curr.length<=currWrite.struct.id.clock+currWrite.struct.length&&curr.id.client>=currWrite.struct.id.client;)curr=currDecoder.next(),iterated=!0;if(null===curr||curr.id.client!==firstClient||iterated&&curr.id.clock>currWrite.struct.id.clock+currWrite.struct.length)continue;if(firstClient!==currWrite.struct.id.client)writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:curr,offset:0},currDecoder.next();else if(currWrite.struct.id.clock+currWrite.struct.length<curr.id.clock)if(currWrite.struct.constructor===Skip)currWrite.struct.length=curr.id.clock+curr.length-currWrite.struct.id.clock;else{writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset);const diff=curr.id.clock-currWrite.struct.id.clock-currWrite.struct.length;currWrite={struct:new Skip(createID(firstClient,currWrite.struct.id.clock+currWrite.struct.length),diff),offset:0}}else{const diff=currWrite.struct.id.clock+currWrite.struct.length-curr.id.clock;diff>0&&(currWrite.struct.constructor===Skip?currWrite.struct.length-=diff:curr=sliceStruct(curr,diff)),currWrite.struct.mergeWith(curr)||(writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:curr,offset:0},currDecoder.next())}}else currWrite={struct:currDecoder.curr,offset:0},currDecoder.next();for(let next=currDecoder.curr;null!==next&&next.id.client===firstClient&&next.id.clock===currWrite.struct.id.clock+currWrite.struct.length&&next.constructor!==Skip;next=currDecoder.next())writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite={struct:next,offset:0}}null!==currWrite&&(writeStructToLazyStructWriter(lazyStructEncoder,currWrite.struct,currWrite.offset),currWrite=null),finishLazyStructWriting(lazyStructEncoder);const dss=updateDecoders.map((decoder=>readDeleteSet(decoder))),ds=mergeDeleteSets(dss);return writeDeleteSet(updateEncoder,ds),updateEncoder.toUint8Array()},diffUpdateV2=(update,sv,YDecoder=UpdateDecoderV2,YEncoder=UpdateEncoderV2)=>{const state=decodeStateVector(sv),encoder=new YEncoder,lazyStructWriter=new LazyStructWriter(encoder),decoder=new YDecoder(lib0_decoding.$C(update)),reader=new LazyStructReader(decoder,!1);for(;reader.curr;){const curr=reader.curr,currClient=curr.id.client,svClock=state.get(currClient)||0;if(reader.curr.constructor!==Skip)if(curr.id.clock+curr.length>svClock)for(writeStructToLazyStructWriter(lazyStructWriter,curr,lib0_math.T9(svClock-curr.id.clock,0)),reader.next();reader.curr&&reader.curr.id.client===currClient;)writeStructToLazyStructWriter(lazyStructWriter,reader.curr,0),reader.next();else for(;reader.curr&&reader.curr.id.client===currClient&&reader.curr.id.clock+reader.curr.length<=svClock;)reader.next();else reader.next()}finishLazyStructWriting(lazyStructWriter);const ds=readDeleteSet(decoder);return writeDeleteSet(encoder,ds),encoder.toUint8Array()},flushLazyStructWriter=lazyWriter=>{lazyWriter.written>0&&(lazyWriter.clientStructs.push({written:lazyWriter.written,restEncoder:lib0_encoding.Fo(lazyWriter.encoder.restEncoder)}),lazyWriter.encoder.restEncoder=lib0_encoding.xv(),lazyWriter.written=0)},writeStructToLazyStructWriter=(lazyWriter,struct,offset)=>{lazyWriter.written>0&&lazyWriter.currClient!==struct.id.client&&flushLazyStructWriter(lazyWriter),0===lazyWriter.written&&(lazyWriter.currClient=struct.id.client,lazyWriter.encoder.writeClient(struct.id.client),lib0_encoding.zd(lazyWriter.encoder.restEncoder,struct.id.clock+offset)),struct.write(lazyWriter.encoder,offset),lazyWriter.written++},finishLazyStructWriting=lazyWriter=>{flushLazyStructWriter(lazyWriter);const restEncoder=lazyWriter.encoder.restEncoder;lib0_encoding.zd(restEncoder,lazyWriter.clientStructs.length);for(let i=0;i<lazyWriter.clientStructs.length;i++){const partStructs=lazyWriter.clientStructs[i];lib0_encoding.zd(restEncoder,partStructs.written),lib0_encoding.LH(restEncoder,partStructs.restEncoder)}},convertUpdateFormat=(update,blockTransformer,YDecoder,YEncoder)=>{const updateDecoder=new YDecoder(lib0_decoding.$C(update)),lazyDecoder=new LazyStructReader(updateDecoder,!1),updateEncoder=new YEncoder,lazyWriter=new LazyStructWriter(updateEncoder);for(let curr=lazyDecoder.curr;null!==curr;curr=lazyDecoder.next())writeStructToLazyStructWriter(lazyWriter,blockTransformer(curr),0);finishLazyStructWriting(lazyWriter);const ds=readDeleteSet(updateDecoder);return writeDeleteSet(updateEncoder,ds),updateEncoder.toUint8Array()},convertUpdateFormatV2ToV1=update=>convertUpdateFormat(update,lib0_function.id,UpdateDecoderV2,UpdateEncoderV1),errorComputeChanges="You must not compute changes after the event-handler fired.";class YEvent{constructor(target,transaction){this.target=target,this.currentTarget=target,this.transaction=transaction,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=getPathTo(this.currentTarget,this.target))}deletes(struct){return isDeleted(this.transaction.deleteSet,struct.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw lib0_error.vt(errorComputeChanges);const keys=new Map,target=this.target;this.transaction.changed.get(target).forEach((key=>{if(null!==key){const item=target._map.get(key);let action,oldValue;if(this.adds(item)){let prev=item.left;for(;null!==prev&&this.adds(prev);)prev=prev.left;if(this.deletes(item)){if(null===prev||!this.deletes(prev))return;action="delete",oldValue=array.HV(prev.content.getContent())}else null!==prev&&this.deletes(prev)?(action="update",oldValue=array.HV(prev.content.getContent())):(action="add",oldValue=void 0)}else{if(!this.deletes(item))return;action="delete",oldValue=array.HV(item.content.getContent())}keys.set(key,{action,oldValue})}})),this._keys=keys}return this._keys}get delta(){return this.changes.delta}adds(struct){return struct.id.clock>=(this.transaction.beforeState.get(struct.id.client)||0)}get changes(){let changes=this._changes;if(null===changes){if(0===this.transaction.doc._transactionCleanups.length)throw lib0_error.vt(errorComputeChanges);const target=this.target,added=set.vt(),deleted=set.vt(),delta=[];changes={added,deleted,delta,keys:this.keys};if(this.transaction.changed.get(target).has(null)){let lastOp=null;const packOp=()=>{lastOp&&delta.push(lastOp)};for(let item=target._start;null!==item;item=item.right)item.deleted?this.deletes(item)&&!this.adds(item)&&(null!==lastOp&&void 0!==lastOp.delete||(packOp(),lastOp={delete:0}),lastOp.delete+=item.length,deleted.add(item)):this.adds(item)?(null!==lastOp&&void 0!==lastOp.insert||(packOp(),lastOp={insert:[]}),lastOp.insert=lastOp.insert.concat(item.content.getContent()),added.add(item)):(null!==lastOp&&void 0!==lastOp.retain||(packOp(),lastOp={retain:0}),lastOp.retain+=item.length);null!==lastOp&&void 0===lastOp.retain&&packOp()}this._changes=changes}return changes}}const getPathTo=(parent,child)=>{const path=[];for(;null!==child._item&&child!==parent;){if(null!==child._item.parentSub)path.unshift(child._item.parentSub);else{let i=0,c=child._item.parent._start;for(;c!==child._item&&null!==c;)c.deleted||i++,c=c.right;path.unshift(i)}child=child._item.parent}return path};let globalSearchMarkerTimestamp=0;class ArraySearchMarker{constructor(p,index){p.marker=!0,this.p=p,this.index=index,this.timestamp=globalSearchMarkerTimestamp++}}const overwriteMarker=(marker,p,index)=>{marker.p.marker=!1,marker.p=p,p.marker=!0,marker.index=index,marker.timestamp=globalSearchMarkerTimestamp++},findMarker=(yarray,index)=>{if(null===yarray._start||0===index||null===yarray._searchMarker)return null;const marker=0===yarray._searchMarker.length?null:yarray._searchMarker.reduce(((a,b)=>lib0_math.tn(index-a.index)<lib0_math.tn(index-b.index)?a:b));let p=yarray._start,pindex=0;for(null!==marker&&(p=marker.p,pindex=marker.index,(marker=>{marker.timestamp=globalSearchMarkerTimestamp++})(marker));null!==p.right&&pindex<index;){if(!p.deleted&&p.countable){if(index<pindex+p.length)break;pindex+=p.length}p=p.right}for(;null!==p.left&&pindex>index;)p=p.left,!p.deleted&&p.countable&&(pindex-=p.length);for(;null!==p.left&&p.left.id.client===p.id.client&&p.left.id.clock+p.left.length===p.id.clock;)p=p.left,!p.deleted&&p.countable&&(pindex-=p.length);return null!==marker&&lib0_math.tn(marker.index-pindex)<p.parent.length/80?(overwriteMarker(marker,p,pindex),marker):((searchMarker,p,index)=>{if(searchMarker.length>=80){const marker=searchMarker.reduce(((a,b)=>a.timestamp<b.timestamp?a:b));return overwriteMarker(marker,p,index),marker}{const pm=new ArraySearchMarker(p,index);return searchMarker.push(pm),pm}})(yarray._searchMarker,p,pindex)},updateMarkerChanges=(searchMarker,index,len)=>{for(let i=searchMarker.length-1;i>=0;i--){const m=searchMarker[i];if(len>0){let p=m.p;for(p.marker=!1;p&&(p.deleted||!p.countable);)p=p.left,p&&!p.deleted&&p.countable&&(m.index-=p.length);if(null===p||!0===p.marker){searchMarker.splice(i,1);continue}m.p=p,p.marker=!0}(index<m.index||len>0&&index===m.index)&&(m.index=lib0_math.T9(index,m.index+len))}},callTypeObservers=(type,transaction,event)=>{const changedType=type,changedParentTypes=transaction.changedParentTypes;for(;lib0_map._4(changedParentTypes,type,(()=>[])).push(event),null!==type._item;)type=type._item.parent;callEventHandlerListeners(changedType._eH,event,transaction)};class AbstractType{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=createEventHandler(),this._dEH=createEventHandler(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(y,item){this.doc=y,this._item=item}_copy(){throw lib0_error.bD()}clone(){throw lib0_error.bD()}_write(_encoder){}get _first(){let n=this._start;for(;null!==n&&n.deleted;)n=n.right;return n}_callObserver(transaction,_parentSubs){!transaction.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(f){addEventHandlerListener(this._eH,f)}observeDeep(f){addEventHandlerListener(this._dEH,f)}unobserve(f){removeEventHandlerListener(this._eH,f)}unobserveDeep(f){removeEventHandlerListener(this._dEH,f)}toJSON(){}}const typeListSlice=(type,start,end)=>{start<0&&(start=type._length+start),end<0&&(end=type._length+end);let len=end-start;const cs=[];let n=type._start;for(;null!==n&&len>0;){if(n.countable&&!n.deleted){const c=n.content.getContent();if(c.length<=start)start-=c.length;else{for(let i=start;i<c.length&&len>0;i++)cs.push(c[i]),len--;start=0}}n=n.right}return cs},typeListToArray=type=>{const cs=[];let n=type._start;for(;null!==n;){if(n.countable&&!n.deleted){const c=n.content.getContent();for(let i=0;i<c.length;i++)cs.push(c[i])}n=n.right}return cs},typeListForEach=(type,f)=>{let index=0,n=type._start;for(;null!==n;){if(n.countable&&!n.deleted){const c=n.content.getContent();for(let i=0;i<c.length;i++)f(c[i],index++,type)}n=n.right}},typeListMap=(type,f)=>{const result=[];return typeListForEach(type,((c,i)=>{result.push(f(c,i,type))})),result},typeListCreateIterator=type=>{let n=type._start,currentContent=null,currentContentIndex=0;return{[Symbol.iterator](){return this},next:()=>{if(null===currentContent){for(;null!==n&&n.deleted;)n=n.right;if(null===n)return{done:!0,value:void 0};currentContent=n.content.getContent(),currentContentIndex=0,n=n.right}const value=currentContent[currentContentIndex++];return currentContent.length<=currentContentIndex&&(currentContent=null),{done:!1,value}}}},typeListGet=(type,index)=>{const marker=findMarker(type,index);let n=type._start;for(null!==marker&&(n=marker.p,index-=marker.index);null!==n;n=n.right)if(!n.deleted&&n.countable){if(index<n.length)return n.content.getContent()[index];index-=n.length}},typeListInsertGenericsAfter=(transaction,parent,referenceItem,content)=>{let left=referenceItem;const doc=transaction.doc,ownClientId=doc.clientID,store=doc.store,right=null===referenceItem?parent._start:referenceItem.right;let jsonContent=[];const packJsonContent=()=>{jsonContent.length>0&&(left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentAny(jsonContent)),left.integrate(transaction,0),jsonContent=[])};content.forEach((c=>{if(null===c)jsonContent.push(c);else switch(c.constructor){case Number:case Object:case Boolean:case Array:case String:jsonContent.push(c);break;default:switch(packJsonContent(),c.constructor){case Uint8Array:case ArrayBuffer:left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentBinary(new Uint8Array(c))),left.integrate(transaction,0);break;case Doc:left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentDoc(c)),left.integrate(transaction,0);break;default:if(!(c instanceof AbstractType))throw new Error("Unexpected content type in insert operation");left=new Item(createID(ownClientId,getState(store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentType(c)),left.integrate(transaction,0)}}})),packJsonContent()},lengthExceeded=()=>lib0_error.vt("Length exceeded!"),typeListInsertGenerics=(transaction,parent,index,content)=>{if(index>parent._length)throw lengthExceeded();if(0===index)return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,index,content.length),typeListInsertGenericsAfter(transaction,parent,null,content);const startIndex=index,marker=findMarker(parent,index);let n=parent._start;for(null!==marker&&(n=marker.p,0===(index-=marker.index)&&(n=n.prev,index+=n&&n.countable&&!n.deleted?n.length:0));null!==n;n=n.right)if(!n.deleted&&n.countable){if(index<=n.length){index<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+index));break}index-=n.length}return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,startIndex,content.length),typeListInsertGenericsAfter(transaction,parent,n,content)},typeListDelete=(transaction,parent,index,length)=>{if(0===length)return;const startIndex=index,startLength=length,marker=findMarker(parent,index);let n=parent._start;for(null!==marker&&(n=marker.p,index-=marker.index);null!==n&&index>0;n=n.right)!n.deleted&&n.countable&&(index<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+index)),index-=n.length);for(;length>0&&null!==n;)n.deleted||(length<n.length&&getItemCleanStart(transaction,createID(n.id.client,n.id.clock+length)),n.delete(transaction),length-=n.length),n=n.right;if(length>0)throw lengthExceeded();parent._searchMarker&&updateMarkerChanges(parent._searchMarker,startIndex,-startLength+length)},typeMapDelete=(transaction,parent,key)=>{const c=parent._map.get(key);void 0!==c&&c.delete(transaction)},typeMapSet=(transaction,parent,key,value)=>{const left=parent._map.get(key)||null,doc=transaction.doc,ownClientId=doc.clientID;let content;if(null==value)content=new ContentAny([value]);else switch(value.constructor){case Number:case Object:case Boolean:case Array:case String:content=new ContentAny([value]);break;case Uint8Array:content=new ContentBinary(value);break;case Doc:content=new ContentDoc(value);break;default:if(!(value instanceof AbstractType))throw new Error("Unexpected content type");content=new ContentType(value)}new Item(createID(ownClientId,getState(doc.store,ownClientId)),left,left&&left.lastId,null,null,parent,key,content).integrate(transaction,0)},typeMapGet=(parent,key)=>{const val=parent._map.get(key);return void 0===val||val.deleted?void 0:val.content.getContent()[val.length-1]},typeMapGetAll=parent=>{const res={};return parent._map.forEach(((value,key)=>{value.deleted||(res[key]=value.content.getContent()[value.length-1])})),res},typeMapHas=(parent,key)=>{const val=parent._map.get(key);return void 0!==val&&!val.deleted},createMapIterator=map=>{return iterator=map.entries(),filter=entry=>!entry[1].deleted,createIterator((()=>{let res;do{res=iterator.next()}while(!res.done&&!filter(res.value));return res}));var iterator,filter};class YArrayEvent extends YEvent{constructor(yarray,transaction){super(yarray,transaction),this._transaction=transaction}}class YArray extends AbstractType{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(items){const a=new YArray;return a.push(items),a}_integrate(y,item){super._integrate(y,item),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new YArray}clone(){const arr=new YArray;return arr.insert(0,this.toArray().map((el=>el instanceof AbstractType?el.clone():el))),arr}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(transaction,parentSubs){super._callObserver(transaction,parentSubs),callTypeObservers(this,transaction,new YArrayEvent(this,transaction))}insert(index,content){null!==this.doc?transact(this.doc,(transaction=>{typeListInsertGenerics(transaction,this,index,content)})):this._prelimContent.splice(index,0,...content)}push(content){null!==this.doc?transact(this.doc,(transaction=>{((transaction,parent,content)=>{let n=(parent._searchMarker||[]).reduce(((maxMarker,currMarker)=>currMarker.index>maxMarker.index?currMarker:maxMarker),{index:0,p:parent._start}).p;if(n)for(;n.right;)n=n.right;typeListInsertGenericsAfter(transaction,parent,n,content)})(transaction,this,content)})):this._prelimContent.push(...content)}unshift(content){this.insert(0,content)}delete(index,length=1){null!==this.doc?transact(this.doc,(transaction=>{typeListDelete(transaction,this,index,length)})):this._prelimContent.splice(index,length)}get(index){return typeListGet(this,index)}toArray(){return typeListToArray(this)}slice(start=0,end=this.length){return typeListSlice(this,start,end)}toJSON(){return this.map((c=>c instanceof AbstractType?c.toJSON():c))}map(f){return typeListMap(this,f)}forEach(f){typeListForEach(this,f)}[Symbol.iterator](){return typeListCreateIterator(this)}_write(encoder){encoder.writeTypeRef(YArrayRefID)}}class YMapEvent extends YEvent{constructor(ymap,transaction,subs){super(ymap,transaction),this.keysChanged=subs}}class YMap extends AbstractType{constructor(entries){super(),this._prelimContent=null,this._prelimContent=void 0===entries?new Map:new Map(entries)}_integrate(y,item){super._integrate(y,item),this._prelimContent.forEach(((value,key)=>{this.set(key,value)})),this._prelimContent=null}_copy(){return new YMap}clone(){const map=new YMap;return this.forEach(((value,key)=>{map.set(key,value instanceof AbstractType?value.clone():value)})),map}_callObserver(transaction,parentSubs){callTypeObservers(this,transaction,new YMapEvent(this,transaction,parentSubs))}toJSON(){const map={};return this._map.forEach(((item,key)=>{if(!item.deleted){const v=item.content.getContent()[item.length-1];map[key]=v instanceof AbstractType?v.toJSON():v}})),map}get size(){return[...createMapIterator(this._map)].length}keys(){return iteratorMap(createMapIterator(this._map),(v=>v[0]))}values(){return iteratorMap(createMapIterator(this._map),(v=>v[1].content.getContent()[v[1].length-1]))}entries(){return iteratorMap(createMapIterator(this._map),(v=>[v[0],v[1].content.getContent()[v[1].length-1]]))}forEach(f){this._map.forEach(((item,key)=>{item.deleted||f(item.content.getContent()[item.length-1],key,this)}))}[Symbol.iterator](){return this.entries()}delete(key){null!==this.doc?transact(this.doc,(transaction=>{typeMapDelete(transaction,this,key)})):this._prelimContent.delete(key)}set(key,value){return null!==this.doc?transact(this.doc,(transaction=>{typeMapSet(transaction,this,key,value)})):this._prelimContent.set(key,value),value}get(key){return typeMapGet(this,key)}has(key){return typeMapHas(this,key)}clear(){null!==this.doc?transact(this.doc,(transaction=>{this.forEach((function(_value,key,map){typeMapDelete(transaction,map,key)}))})):this._prelimContent.clear()}_write(encoder){encoder.writeTypeRef(YMapRefID)}}const equalAttrs=(a,b)=>a===b||"object"==typeof a&&"object"==typeof b&&a&&b&&object.SQ(a,b);class ItemTextListPosition{constructor(left,right,index,currentAttributes){this.left=left,this.right=right,this.index=index,this.currentAttributes=currentAttributes}forward(){if(null===this.right&&lib0_error.Mq(),this.right.content.constructor===ContentFormat)this.right.deleted||updateCurrentAttributes(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}const findNextPosition=(transaction,pos,count)=>{for(;null!==pos.right&&count>0;){if(pos.right.content.constructor===ContentFormat)pos.right.deleted||updateCurrentAttributes(pos.currentAttributes,pos.right.content);else pos.right.deleted||(count<pos.right.length&&getItemCleanStart(transaction,createID(pos.right.id.client,pos.right.id.clock+count)),pos.index+=pos.right.length,count-=pos.right.length);pos.left=pos.right,pos.right=pos.right.right}return pos},findPosition=(transaction,parent,index,useSearchMarker)=>{const currentAttributes=new Map,marker=useSearchMarker?findMarker(parent,index):null;if(marker){const pos=new ItemTextListPosition(marker.p.left,marker.p,marker.index,currentAttributes);return findNextPosition(transaction,pos,index-marker.index)}{const pos=new ItemTextListPosition(null,parent._start,0,currentAttributes);return findNextPosition(transaction,pos,index)}},insertNegatedAttributes=(transaction,parent,currPos,negatedAttributes)=>{for(;null!==currPos.right&&(!0===currPos.right.deleted||currPos.right.content.constructor===ContentFormat&&equalAttrs(negatedAttributes.get(currPos.right.content.key),currPos.right.content.value));)currPos.right.deleted||negatedAttributes.delete(currPos.right.content.key),currPos.forward();const doc=transaction.doc,ownClientId=doc.clientID;negatedAttributes.forEach(((val,key)=>{const left=currPos.left,right=currPos.right,nextFormat=new Item(createID(ownClientId,getState(doc.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentFormat(key,val));nextFormat.integrate(transaction,0),currPos.right=nextFormat,currPos.forward()}))},updateCurrentAttributes=(currentAttributes,format)=>{const{key,value}=format;null===value?currentAttributes.delete(key):currentAttributes.set(key,value)},minimizeAttributeChanges=(currPos,attributes)=>{for(;null!==currPos.right&&(currPos.right.deleted||currPos.right.content.constructor===ContentFormat&&equalAttrs(attributes[currPos.right.content.key]??null,currPos.right.content.value));)currPos.forward()},insertAttributes=(transaction,parent,currPos,attributes)=>{const doc=transaction.doc,ownClientId=doc.clientID,negatedAttributes=new Map;for(const key in attributes){const val=attributes[key],currentVal=currPos.currentAttributes.get(key)??null;if(!equalAttrs(currentVal,val)){negatedAttributes.set(key,currentVal);const{left,right}=currPos;currPos.right=new Item(createID(ownClientId,getState(doc.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,new ContentFormat(key,val)),currPos.right.integrate(transaction,0),currPos.forward()}}return negatedAttributes},insertText=(transaction,parent,currPos,text,attributes)=>{currPos.currentAttributes.forEach(((_val,key)=>{void 0===attributes[key]&&(attributes[key]=null)}));const doc=transaction.doc,ownClientId=doc.clientID;minimizeAttributeChanges(currPos,attributes);const negatedAttributes=insertAttributes(transaction,parent,currPos,attributes),content=text.constructor===String?new ContentString(text):text instanceof AbstractType?new ContentType(text):new ContentEmbed(text);let{left,right,index}=currPos;parent._searchMarker&&updateMarkerChanges(parent._searchMarker,currPos.index,content.getLength()),right=new Item(createID(ownClientId,getState(doc.store,ownClientId)),left,left&&left.lastId,right,right&&right.id,parent,null,content),right.integrate(transaction,0),currPos.right=right,currPos.index=index,currPos.forward(),insertNegatedAttributes(transaction,parent,currPos,negatedAttributes)},formatText=(transaction,parent,currPos,length,attributes)=>{const doc=transaction.doc,ownClientId=doc.clientID;minimizeAttributeChanges(currPos,attributes);const negatedAttributes=insertAttributes(transaction,parent,currPos,attributes);iterationLoop:for(;null!==currPos.right&&(length>0||negatedAttributes.size>0&&(currPos.right.deleted||currPos.right.content.constructor===ContentFormat));){if(!currPos.right.deleted)switch(currPos.right.content.constructor){case ContentFormat:{const{key,value}=currPos.right.content,attr=attributes[key];if(void 0!==attr){if(equalAttrs(attr,value))negatedAttributes.delete(key);else{if(0===length)break iterationLoop;negatedAttributes.set(key,value)}currPos.right.delete(transaction)}else currPos.currentAttributes.set(key,value);break}default:length<currPos.right.length&&getItemCleanStart(transaction,createID(currPos.right.id.client,currPos.right.id.clock+length)),length-=currPos.right.length}currPos.forward()}if(length>0){let newlines="";for(;length>0;length--)newlines+="\n";currPos.right=new Item(createID(ownClientId,getState(doc.store,ownClientId)),currPos.left,currPos.left&&currPos.left.lastId,currPos.right,currPos.right&&currPos.right.id,parent,null,new ContentString(newlines)),currPos.right.integrate(transaction,0),currPos.forward()}insertNegatedAttributes(transaction,parent,currPos,negatedAttributes)},cleanupFormattingGap=(transaction,start,curr,startAttributes,currAttributes)=>{let end=start;const endFormats=lib0_map.vt();for(;end&&(!end.countable||end.deleted);){if(!end.deleted&&end.content.constructor===ContentFormat){const cf=end.content;endFormats.set(cf.key,cf)}end=end.right}let cleanups=0,reachedCurr=!1;for(;start!==end;){if(curr===start&&(reachedCurr=!0),!start.deleted){const content=start.content;switch(content.constructor){case ContentFormat:{const{key,value}=content,startAttrValue=startAttributes.get(key)??null;endFormats.get(key)===content&&startAttrValue!==value||(start.delete(transaction),cleanups++,reachedCurr||(currAttributes.get(key)??null)!==value||startAttrValue===value||(null===startAttrValue?currAttributes.delete(key):currAttributes.set(key,startAttrValue))),reachedCurr||start.deleted||updateCurrentAttributes(currAttributes,content);break}}}start=start.right}return cleanups},cleanupYTextFormatting=type=>{let res=0;return transact(type.doc,(transaction=>{let start=type._start,end=type._start,startAttributes=lib0_map.vt();const currentAttributes=lib0_map.C(startAttributes);for(;end;){if(!1===end.deleted)if(end.content.constructor===ContentFormat)updateCurrentAttributes(currentAttributes,end.content);else res+=cleanupFormattingGap(transaction,start,end,startAttributes,currentAttributes),startAttributes=lib0_map.C(currentAttributes),start=end;end=end.right}})),res},cleanupYTextAfterTransaction=transaction=>{const needFullCleanup=new Set,doc=transaction.doc;for(const[client,afterClock]of transaction.afterState.entries()){const clock=transaction.beforeState.get(client)||0;afterClock!==clock&&iterateStructs(transaction,doc.store.clients.get(client),clock,afterClock,(item=>{item.deleted||item.content.constructor!==ContentFormat||item.constructor===GC||needFullCleanup.add(item.parent)}))}transact(doc,(t=>{iterateDeletedStructs(transaction,transaction.deleteSet,(item=>{if(item instanceof GC||!item.parent._hasFormatting||needFullCleanup.has(item.parent))return;const parent=item.parent;item.content.constructor===ContentFormat?needFullCleanup.add(parent):((transaction,item)=>{for(;item&&item.right&&(item.right.deleted||!item.right.countable);)item=item.right;const attrs=new Set;for(;item&&(item.deleted||!item.countable);){if(!item.deleted&&item.content.constructor===ContentFormat){const key=item.content.key;attrs.has(key)?item.delete(transaction):attrs.add(key)}item=item.left}})(t,item)}));for(const yText of needFullCleanup)cleanupYTextFormatting(yText)}))},deleteText=(transaction,currPos,length)=>{const startLength=length,startAttrs=lib0_map.C(currPos.currentAttributes),start=currPos.right;for(;length>0&&null!==currPos.right;){if(!1===currPos.right.deleted)switch(currPos.right.content.constructor){case ContentType:case ContentEmbed:case ContentString:length<currPos.right.length&&getItemCleanStart(transaction,createID(currPos.right.id.client,currPos.right.id.clock+length)),length-=currPos.right.length,currPos.right.delete(transaction)}currPos.forward()}start&&cleanupFormattingGap(transaction,start,currPos.right,startAttrs,currPos.currentAttributes);const parent=(currPos.left||currPos.right).parent;return parent._searchMarker&&updateMarkerChanges(parent._searchMarker,currPos.index,-startLength+length),currPos};class YTextEvent extends YEvent{constructor(ytext,transaction,subs){super(ytext,transaction),this.childListChanged=!1,this.keysChanged=new Set,subs.forEach((sub=>{null===sub?this.childListChanged=!0:this.keysChanged.add(sub)}))}get changes(){if(null===this._changes){const changes={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=changes}return this._changes}get delta(){if(null===this._delta){const y=this.target.doc,delta=[];transact(y,(transaction=>{const currentAttributes=new Map,oldAttributes=new Map;let item=this.target._start,action=null;const attributes={};let insert="",retain=0,deleteLen=0;const addOp=()=>{if(null!==action){let op=null;switch(action){case"delete":deleteLen>0&&(op={delete:deleteLen}),deleteLen=0;break;case"insert":("object"==typeof insert||insert.length>0)&&(op={insert},currentAttributes.size>0&&(op.attributes={},currentAttributes.forEach(((value,key)=>{null!==value&&(op.attributes[key]=value)})))),insert="";break;case"retain":retain>0&&(op={retain},object.Im(attributes)||(op.attributes=object.kp({},attributes))),retain=0}op&&delta.push(op),action=null}};for(;null!==item;){switch(item.content.constructor){case ContentType:case ContentEmbed:this.adds(item)?this.deletes(item)||(addOp(),action="insert",insert=item.content.getContent()[0],addOp()):this.deletes(item)?("delete"!==action&&(addOp(),action="delete"),deleteLen+=1):item.deleted||("retain"!==action&&(addOp(),action="retain"),retain+=1);break;case ContentString:this.adds(item)?this.deletes(item)||("insert"!==action&&(addOp(),action="insert"),insert+=item.content.str):this.deletes(item)?("delete"!==action&&(addOp(),action="delete"),deleteLen+=item.length):item.deleted||("retain"!==action&&(addOp(),action="retain"),retain+=item.length);break;case ContentFormat:{const{key,value}=item.content;if(this.adds(item)){if(!this.deletes(item)){const curVal=currentAttributes.get(key)??null;equalAttrs(curVal,value)?null!==value&&item.delete(transaction):("retain"===action&&addOp(),equalAttrs(value,oldAttributes.get(key)??null)?delete attributes[key]:attributes[key]=value)}}else if(this.deletes(item)){oldAttributes.set(key,value);const curVal=currentAttributes.get(key)??null;equalAttrs(curVal,value)||("retain"===action&&addOp(),attributes[key]=curVal)}else if(!item.deleted){oldAttributes.set(key,value);const attr=attributes[key];void 0!==attr&&(equalAttrs(attr,value)?null!==attr&&item.delete(transaction):("retain"===action&&addOp(),null===value?delete attributes[key]:attributes[key]=value))}item.deleted||("insert"===action&&addOp(),updateCurrentAttributes(currentAttributes,item.content));break}}item=item.right}for(addOp();delta.length>0;){const lastOp=delta[delta.length-1];if(void 0===lastOp.retain||void 0!==lastOp.attributes)break;delta.pop()}})),this._delta=delta}return this._delta}}class YText extends AbstractType{constructor(string){super(),this._pending=void 0!==string?[()=>this.insert(0,string)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(y,item){super._integrate(y,item);try{this._pending.forEach((f=>f()))}catch(e){console.error(e)}this._pending=null}_copy(){return new YText}clone(){const text=new YText;return text.applyDelta(this.toDelta()),text}_callObserver(transaction,parentSubs){super._callObserver(transaction,parentSubs);const event=new YTextEvent(this,transaction,parentSubs);callTypeObservers(this,transaction,event),!transaction.local&&this._hasFormatting&&(transaction._needFormattingCleanup=!0)}toString(){let str="",n=this._start;for(;null!==n;)!n.deleted&&n.countable&&n.content.constructor===ContentString&&(str+=n.content.str),n=n.right;return str}toJSON(){return this.toString()}applyDelta(delta,{sanitize=!0}={}){null!==this.doc?transact(this.doc,(transaction=>{const currPos=new ItemTextListPosition(null,this._start,0,new Map);for(let i=0;i<delta.length;i++){const op=delta[i];if(void 0!==op.insert){const ins=sanitize||"string"!=typeof op.insert||i!==delta.length-1||null!==currPos.right||"\n"!==op.insert.slice(-1)?op.insert:op.insert.slice(0,-1);("string"!=typeof ins||ins.length>0)&&insertText(transaction,this,currPos,ins,op.attributes||{})}else void 0!==op.retain?formatText(transaction,this,currPos,op.retain,op.attributes||{}):void 0!==op.delete&&deleteText(transaction,currPos,op.delete)}})):this._pending.push((()=>this.applyDelta(delta)))}toDelta(snapshot,prevSnapshot,computeYChange){const ops=[],currentAttributes=new Map,doc=this.doc;let str="",n=this._start;function packStr(){if(str.length>0){const attributes={};let addAttributes=!1;currentAttributes.forEach(((value,key)=>{addAttributes=!0,attributes[key]=value}));const op={insert:str};addAttributes&&(op.attributes=attributes),ops.push(op),str=""}}const computeDelta=()=>{for(;null!==n;){if(isVisible(n,snapshot)||void 0!==prevSnapshot&&isVisible(n,prevSnapshot))switch(n.content.constructor){case ContentString:{const cur=currentAttributes.get("ychange");void 0===snapshot||isVisible(n,snapshot)?void 0===prevSnapshot||isVisible(n,prevSnapshot)?void 0!==cur&&(packStr(),currentAttributes.delete("ychange")):void 0!==cur&&cur.user===n.id.client&&"added"===cur.type||(packStr(),currentAttributes.set("ychange",computeYChange?computeYChange("added",n.id):{type:"added"})):void 0!==cur&&cur.user===n.id.client&&"removed"===cur.type||(packStr(),currentAttributes.set("ychange",computeYChange?computeYChange("removed",n.id):{type:"removed"})),str+=n.content.str;break}case ContentType:case ContentEmbed:{packStr();const op={insert:n.content.getContent()[0]};if(currentAttributes.size>0){const attrs={};op.attributes=attrs,currentAttributes.forEach(((value,key)=>{attrs[key]=value}))}ops.push(op);break}case ContentFormat:isVisible(n,snapshot)&&(packStr(),updateCurrentAttributes(currentAttributes,n.content))}n=n.right}packStr()};return snapshot||prevSnapshot?transact(doc,(transaction=>{snapshot&&splitSnapshotAffectedStructs(transaction,snapshot),prevSnapshot&&splitSnapshotAffectedStructs(transaction,prevSnapshot),computeDelta()}),"cleanup"):computeDelta(),ops}insert(index,text,attributes){if(text.length<=0)return;const y=this.doc;null!==y?transact(y,(transaction=>{const pos=findPosition(transaction,this,index,!attributes);attributes||(attributes={},pos.currentAttributes.forEach(((v,k)=>{attributes[k]=v}))),insertText(transaction,this,pos,text,attributes)})):this._pending.push((()=>this.insert(index,text,attributes)))}insertEmbed(index,embed,attributes){const y=this.doc;null!==y?transact(y,(transaction=>{const pos=findPosition(transaction,this,index,!attributes);insertText(transaction,this,pos,embed,attributes||{})})):this._pending.push((()=>this.insertEmbed(index,embed,attributes||{})))}delete(index,length){if(0===length)return;const y=this.doc;null!==y?transact(y,(transaction=>{deleteText(transaction,findPosition(transaction,this,index,!0),length)})):this._pending.push((()=>this.delete(index,length)))}format(index,length,attributes){if(0===length)return;const y=this.doc;null!==y?transact(y,(transaction=>{const pos=findPosition(transaction,this,index,!1);null!==pos.right&&formatText(transaction,this,pos,length,attributes)})):this._pending.push((()=>this.format(index,length,attributes)))}removeAttribute(attributeName){null!==this.doc?transact(this.doc,(transaction=>{typeMapDelete(transaction,this,attributeName)})):this._pending.push((()=>this.removeAttribute(attributeName)))}setAttribute(attributeName,attributeValue){null!==this.doc?transact(this.doc,(transaction=>{typeMapSet(transaction,this,attributeName,attributeValue)})):this._pending.push((()=>this.setAttribute(attributeName,attributeValue)))}getAttribute(attributeName){return typeMapGet(this,attributeName)}getAttributes(){return typeMapGetAll(this)}_write(encoder){encoder.writeTypeRef(YTextRefID)}}class YXmlTreeWalker{constructor(root,f=(()=>!0)){this._filter=f,this._root=root,this._currentNode=root._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let n=this._currentNode,type=n&&n.content&&n.content.type;if(null!==n&&(!this._firstCall||n.deleted||!this._filter(type)))do{if(type=n.content.type,n.deleted||type.constructor!==YXmlElement&&type.constructor!==YXmlFragment||null===type._start)for(;null!==n;){if(null!==n.right){n=n.right;break}n=n.parent===this._root?null:n.parent._item}else n=type._start}while(null!==n&&(n.deleted||!this._filter(n.content.type)));return this._firstCall=!1,null===n?{value:void 0,done:!0}:(this._currentNode=n,{value:n.content.type,done:!1})}}class YXmlFragment extends AbstractType{constructor(){super(),this._prelimContent=[]}get firstChild(){const first=this._first;return first?first.content.getContent()[0]:null}_integrate(y,item){super._integrate(y,item),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new YXmlFragment}clone(){const el=new YXmlFragment;return el.insert(0,this.toArray().map((item=>item instanceof AbstractType?item.clone():item))),el}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(filter){return new YXmlTreeWalker(this,filter)}querySelector(query){query=query.toUpperCase();const next=new YXmlTreeWalker(this,(element=>element.nodeName&&element.nodeName.toUpperCase()===query)).next();return next.done?null:next.value}querySelectorAll(query){return query=query.toUpperCase(),array.HT(new YXmlTreeWalker(this,(element=>element.nodeName&&element.nodeName.toUpperCase()===query)))}_callObserver(transaction,parentSubs){callTypeObservers(this,transaction,new YXmlEvent(this,parentSubs,transaction))}toString(){return typeListMap(this,(xml=>xml.toString())).join("")}toJSON(){return this.toString()}toDOM(_document=document,hooks={},binding){const fragment=_document.createDocumentFragment();return void 0!==binding&&binding._createAssociation(fragment,this),typeListForEach(this,(xmlType=>{fragment.insertBefore(xmlType.toDOM(_document,hooks,binding),null)})),fragment}insert(index,content){null!==this.doc?transact(this.doc,(transaction=>{typeListInsertGenerics(transaction,this,index,content)})):this._prelimContent.splice(index,0,...content)}insertAfter(ref,content){if(null!==this.doc)transact(this.doc,(transaction=>{const refItem=ref&&ref instanceof AbstractType?ref._item:ref;typeListInsertGenericsAfter(transaction,this,refItem,content)}));else{const pc=this._prelimContent,index=null===ref?0:pc.findIndex((el=>el===ref))+1;if(0===index&&null!==ref)throw lib0_error.vt("Reference item not found");pc.splice(index,0,...content)}}delete(index,length=1){null!==this.doc?transact(this.doc,(transaction=>{typeListDelete(transaction,this,index,length)})):this._prelimContent.splice(index,length)}toArray(){return typeListToArray(this)}push(content){this.insert(this.length,content)}unshift(content){this.insert(0,content)}get(index){return typeListGet(this,index)}slice(start=0,end=this.length){return typeListSlice(this,start,end)}forEach(f){typeListForEach(this,f)}_write(encoder){encoder.writeTypeRef(YXmlFragmentRefID)}}class YXmlElement extends YXmlFragment{constructor(nodeName="UNDEFINED"){super(),this.nodeName=nodeName,this._prelimAttrs=new Map}get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_integrate(y,item){super._integrate(y,item),this._prelimAttrs.forEach(((value,key)=>{this.setAttribute(key,value)})),this._prelimAttrs=null}_copy(){return new YXmlElement(this.nodeName)}clone(){const el=new YXmlElement(this.nodeName),attrs=this.getAttributes();return object.jJ(attrs,((value,key)=>{"string"==typeof value&&el.setAttribute(key,value)})),el.insert(0,this.toArray().map((item=>item instanceof AbstractType?item.clone():item))),el}toString(){const attrs=this.getAttributes(),stringBuilder=[],keys=[];for(const key in attrs)keys.push(key);keys.sort();const keysLen=keys.length;for(let i=0;i<keysLen;i++){const key=keys[i];stringBuilder.push(key+'="'+attrs[key]+'"')}const nodeName=this.nodeName.toLocaleLowerCase();return`<${nodeName}${stringBuilder.length>0?" "+stringBuilder.join(" "):""}>${super.toString()}</${nodeName}>`}removeAttribute(attributeName){null!==this.doc?transact(this.doc,(transaction=>{typeMapDelete(transaction,this,attributeName)})):this._prelimAttrs.delete(attributeName)}setAttribute(attributeName,attributeValue){null!==this.doc?transact(this.doc,(transaction=>{typeMapSet(transaction,this,attributeName,attributeValue)})):this._prelimAttrs.set(attributeName,attributeValue)}getAttribute(attributeName){return typeMapGet(this,attributeName)}hasAttribute(attributeName){return typeMapHas(this,attributeName)}getAttributes(snapshot){return snapshot?((parent,snapshot)=>{const res={};return parent._map.forEach(((value,key)=>{let v=value;for(;null!==v&&(!snapshot.sv.has(v.id.client)||v.id.clock>=(snapshot.sv.get(v.id.client)||0));)v=v.left;null!==v&&isVisible(v,snapshot)&&(res[key]=v.content.getContent()[v.length-1])})),res})(this,snapshot):typeMapGetAll(this)}toDOM(_document=document,hooks={},binding){const dom=_document.createElement(this.nodeName),attrs=this.getAttributes();for(const key in attrs){const value=attrs[key];"string"==typeof value&&dom.setAttribute(key,value)}return typeListForEach(this,(yxml=>{dom.appendChild(yxml.toDOM(_document,hooks,binding))})),void 0!==binding&&binding._createAssociation(dom,this),dom}_write(encoder){encoder.writeTypeRef(YXmlElementRefID),encoder.writeKey(this.nodeName)}}class YXmlEvent extends YEvent{constructor(target,subs,transaction){super(target,transaction),this.childListChanged=!1,this.attributesChanged=new Set,subs.forEach((sub=>{null===sub?this.childListChanged=!0:this.attributesChanged.add(sub)}))}}class YXmlHook extends YMap{constructor(hookName){super(),this.hookName=hookName}_copy(){return new YXmlHook(this.hookName)}clone(){const el=new YXmlHook(this.hookName);return this.forEach(((value,key)=>{el.set(key,value)})),el}toDOM(_document=document,hooks={},binding){const hook=hooks[this.hookName];let dom;return dom=void 0!==hook?hook.createDom(this):document.createElement(this.hookName),dom.setAttribute("data-yjs-hook",this.hookName),void 0!==binding&&binding._createAssociation(dom,this),dom}_write(encoder){encoder.writeTypeRef(YXmlHookRefID),encoder.writeKey(this.hookName)}}class YXmlText extends YText{get nextSibling(){const n=this._item?this._item.next:null;return n?n.content.type:null}get prevSibling(){const n=this._item?this._item.prev:null;return n?n.content.type:null}_copy(){return new YXmlText}clone(){const text=new YXmlText;return text.applyDelta(this.toDelta()),text}toDOM(_document=document,hooks,binding){const dom=_document.createTextNode(this.toString());return void 0!==binding&&binding._createAssociation(dom,this),dom}toString(){return this.toDelta().map((delta=>{const nestedNodes=[];for(const nodeName in delta.attributes){const attrs=[];for(const key in delta.attributes[nodeName])attrs.push({key,value:delta.attributes[nodeName][key]});attrs.sort(((a,b)=>a.key<b.key?-1:1)),nestedNodes.push({nodeName,attrs})}nestedNodes.sort(((a,b)=>a.nodeName<b.nodeName?-1:1));let str="";for(let i=0;i<nestedNodes.length;i++){const node=nestedNodes[i];str+=`<${node.nodeName}`;for(let j=0;j<node.attrs.length;j++){const attr=node.attrs[j];str+=` ${attr.key}="${attr.value}"`}str+=">"}str+=delta.insert;for(let i=nestedNodes.length-1;i>=0;i--)str+=`</${nestedNodes[i].nodeName}>`;return str})).join("")}toJSON(){return this.toString()}_write(encoder){encoder.writeTypeRef(YXmlTextRefID)}}class AbstractStruct{constructor(id,length){this.id=id,this.length=length}get deleted(){throw lib0_error.bD()}mergeWith(right){return!1}write(encoder,offset,encodingRef){throw lib0_error.bD()}integrate(transaction,offset){throw lib0_error.bD()}}class GC extends AbstractStruct{get deleted(){return!0}delete(){}mergeWith(right){return this.constructor===right.constructor&&(this.length+=right.length,!0)}integrate(transaction,offset){offset>0&&(this.id.clock+=offset,this.length-=offset),addStruct(transaction.doc.store,this)}write(encoder,offset){encoder.writeInfo(0),encoder.writeLen(this.length-offset)}getMissing(transaction,store){return null}}class ContentBinary{constructor(content){this.content=content}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new ContentBinary(this.content)}splice(offset){throw lib0_error.bD()}mergeWith(right){return!1}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeBuf(this.content)}getRef(){return 3}}class ContentDeleted{constructor(len){this.len=len}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new ContentDeleted(this.len)}splice(offset){const right=new ContentDeleted(this.len-offset);return this.len=offset,right}mergeWith(right){return this.len+=right.len,!0}integrate(transaction,item){addToDeleteSet(transaction.deleteSet,item.id.client,item.id.clock,this.len),item.markDeleted()}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeLen(this.len-offset)}getRef(){return 1}}const createDocFromOpts=(guid,opts)=>new Doc({guid,...opts,shouldLoad:opts.shouldLoad||opts.autoLoad||!1});class ContentDoc{constructor(doc){doc._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=doc;const opts={};this.opts=opts,doc.gc||(opts.gc=!1),doc.autoLoad&&(opts.autoLoad=!0),null!==doc.meta&&(opts.meta=doc.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new ContentDoc(createDocFromOpts(this.doc.guid,this.opts))}splice(offset){throw lib0_error.bD()}mergeWith(right){return!1}integrate(transaction,item){this.doc._item=item,transaction.subdocsAdded.add(this.doc),this.doc.shouldLoad&&transaction.subdocsLoaded.add(this.doc)}delete(transaction){transaction.subdocsAdded.has(this.doc)?transaction.subdocsAdded.delete(this.doc):transaction.subdocsRemoved.add(this.doc)}gc(store){}write(encoder,offset){encoder.writeString(this.doc.guid),encoder.writeAny(this.opts)}getRef(){return 9}}class ContentEmbed{constructor(embed){this.embed=embed}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ContentEmbed(this.embed)}splice(offset){throw lib0_error.bD()}mergeWith(right){return!1}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeJSON(this.embed)}getRef(){return 5}}class ContentFormat{constructor(key,value){this.key=key,this.value=value}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new ContentFormat(this.key,this.value)}splice(_offset){throw lib0_error.bD()}mergeWith(_right){return!1}integrate(_transaction,item){const p=item.parent;p._searchMarker=null,p._hasFormatting=!0}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeKey(this.key),encoder.writeJSON(this.value)}getRef(){return 6}}class ContentJSON{constructor(arr){this.arr=arr}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ContentJSON(this.arr)}splice(offset){const right=new ContentJSON(this.arr.slice(offset));return this.arr=this.arr.slice(0,offset),right}mergeWith(right){return this.arr=this.arr.concat(right.arr),!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){const len=this.arr.length;encoder.writeLen(len-offset);for(let i=offset;i<len;i++){const c=this.arr[i];encoder.writeString(void 0===c?"undefined":JSON.stringify(c))}}getRef(){return 2}}class ContentAny{constructor(arr){this.arr=arr}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ContentAny(this.arr)}splice(offset){const right=new ContentAny(this.arr.slice(offset));return this.arr=this.arr.slice(0,offset),right}mergeWith(right){return this.arr=this.arr.concat(right.arr),!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){const len=this.arr.length;encoder.writeLen(len-offset);for(let i=offset;i<len;i++){const c=this.arr[i];encoder.writeAny(c)}}getRef(){return 8}}class ContentString{constructor(str){this.str=str}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ContentString(this.str)}splice(offset){const right=new ContentString(this.str.slice(offset));this.str=this.str.slice(0,offset);const firstCharCode=this.str.charCodeAt(offset-1);return firstCharCode>=55296&&firstCharCode<=56319&&(this.str=this.str.slice(0,offset-1)+"�",right.str="�"+right.str.slice(1)),right}mergeWith(right){return this.str+=right.str,!0}integrate(transaction,item){}delete(transaction){}gc(store){}write(encoder,offset){encoder.writeString(0===offset?this.str:this.str.slice(offset))}getRef(){return 4}}const typeRefs=[_decoder=>new YArray,_decoder=>new YMap,_decoder=>new YText,decoder=>new YXmlElement(decoder.readKey()),_decoder=>new YXmlFragment,decoder=>new YXmlHook(decoder.readKey()),decoder=>new YXmlText],YArrayRefID=0,YMapRefID=1,YTextRefID=2,YXmlElementRefID=3,YXmlFragmentRefID=4,YXmlHookRefID=5,YXmlTextRefID=6;class ContentType{constructor(type){this.type=type}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ContentType(this.type._copy())}splice(offset){throw lib0_error.bD()}mergeWith(right){return!1}integrate(transaction,item){this.type._integrate(transaction.doc,item)}delete(transaction){let item=this.type._start;for(;null!==item;)item.deleted?item.id.clock<(transaction.beforeState.get(item.id.client)||0)&&transaction._mergeStructs.push(item):item.delete(transaction),item=item.right;this.type._map.forEach((item=>{item.deleted?item.id.clock<(transaction.beforeState.get(item.id.client)||0)&&transaction._mergeStructs.push(item):item.delete(transaction)})),transaction.changed.delete(this.type)}gc(store){let item=this.type._start;for(;null!==item;)item.gc(store,!0),item=item.right;this.type._start=null,this.type._map.forEach((item=>{for(;null!==item;)item.gc(store,!0),item=item.left})),this.type._map=new Map}write(encoder,offset){this.type._write(encoder)}getRef(){return 7}}const followRedone=(store,id)=>{let item,nextID=id,diff=0;do{diff>0&&(nextID=createID(nextID.client,nextID.clock+diff)),item=getItem(store,nextID),diff=nextID.clock-item.id.clock,nextID=item.redone}while(null!==nextID&&item instanceof Item);return{item,diff}},keepItem=(item,keep)=>{for(;null!==item&&item.keep!==keep;)item.keep=keep,item=item.parent._item},splitItem=(transaction,leftItem,diff)=>{const{client,clock}=leftItem.id,rightItem=new Item(createID(client,clock+diff),leftItem,createID(client,clock+diff-1),leftItem.right,leftItem.rightOrigin,leftItem.parent,leftItem.parentSub,leftItem.content.splice(diff));return leftItem.deleted&&rightItem.markDeleted(),leftItem.keep&&(rightItem.keep=!0),null!==leftItem.redone&&(rightItem.redone=createID(leftItem.redone.client,leftItem.redone.clock+diff)),leftItem.right=rightItem,null!==rightItem.right&&(rightItem.right.left=rightItem),transaction._mergeStructs.push(rightItem),null!==rightItem.parentSub&&null===rightItem.right&&rightItem.parent._map.set(rightItem.parentSub,rightItem),leftItem.length=diff,rightItem},isDeletedByUndoStack=(stack,id)=>array.zN(stack,(s=>isDeleted(s.deletions,id))),redoItem=(transaction,item,redoitems,itemsToDelete,ignoreRemoteMapChanges,um)=>{const doc=transaction.doc,store=doc.store,ownClientID=doc.clientID,redone=item.redone;if(null!==redone)return getItemCleanStart(transaction,redone);let right,parentItem=item.parent._item,left=null;if(null!==parentItem&&!0===parentItem.deleted){if(null===parentItem.redone&&(!redoitems.has(parentItem)||null===redoItem(transaction,parentItem,redoitems,itemsToDelete,ignoreRemoteMapChanges,um)))return null;for(;null!==parentItem.redone;)parentItem=getItemCleanStart(transaction,parentItem.redone)}const parentType=null===parentItem?item.parent:parentItem.content.type;if(null===item.parentSub){for(left=item.left,right=item;null!==left;){let leftTrace=left;for(;null!==leftTrace&&leftTrace.parent._item!==parentItem;)leftTrace=null===leftTrace.redone?null:getItemCleanStart(transaction,leftTrace.redone);if(null!==leftTrace&&leftTrace.parent._item===parentItem){left=leftTrace;break}left=left.left}for(;null!==right;){let rightTrace=right;for(;null!==rightTrace&&rightTrace.parent._item!==parentItem;)rightTrace=null===rightTrace.redone?null:getItemCleanStart(transaction,rightTrace.redone);if(null!==rightTrace&&rightTrace.parent._item===parentItem){right=rightTrace;break}right=right.right}}else if(right=null,item.right&&!ignoreRemoteMapChanges){for(left=item;null!==left&&null!==left.right&&(left.right.redone||isDeleted(itemsToDelete,left.right.id)||isDeletedByUndoStack(um.undoStack,left.right.id)||isDeletedByUndoStack(um.redoStack,left.right.id));)for(left=left.right;left.redone;)left=getItemCleanStart(transaction,left.redone);if(left&&null!==left.right)return null}else left=parentType._map.get(item.parentSub)||null;const nextClock=getState(store,ownClientID),nextId=createID(ownClientID,nextClock),redoneItem=new Item(nextId,left,left&&left.lastId,right,right&&right.id,parentType,item.parentSub,item.content.copy());return item.redone=nextId,keepItem(redoneItem,!0),redoneItem.integrate(transaction,0),redoneItem};class Item extends AbstractStruct{constructor(id,left,origin,right,rightOrigin,parent,parentSub,content){super(id,content.getLength()),this.origin=origin,this.left=left,this.right=right,this.rightOrigin=rightOrigin,this.parent=parent,this.parentSub=parentSub,this.redone=null,this.content=content,this.info=this.content.isCountable()?lib0_binary.KD:0}set marker(isMarked){(this.info&lib0_binary.wn)>0!==isMarked&&(this.info^=lib0_binary.wn)}get marker(){return(this.info&lib0_binary.wn)>0}get keep(){return(this.info&lib0_binary.Dk)>0}set keep(doKeep){this.keep!==doKeep&&(this.info^=lib0_binary.Dk)}get countable(){return(this.info&lib0_binary.KD)>0}get deleted(){return(this.info&lib0_binary.D1)>0}set deleted(doDelete){this.deleted!==doDelete&&(this.info^=lib0_binary.D1)}markDeleted(){this.info|=lib0_binary.D1}getMissing(transaction,store){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=getState(store,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=getState(store,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ID&&this.id.client!==this.parent.client&&this.parent.clock>=getState(store,this.parent.client))return this.parent.client;if(this.origin&&(this.left=getItemCleanEnd(transaction,store,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=getItemCleanStart(transaction,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===GC||this.right&&this.right.constructor===GC)this.parent=null;else if(this.parent){if(this.parent.constructor===ID){const parentItem=getItem(store,this.parent);parentItem.constructor===GC?this.parent=null:this.parent=parentItem.content.type}}else this.left&&this.left.constructor===Item&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Item&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(transaction,offset){if(offset>0&&(this.id.clock+=offset,this.left=getItemCleanEnd(transaction,transaction.doc.store,createID(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(offset),this.length-=offset),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let o,left=this.left;if(null!==left)o=left.right;else if(null!==this.parentSub)for(o=this.parent._map.get(this.parentSub)||null;null!==o&&null!==o.left;)o=o.left;else o=this.parent._start;const conflictingItems=new Set,itemsBeforeOrigin=new Set;for(;null!==o&&o!==this.right;){if(itemsBeforeOrigin.add(o),conflictingItems.add(o),compareIDs(this.origin,o.origin)){if(o.id.client<this.id.client)left=o,conflictingItems.clear();else if(compareIDs(this.rightOrigin,o.rightOrigin))break}else{if(null===o.origin||!itemsBeforeOrigin.has(getItem(transaction.doc.store,o.origin)))break;conflictingItems.has(getItem(transaction.doc.store,o.origin))||(left=o,conflictingItems.clear())}o=o.right}this.left=left}if(null!==this.left){const right=this.left.right;this.right=right,this.left.right=this}else{let r;if(null!==this.parentSub)for(r=this.parent._map.get(this.parentSub)||null;null!==r&&null!==r.left;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(transaction)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),addStruct(transaction.doc.store,this),this.content.integrate(transaction,this),addChangedTypeToTransaction(transaction,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(transaction)}else new GC(this.id,this.length).integrate(transaction,0)}get next(){let n=this.right;for(;null!==n&&n.deleted;)n=n.right;return n}get prev(){let n=this.left;for(;null!==n&&n.deleted;)n=n.left;return n}get lastId(){return 1===this.length?this.id:createID(this.id.client,this.id.clock+this.length-1)}mergeWith(right){if(this.constructor===right.constructor&&compareIDs(right.origin,this.lastId)&&this.right===right&&compareIDs(this.rightOrigin,right.rightOrigin)&&this.id.client===right.id.client&&this.id.clock+this.length===right.id.clock&&this.deleted===right.deleted&&null===this.redone&&null===right.redone&&this.content.constructor===right.content.constructor&&this.content.mergeWith(right.content)){const searchMarker=this.parent._searchMarker;return searchMarker&&searchMarker.forEach((marker=>{marker.p===right&&(marker.p=this,!this.deleted&&this.countable&&(marker.index-=this.length))})),right.keep&&(this.keep=!0),this.right=right.right,null!==this.right&&(this.right.left=this),this.length+=right.length,!0}return!1}delete(transaction){if(!this.deleted){const parent=this.parent;this.countable&&null===this.parentSub&&(parent._length-=this.length),this.markDeleted(),addToDeleteSet(transaction.deleteSet,this.id.client,this.id.clock,this.length),addChangedTypeToTransaction(transaction,parent,this.parentSub),this.content.delete(transaction)}}gc(store,parentGCd){if(!this.deleted)throw lib0_error.Mq();this.content.gc(store),parentGCd?((store,struct,newStruct)=>{const structs=store.clients.get(struct.id.client);structs[findIndexSS(structs,struct.id.clock)]=newStruct})(store,this,new GC(this.id,this.length)):this.content=new ContentDeleted(this.length)}write(encoder,offset){const origin=offset>0?createID(this.id.client,this.id.clock+offset-1):this.origin,rightOrigin=this.rightOrigin,parentSub=this.parentSub,info=this.content.getRef()&lib0_binary.WY|(null===origin?0:lib0_binary.wt)|(null===rightOrigin?0:lib0_binary.D7)|(null===parentSub?0:lib0_binary.KJ);if(encoder.writeInfo(info),null!==origin&&encoder.writeLeftID(origin),null!==rightOrigin&&encoder.writeRightID(rightOrigin),null===origin&&null===rightOrigin){const parent=this.parent;if(void 0!==parent._item){const parentItem=parent._item;if(null===parentItem){const ykey=findRootTypeKey(parent);encoder.writeParentInfo(!0),encoder.writeString(ykey)}else encoder.writeParentInfo(!1),encoder.writeLeftID(parentItem.id)}else parent.constructor===String?(encoder.writeParentInfo(!0),encoder.writeString(parent)):parent.constructor===ID?(encoder.writeParentInfo(!1),encoder.writeLeftID(parent)):lib0_error.Mq();null!==parentSub&&encoder.writeString(parentSub)}this.content.write(encoder,offset)}}const readItemContent=(decoder,info)=>contentRefs[info&lib0_binary.WY](decoder),contentRefs=[()=>{lib0_error.Mq()},decoder=>new ContentDeleted(decoder.readLen()),decoder=>{const len=decoder.readLen(),cs=[];for(let i=0;i<len;i++){const c=decoder.readString();"undefined"===c?cs.push(void 0):cs.push(JSON.parse(c))}return new ContentJSON(cs)},decoder=>new ContentBinary(decoder.readBuf()),decoder=>new ContentString(decoder.readString()),decoder=>new ContentEmbed(decoder.readJSON()),decoder=>new ContentFormat(decoder.readKey(),decoder.readJSON()),decoder=>new ContentType(typeRefs[decoder.readTypeRef()](decoder)),decoder=>{const len=decoder.readLen(),cs=[];for(let i=0;i<len;i++)cs.push(decoder.readAny());return new ContentAny(cs)},decoder=>new ContentDoc(createDocFromOpts(decoder.readString(),decoder.readAny())),()=>{lib0_error.Mq()}];class Skip extends AbstractStruct{get deleted(){return!0}delete(){}mergeWith(right){return this.constructor===right.constructor&&(this.length+=right.length,!0)}integrate(transaction,offset){lib0_error.Mq()}write(encoder,offset){encoder.writeInfo(10),lib0_encoding.zd(encoder.restEncoder,this.length-offset)}getMissing(transaction,store){return null}}const glo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:{};!0===glo["__ $YJS$ __"]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),glo["__ $YJS$ __"]=!0}}]);